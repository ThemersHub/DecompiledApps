var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.checkEs6ConformanceViaProxy=function(){try{var a={},b=Object.create(new $jscomp.global.Proxy(a,{get:function(c,d,e){return c==a&&"q"==d&&e==b}}));return!0===b.q}catch(c){return!1}};$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1;
$jscomp.ES6_CONFORMANCE=$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&$jscomp.checkEs6ConformanceViaProxy();$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var a=0;return function(b){return $jscomp.SYMBOL_PREFIX+(b||"")+a++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var b=0;return $jscomp.iteratorPrototype(function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.makeIterator=function(a){$jscomp.initSymbolIterator();var b=a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};$jscomp.owns=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};
$jscomp.polyfill=function(a,b,c,d){if(b){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})}};
$jscomp.polyfill("WeakMap",function(a){function b(){if(!a||!Object.seal)return!1;try{var b=Object.seal({}),c=Object.seal({}),d=new a([[b,2],[c,3]]);if(2!=d.get(b)||3!=d.get(c))return!1;d["delete"](b);d.set(c,4);return!d.has(b)&&4==d.get(c)}catch(l){return!1}}function c(a){$jscomp.owns(a,e)||$jscomp.defineProperty(a,e,{value:{}})}function d(a){var b=Object[a];b&&(Object[a]=function(a){c(a);return b(a)})}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(a&&$jscomp.ES6_CONFORMANCE)return a}else if(b())return a;
var e="$jscomp_hidden_"+Math.random();d("freeze");d("preventExtensions");d("seal");var f=0,g=function(a){this.id_=(f+=Math.random()+1).toString();if(a){$jscomp.initSymbol();$jscomp.initSymbolIterator();a=$jscomp.makeIterator(a);for(var b;!(b=a.next()).done;)b=b.value,this.set(b[0],b[1])}};g.prototype.set=function(a,b){c(a);if(!$jscomp.owns(a,e))throw Error("WeakMap key fail: "+a);a[e][this.id_]=b;return this};g.prototype.get=function(a){return $jscomp.owns(a,e)?a[e][this.id_]:void 0};g.prototype.has=
function(a){return $jscomp.owns(a,e)&&$jscomp.owns(a[e],this.id_)};g.prototype["delete"]=function(a){return $jscomp.owns(a,e)&&$jscomp.owns(a[e],this.id_)?delete a[e][this.id_]:!1};return g},"es6","es3");$jscomp.MapEntry=function(){};
$jscomp.polyfill("Map",function(a){function b(){if($jscomp.ASSUME_NO_NATIVE_MAP||!a||"function"!=typeof a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var b=Object.seal({x:4}),c=new a($jscomp.makeIterator([[b,"s"]]));if("s"!=c.get(b)||1!=c.size||c.get({x:4})||c.set({x:4},"t")!=c||2!=c.size)return!1;var d=c.entries(),e=d.next();if(e.done||e.value[0]!=b||"s"!=e.value[1])return!1;e=d.next();return e.done||4!=e.value[0].x||"t"!=e.value[1]||!d.next().done?!1:!0}catch(n){return!1}}
if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(a&&$jscomp.ES6_CONFORMANCE)return a}else if(b())return a;$jscomp.initSymbol();$jscomp.initSymbolIterator();var c=new WeakMap,d=function(a){this.data_={};this.head_=g();this.size=0;if(a){a=$jscomp.makeIterator(a);for(var b;!(b=a.next()).done;)b=b.value,this.set(b[0],b[1])}};d.prototype.set=function(a,b){a=0===a?0:a;var c=e(this,a);c.list||(c.list=this.data_[c.id]=[]);c.entry?c.entry.value=b:(c.entry={next:this.head_,previous:this.head_.previous,head:this.head_,
key:a,value:b},c.list.push(c.entry),this.head_.previous.next=c.entry,this.head_.previous=c.entry,this.size++);return this};d.prototype["delete"]=function(a){a=e(this,a);return a.entry&&a.list?(a.list.splice(a.index,1),a.list.length||delete this.data_[a.id],a.entry.previous.next=a.entry.next,a.entry.next.previous=a.entry.previous,a.entry.head=null,this.size--,!0):!1};d.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=g();this.size=0};d.prototype.has=function(a){return!!e(this,
a).entry};d.prototype.get=function(a){return(a=e(this,a).entry)&&a.value};d.prototype.entries=function(){return f(this,function(a){return[a.key,a.value]})};d.prototype.keys=function(){return f(this,function(a){return a.key})};d.prototype.values=function(){return f(this,function(a){return a.value})};d.prototype.forEach=function(a,b){for(var c=this.entries(),d;!(d=c.next()).done;)d=d.value,a.call(b,d[1],d[0],this)};d.prototype[Symbol.iterator]=d.prototype.entries;var e=function(a,b){var d=b&&typeof b;
"object"==d||"function"==d?c.has(b)?d=c.get(b):(d=""+ ++h,c.set(b,d)):d="p_"+b;var e=a.data_[d];if(e&&$jscomp.owns(a.data_,d))for(a=0;a<e.length;a++){var f=e[a];if(b!==b&&f.key!==f.key||b===f.key)return{id:d,list:e,index:a,entry:f}}return{id:d,list:e,index:-1,entry:void 0}},f=function(a,b){var c=a.head_;return $jscomp.iteratorPrototype(function(){if(c){for(;c.head!=a.head_;)c=c.previous;for(;c.next!=c.head;)return c=c.next,{done:!1,value:b(c)};c=null}return{done:!0,value:void 0}})},g=function(){var a=
{};return a.previous=a.next=a.head=a},h=0;return d},"es6","es3");var BLOCKED_SRC_ATTR="blocked-src",gImageLoadElements=[],gScaleInfo,gImagesToLoad=0,TRANSFORM_MINIMUM_EFFECTIVE_RATIO=.7,DEBUG_DISPLAY_TRANSFORMS=!1,gTransformText={},imageNodeToActionLogMap=new Map,isDef=function(a){return void 0!==a};function getTotalOffset(a){for(var b={left:0,top:0};a;)b.left+=a.offsetLeft,b.top+=a.offsetTop,a=a.offsetParent;return b}
function getAncestorByClassName(a,b){for(;a&&(!a.classList||!a.classList.contains(b));)a=a.parentNode;return a||null}function getAncestorByTagName(a,b){for(;a&&(!a.tagName||a.tagName.toLowerCase()!==b);)a=a.parentNode;return a||null}function getCachedValue(a,b,c){a.hasAttribute(c)?b=a.getAttribute(c):(b=a[b],a.setAttribute(c,b));return b}function onToggleMessageClick(a){onToggleClick(a,!1)}function onToggleQuotedClick(a){onToggleClick(a,!0)}
function onToggleClick(a,b){toggleNextElement(a.target,b);measurePositions(!1)}function toggleNextElement(a,b){var c=a.nextSibling,d="none"==getComputedStyle(c).display;a.innerHTML=getToggleText(d,b);c.style.display=d?"block":"none";d&&normalizeElementWidths([c])}function getToggleText(a,b){return b?a?MSG_HIDE_ELIDED:MSG_SHOW_ELIDED:a?MSG_HIDE_ORIGINAL:MSG_SHOW_ORIGINAL}
function collapseAllQuotedText(){processCollapsedMessageBodies(document.documentElement);processQuotedText(document.documentElement,!1)}function processCollapsedMessageBodies(a){a=a.getElementsByClassName("mail-message-toggle");for(var b=0,c;c=a[b];b++)c.innerHTML=MSG_SHOW_ORIGINAL,c.onclick=onToggleMessageClick}
function processQuotedText(a,b){a=a.getElementsByClassName("elided-text");for(var c,d=0,e;e=a[d];d++)c=document.createElement("div"),c.className="mail-elided-text",c.innerHTML=MSG_SHOW_ELIDED,c.setAttribute("dir","auto"),c.onclick=onToggleQuotedClick,e.style.display="none",e.parentNode.insertBefore(c,e),b&&toggleNextElement(c,!0)}function isConversationEmpty(a){var b;var c=0;for(b=a.length;c<b;c++){var d=a[c];d=d.textContent||d.innerText;if(0<d.trim().length)return!1}return!0}
function reloadImage(a){a=document.querySelectorAll('img[src="'+a+'"]');for(var b=0;b<a.length;b++)a[b].src=a[b].src}function normalizeAllMessageWidths(){var a=document.querySelectorAll(".expanded > .mail-message-content");var b=isConversationEmpty(a);normalizeElementWidths(a);a=document.getElementById("meta-viewport");var c=[a.getAttribute("content")];b?c.push(a.getAttribute("data-zoom-off")):c.push(a.getAttribute("data-zoom-on"));a.setAttribute("content",c.join(","))}
function normalizeElementWidths(a){var b,c;var d=document.body.offsetWidth;for(b=0;b<a.length;b++){var e=a[b];if(c=e.style.zoom)e.style.zoom=1;if(!transformContent(e,d,e.scrollWidth)&&NORMALIZE_MESSAGE_WIDTHS){c=e.scrollWidth;c=c>d?d/c:1;var f=e.classList.contains("mail-message-content")?1:(f=getAncestorByClassName(e,"mail-message-content"))?f.style.zoom:1;e.style.zoom=c/f}}}
function transformContent(a,b,c){var d=c;var e=[],f=[],g=!1,h=[];if(c<=b)return!0;var m=Date.now();if(a.parentElement.classList.contains("mail-message")){var k=a.parentElement.id;var l="[origW="+c+"/"+b}d=!1;d=ENABLE_MUNGE_TABLES?a.querySelectorAll("div[style], textarea[style]"):[];if(d=transformBlockElements(d,b,e))d=a.scrollWidth,console.log("ran div-width munger on el="+a+" oldW="+c+" newW="+d+" docW="+b),k&&(l+=" DIV:newW="+d),d<=b&&(g=!0);!g&&(d=ENABLE_MUNGE_IMAGES?a.querySelectorAll("img"):
[],d=transformImages(d,b,e))&&(d=a.scrollWidth,console.log("ran img munger on el="+a+" oldW="+c+" newW="+d+" docW="+b),k&&(l+=" IMG:newW="+d),d<=b&&(g=!0));!g&&(d=ENABLE_MUNGE_TABLES?a.querySelectorAll("table"):[],d=addClassToElements(d,shouldMungeTable,"munged",f))&&(d=a.scrollWidth,console.log("ran table munger on el="+a+" oldW="+c+" newW="+d+" docW="+b),k&&(l+=" TABLE:newW="+d),d<=b&&(g=!0));!g&&(d=ENABLE_MUNGE_TABLES?a.querySelectorAll("td"):[],d=addClassToElements(d,null,"munged",f))&&(d=a.scrollWidth,
console.log("ran td munger on el="+a+" oldW="+c+" newW="+d+" docW="+b),k&&(l+=" TD:newW="+d),d<=b?g=!0:(console.log("Revert table and td munger because it didn't help"),undoActions(f)));!g&&NORMALIZE_MESSAGE_WIDTHS&&(f=document.querySelectorAll("table"),h=zoomOutTables(f,b,e),0<h.length&&(h.forEach(function(a){a.node.style.display="none"}),d=a.scrollWidth,console.log("ran table zoom on el="+a+" oldW="+c+" newW="+d+" docW="+b),k&&(l+=" TABLEZOOM:newW="+d),d<=b&&(g=!0),h.forEach(function(a){a.node.style.display=
a.displayStyle})));if(g)return k&&(l+="]",l=(b=gTransformText[k])?b+" "+l:"Message transforms: "+l,gTransformText[k]=l,window.mail.onMessageTransform(k,l),DEBUG_DISPLAY_TRANSFORMS&&(k=a.firstChild,k.classList&&k.classList.contains("transform-text")||(k=document.createElement("div"),k.classList.add("transform-text"),k.style.fontSize="10px",k.style.color="#ccc",a.insertBefore(k,a.firstChild)),k.innerHTML=l+"<br>")),console.log("munger(s) succeeded, elapsed time="+(Date.now()-m)),!0;undoActions(e);0<
e.length&&console.log("all mungers failed, changes reversed. elapsed time="+(Date.now()-m));return!1}function undoActions(a){for(var b=0,c;c=a[b];b++)c[0].apply(c[1],c[2])}function addClassToElements(a,b,c,d){var e,f=!1;var g=0;for(e=a.length;g<e;g++){var h=a[g];b&&!b(h)||h.classList.contains(c)||(h.classList.add(c),f=!0,d.push([h.classList.remove,h.classList,[c]]))}return f}
function transformBlockElements(a,b,c){var d,e,f=!1;var g=0;for(d=a.length;g<d;g++){var h=a[g];var m=(e=h.style.width||h.style.minWidth)?e.indexOf("px"):-1;0<=m&&e.slice(0,m)>b&&(saveStyleProperty(h,"width",c),saveStyleProperty(h,"minWidth",c),saveStyleProperty(h,"maxWidth",c),h.style.width="100%",h.style.minWidth="",h.style.maxWidth=e,f=!0)}return f}
function transformImages(a,b,c){var d,e=!1,f=[];var g=0;for(d=a.length;g<d;g++){var h=a[g];if(!getAncestorByTagName(h,"table")){var m=h.offsetWidth;var k=h.offsetHeight;var l=h.getAttribute(BLOCKED_SRC_ATTR);var p=getMarginWidth(h);var n=l?2:0;m+p>b&&(l?(saveStyleProperty(h,"maxWidth",f),saveStyleProperty(h,"width",f),imageNodeToActionLogMap.set(h,f)):(saveStyleProperty(h,"maxWidth",c),saveStyleProperty(h,"width",c),saveStyleProperty(h,"height",c)),h.style.maxWidth=b-p-n+"px",h.style.width="100%",
null==l&&(h.style.height=5>k?k:"auto"),e=!0)}}return e}function getMarginWidth(a){var b=a.style.marginLeft;var c=a.style.marginRight;var d=0<=(b?b.indexOf("px"):-1)?parseInt(b):0;var e=c?c.indexOf("px"):-1;d+=0<=e?parseInt(c):0;console.log("nodeOffsetWidth is "+a.offsetWidth+", marginL is "+b+", marginR is "+c+", total margin is "+d);return d}
function zoomOutTables(a,b,c){var d=[];a=[].slice.call(a);a.forEach(function(a){a.classList.remove("zoom-out");a.style.zoom=1});a.forEach(function(a){if(!getAncestorByClassName(a,"zoom-out")){var e=b/a.scrollWidth;1>e&&(saveStyleProperty(a,"zoom",c),c.push([a.classList.remove,a.classList,["zoom-out"]]),a.style.zoom=e,a.classList.add("zoom-out"),console.log("zoomed out the table"),d.push({node:a,displayStyle:a.style.display}))}});return d}
function saveStyleProperty(a,b,c){var d="data-"+b;a.setAttribute(d,a.style[b]);c.push([undoSetProperty,a,[b,d]])}function undoSetProperty(a,b){this.style[a]=b?this.getAttribute(b):""}function shouldMungeTable(a){return a.hasAttribute("width")||a.style.width}function hideAllUnsafeImages(){hideUnsafeImages(document.getElementsByClassName("mail-message-content"))}
function hideUnsafeImages(a){var b,c,d=0,e=[],f=[];var g=0;for(b=a.length;g<b;g++){var h=a[g];var m=h.classList.contains("mail-show-images");var k=h.getElementsByTagName("img");gImagesToLoad=k.length;var l=0;for(c=k.length;l<c;l++){var p=k[l];var n=rewriteRelativeImageSrc(p);n&&(e[d]=n,0==n.indexOf("https://mail.google.com")&&blockImage(p),f[d]=h.parentNode.id,d++);attachImageLoadListener(p);(!m||n&&"cid:"==n.substring(0,4))&&blockImage(p)}}window.mail.onInlineAttachmentsParsed(e,f);if(0<e.length)window.mail.onImageLoadRequestsCreated(e.length)}
function unblockAllTemporarilyHiddenImages(){var a,b;var c=document.getElementsByClassName("mail-message-content");var d=0;for(a=c.length;d<a;d++){var e=c[d];if(b=e.classList.contains("mail-show-images")){var f=e.getElementsByTagName("img");e=0;for(b=f.length;e<b;e++)unblockImage(f[e],"")}}}
function rewriteRelativeImageSrc(a){var b=a.src;return 0==b.indexOf(DOC_BASE_URI)&&DOC_BASE_URI!=CONVERSATION_BASE_URI?(b=CONVERSATION_BASE_URI+b.substring(DOC_BASE_URI.length),a.src=b):SAPI_INLINE_IMAGE_URL_PATTERN&&b.match(SAPI_INLINE_IMAGE_URL_PATTERN)||"cid:"==b.substring(0,4)?b:null}function attachImageLoadListener(a){var b=a.src;a.src="";a.onload=imageOnLoad;a.src=b}
function imageOnLoad(a){gImagesToLoad--;if(0===gImagesToLoad){for(var b=document.getElementsByClassName("gmail-ads-delayed-elements"),c=0;c<b.length;c++)b[c].style.visibility="visible";window.mail.onAllContentLoaded()}if(a&&a.target&&isDef(a.target.src))window.mail.onImageLoadFinished(a.target.src);if(a=getAncestorByClassName(a.target,"elided-text")||getAncestorByClassName(a.target,"mail-message-content"))0==gImageLoadElements.length&&window.setTimeout(handleAllImageOnLoads,0),-1==gImageLoadElements.indexOf(a)&&
gImageLoadElements.push(a)}function handleAllImageOnLoads(){normalizeElementWidths(gImageLoadElements);measurePositions(!1);window.mail.onAllImagesLoadFinished();gImageLoadElements=[]}function blockImage(a){var b=a.src;if(0==b.indexOf("http://")||0==b.indexOf("https://")||0==b.indexOf("content://")||0==b.indexOf("cid:"))a.setAttribute(BLOCKED_SRC_ATTR,b),a.src="blocked"}function setWideViewport(){document.getElementById("meta-viewport").setAttribute("content","width="+WIDE_VIEWPORT_WIDTH)}
function restoreScrollPosition(){var a=window.mail.getScrollYPercent();a&&document.body.offsetHeight>window.innerHeight&&(document.body.scrollTop=Math.floor(a*document.body.offsetHeight))}function onContentReady(a){RUNNING_KITKAT_OR_LATER&&restoreScrollPosition();window.mail.onContentReady()}
function setupContentReady(){if(ENABLE_CONTENT_READY&&!USE_DOM_CONTENT_LOADED_SIGNAL){var a=document.getElementById("initial-load-signal");a.addEventListener("webkitAnimationStart",onContentReady,!1);window.mail.createTracingInstant("InitialLoadListenerAdded")}}
function measurePositions(a){var b,c=0,d=document.querySelectorAll(".expanded > .mail-message-content");var e=Array(d.length+1);var f=Array(d.length+1);var g=0;for(b=d.length;g<b;g++){var h=d[g];var m=h.previousElementSibling;e[g]=c;f[g]=getTotalOffset(m).top+m.offsetHeight;c=getTotalOffset(h.nextElementSibling).top}e[g]=c;f[g]=document.documentElement.scrollHeight;a&&console.log("overlayTops: "+e.toString()+"; overlayBottoms: "+f.toString());window.mail.onWebContentGeometryChange(e,f)}
function unblockImages(a){for(var b,c,d=c=0,e;e=a[d];d++)if(b=document.getElementById(e)){var f=b.getElementsByClassName("mail-message-content")[0];f&&f.classList.add("mail-show-images");b=b.getElementsByTagName("img");c+=b.length;f=0;for(var g;g=b[f];f++)unblockImage(g,e)}else console.log("can't unblock, no matching message for id: "+e);if(0<c)window.mail.onImageLoadRequestsCreated(c)}
function unblockImage(a,b){var c;if(c=a.getAttribute(BLOCKED_SRC_ATTR)){var d=!1;0==c.indexOf("https://mail.google.com")&&(d=window.mail.downloadInlineAttachment(c,b));d||(a.src=c,a.removeAttribute(BLOCKED_SRC_ATTR),undoImageActionLog(a))}}function undoImageActionLog(a){var b=imageNodeToActionLogMap.get(a);b&&(undoActions(b),imageNodeToActionLogMap["delete"](a))}
function setConversationHeaderSpacerHeight(a){var b=document.getElementById("conversation-header");b?(b.style.height=a+"px",measurePositions(!1)):console.log("can't set spacer for conversation header")}function setConversationPromotionSpacerHeight(a){var b=document.getElementById("conversation-promotion");b?(b.style.height=a+"px",measurePositions(!1)):console.log("can't set spacer for conversation promotion")}
function setConversationFooterSpacerHeight(a){var b=document.getElementById("conversation-footer");b?(b.style.height=a+"px",measurePositions(!1)):console.log("can't set spacer for conversation footer")}function setMessageHeaderSpacerHeight(a,b){a=document.querySelector("#"+a+" > .mail-message-header");setSpacerHeight(a,b)}function setSpacerHeight(a,b){a?(a.style.height=b+"px",measurePositions(!1)):console.log("can't set spacer height")}
function setMessageBodyVisible(a,b,c){var d,e=b?"block":"none",f=document.querySelector("#"+a),g=document.querySelectorAll("#"+a+" > .collapsible");if(f&&0!=g.length){f.classList.toggle("expanded");var h=0;for(d=g.length;h<d;h++)g[h].style.display=e;b&&normalizeElementWidths(f.getElementsByClassName("mail-message-content"));setMessageHeaderSpacerHeight(a,c)}else console.log("can't set body visibility for message with id: "+a)}
function replaceSuperCollapsedBlock(a){var b,c;if(b=document.querySelector(".mail-super-collapsed-block[index='"+a+"']")){a=b.parentNode;b.innerHTML=window.mail.getTempMessageBodies();processCollapsedMessageBodies(b);processQuotedText(b,!1);hideUnsafeImages(b.getElementsByClassName("mail-message-content"));for(c=b.firstChild;c;)a.insertBefore(c,b),c=b.firstChild;a.removeChild(b);disablePostForms();measurePositions(!1)}else console.log("can't expand super collapsed block at index: "+a)}
function processNewMessageBody(a){processCollapsedMessageBodies(a);processQuotedText(a,!0);hideUnsafeImages([a]);getAncestorByClassName(a,"mail-message").classList.contains("expanded")&&normalizeElementWidths([a])}
function replaceMessageBodies(a){for(var b,c=0,d;d=a[c];c++)(b=document.querySelector("#"+d+" > .mail-message-content"))?(b.innerHTML=window.mail.getMessageBody(d),processNewMessageBody(b)):console.log("Mail message content for msg "+d+" to replace not found.");disablePostForms();measurePositions(!1)}
function appendMessageHtml(){var a=document.createElement("div");a.innerHTML=window.mail.getTempMessageBodies();a=a.children[0];document.body.insertBefore(a,document.getElementById("conversation-footer"));processNewMessageBody(a.querySelector(".mail-message-content"));disablePostForms();measurePositions(!1)}
function disablePostForms(){var a=document.getElementsByTagName("FORM"),b,c;for(b=0;b<a.length;++b)if("POST"===a[b].method.toUpperCase()){a[b].onsubmit=function(){alert(MSG_FORMS_ARE_DISABLED);return!1};var d=a[b].elements;for(c=0;c<d.length;++c)"submit"!=d[c].type&&(d[c].disabled=!0)}}function findMailMessageNode(a){for(;(a=a.parentElement)&&!a.classList.contains("mail-message"););return a}
function encodeGmailLink(a,b){var c="";SAFELINKS_V1&&(c=b.getAttribute("data-saferedirecturl")||"");var d="";SAFELINKS_V2&&(d=b.getAttribute("data-saferedirectreason")||"");a="gmail-link://?url="+encodeURIComponent(a);c&&(a+="&safeRedirectUrl="+encodeURIComponent(c));d&&(a+="&safeRedirectReason="+encodeURIComponent(d));GMAIL_LINK_ENCODING&&(b=findMailMessageNode(b),null!=b&&(a+="&msgId="+encodeURIComponent(b.id)));return a}function isAnchorUrl(a){return"#"==a[0]}
function registerLinkHandlers(){for(var a=document.getElementsByTagName("A"),b=0;b<a.length;++b)(function(a){var b=a.getAttribute("href");b&&!isAnchorUrl(b)&&a.addEventListener("click",function(c){window.location=encodeGmailLink(b,a);c.preventDefault()},!0)})(a[b])}function refreshInlineAttachment(a){for(var b=document.getElementsByTagName("img"),c=0;c<b.length;++c){var d=b[c],e=d.getAttribute(BLOCKED_SRC_ATTR);e&&e==a&&(d.removeAttribute(BLOCKED_SRC_ATTR),d.src=e,undoImageActionLog(d))}}
if(!window.webkit){document.addEventListener("DOMContentLoaded",function(){window.mail.createTracingInstant("DOMContentLoaded");console.log("Measure positions upon DOMContentLoaded");measurePositions(!0);ENABLE_CONTENT_READY&&USE_DOM_CONTENT_LOADED_SIGNAL&&onContentReady(!1)});setupContentReady();for(var gAdDelayedElements=document.getElementsByClassName("gmail-ads-delayed-elements"),i=0;i<gAdDelayedElements.length;i++)gAdDelayedElements[i].style.visibility="hidden";IS_MESSAGE_BASED_UI_ENABLED||collapseAllQuotedText();
hideAllUnsafeImages();normalizeAllMessageWidths();RUNNING_KITKAT_OR_LATER||restoreScrollPosition();disablePostForms();console.log("Measure positions in script.js");measurePositions(!0);registerLinkHandlers()};
