(function(){function h(){return function(){}}function m(a){return function(b){this[a]=b}}function n(a){return function(){return this[a]}}function aa(a){return function(){return a}}var q,ba="function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b},ca;
if("function"==typeof Object.setPrototypeOf)ca=Object.setPrototypeOf;else{var da;a:{var ea={a:!0},fa={};try{fa.__proto__=ea;da=fa.a;break a}catch(a){}da=!1}ca=da?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var ia=ca;
function t(a,b){a.prototype=ba(b.prototype);a.prototype.constructor=a;if(ia)ia(a,b);else for(var c in b)if("prototype"!=c)if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d)}else a[c]=b[c];a.F=b.prototype}
var ja={Hb:function(a){if(null==a)return a+"";if(a instanceof Array)return"Array["+a.length+"]";if("function"==typeof a){a=a.toString();var b=a.indexOf("{");return a.substring(0,b+1).replace("\n"," ")+"...}"}return"object"==typeof a?"["+ModelServices.Ff(a)+"]":a.toString()},Nd:function(a){return null==a?ja.Hb(a):a instanceof Array?ja.ae(a,10):"function"==typeof a?a.toString():"object"==typeof a?ja.ce(a,10):ja.Hb(a)},ae:function(a,b){var c="[";a.length&&(c+="\n");for(var d=0;d<a.length;d++){if(d>b){c+=
"  + "+(a.length-b)+" more...\n";break}c+="  "+ja.Hb(a[d])+"\n"}return c+"]"},ce:function(a,b){var c=ja.Hb(a)+" {",d=Object.keys(a);d.length&&(c+="\n");for(var e=0;e<d.length;e++){if(e>b){c+="  + "+(d.length-b)+" more...\n";break}var f=d[e];c+="  "+f+": "+ja.Hb(a[f])+"\n"}return c+"}"},Bb:function(a,b,c){if(0!==c.length){for(var d="",e=0;e<c.length-1;e++)d+=ja.Nd(c[e])+" ";d+=ja.Nd(c[e]);ModelServices.log(b,a,d)}},log:function(a){ja.Bb("console.log",1,arguments)},zf:function(a){ja.Bb("console.debug",
1,arguments)},U:function(a){ja.Bb("console.info",1,arguments)},cg:function(a){ja.Bb("console.warn",2,arguments)},Aa:function(a){ja.Bb("console.error",3,arguments)}},ka={search:""},la={},ma={},window={};window.location=ka;window.location.href="";window.location.Xb="";window.tf=ja;window.Vf={now:function(){return ModelServices.getTime()}};window.top=window;window.J=window;window.document=ma;ma.location=ka;ma.gd={};ma.vf=function(){return{}};ma.Gf=function(){return[]};
function na(){throw Error("XMLHttpRequest is not supported.");}q=na.prototype;q.open=h();q.Id=h();q.R=h();q.Fa=h();q.Rb=aa("");q.Sb=aa(null);this.__mobile_docs_flagsData&&(this._docs_flag_initialData=eval("("+this.__mobile_docs_flagsData+")"),window._docs_flag_initialData=this._docs_flag_initialData);window.Function=Function;window.String=String;var goog=goog||{},v=this;function x(a){return void 0!==a}function A(a){return"string"==typeof a}function pa(a){return"number"==typeof a}function qa(a,b){a=a.split(".");var c=v;a[0]in c||"undefined"==typeof c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)!a.length&&x(b)?c[d]=b:c[d]&&c[d]!==Object.prototype[d]?c=c[d]:c=c[d]={}}function ra(a){a=a.split(".");for(var b=v,c=0;c<a.length;c++)if(b=b[a[c]],null==b)return null;return b}function ta(){}
function ua(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function va(a){return"array"==ua(a)}function wa(a){var b=ua(a);return"array"==b||"object"==b&&"number"==typeof a.length}function ya(a){return"function"==ua(a)}function za(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}var Aa="closure_uid_"+(1E9*Math.random()>>>0),Ba=0;function Ca(a,b,c){return a.call.apply(a.bind,arguments)}
function Da(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function C(a,b,c){Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?C=Ca:C=Da;return C.apply(null,arguments)}
function Ea(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}}function Fa(a,b){for(var c in b)a[c]=b[c]}var D=Date.now||function(){return+new Date};
function Ga(a){if(v.execScript)v.execScript(a,"JavaScript");else if(v.eval){if(null==Ha){try{v.eval("var _evalTest_ = 1;")}catch(d){}if("undefined"!=typeof v._evalTest_){try{delete v._evalTest_}catch(d){}Ha=!0}else Ha=!1}if(Ha)v.eval(a);else{var b=v.document,c={type:"text/javascript",Af:!1};c.ec(b.xf(a));b.Oe.ec(c);b.Oe.removeChild(c)}}else throw Error("goog.globalEval not available");}var Ha=null;
function E(a,b){function c(){}c.prototype=b.prototype;a.F=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.qf=function(a,c,f){for(var d=Array(arguments.length-2),e=2;e<arguments.length;e++)d[e-2]=arguments[e];return b.prototype[c].apply(a,d)}};function Ia(a){if(Error.captureStackTrace)Error.captureStackTrace(this,Ia);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}E(Ia,Error);Ia.prototype.name="CustomError";function Ja(){}Ja.prototype.i=null;function Ka(a){return a.i||(a.i=a.j())};var La;function Ma(){}E(Ma,Ja);Ma.prototype.g=function(){var a=Na(this);return a?new ActiveXObject(a):new na};Ma.prototype.j=function(){var a={};Na(this)&&(a[0]=!0,a[1]=!0);return a};
function Na(a){if(!a.e&&"undefined"==typeof na&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.e=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.e}La=new Ma;var Oa=Array.prototype.indexOf?function(a,b){return Array.prototype.indexOf.call(a,b,void 0)}:function(a,b){if(A(a))return A(b)&&1==b.length?a.indexOf(b,0):-1;for(var c=0;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Pa=Array.prototype.forEach?function(a,b,c){Array.prototype.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=A(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Qa=Array.prototype.map?function(a,b,c){return Array.prototype.map.call(a,b,c)}:function(a,b,c){for(var d=
a.length,e=Array(d),f=A(a)?a.split(""):a,g=0;g<d;g++)g in f&&(e[g]=b.call(c,f[g],g,a));return e},Sa=Array.prototype.some?function(a,b){return Array.prototype.some.call(a,b,void 0)}:function(a,b){for(var c=a.length,d=A(a)?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a))return!0;return!1};function Ta(a){a:{var b=Ua;for(var c=a.length,d=A(a)?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a)){b=e;break a}b=-1}return 0>b?null:A(a)?a.charAt(b):a[b]}
function Va(a,b){b=Oa(a,b);var c;(c=0<=b)&&Array.prototype.splice.call(a,b,1);return c}function Xa(a){return Array.prototype.concat.apply([],arguments)}function Ya(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}function Za(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c];if(wa(d)){var e=a.length||0,f=d.length||0;a.length=e+f;for(var g=0;g<f;g++)a[e+g]=d[g]}else a.push(d)}}
function $a(a,b,c){return 2>=arguments.length?Array.prototype.slice.call(a,b):Array.prototype.slice.call(a,b,c)}function ab(a,b,c){function d(a){return za(a)?"o"+(a[Aa]||(a[Aa]=++Ba)):(typeof a).charAt(0)+a}b=b||a;c=c||d;for(var e={},f=0,g=0;g<a.length;){var l=a[g++],k=c(l);Object.prototype.hasOwnProperty.call(e,k)||(e[k]=!0,b[f++]=l)}b.length=f}function bb(a,b,c){if(!wa(a)||!wa(b)||a.length!=b.length)return!1;var d=a.length;c=c||cb;for(var e=0;e<d;e++)if(!c(a[e],b[e]))return!1;return!0}
function cb(a,b){return a===b}function eb(a,b){return Xa.apply([],Qa(a,b,void 0))};function fb(a){return function(){return a}}var gb=fb(!1),hb=fb(!0),ib=fb(null);function jb(a){return function(){throw Error(a);}}function kb(a,b){b=b||0;return function(){return a.apply(this,Array.prototype.slice.call(arguments,0,b))}};function lb(a){return Math.floor(Math.random()*a)};var nb="StopIteration"in v?v.StopIteration:{message:"StopIteration",stack:""};function ob(){}ob.prototype.next=function(){throw nb;};ob.prototype.Kb=function(){return this};function pb(a){if(a instanceof ob)return a;if("function"==typeof a.Kb)return a.Kb(!1);if(wa(a)){var b=0,c=new ob;c.next=function(){for(;;){if(b>=a.length)throw nb;if(b in a)return a[b++];b++}};return c}throw Error("Not implemented");};function qb(a,b,c){for(var d in a)b.call(c,a[d],d,a)}function rb(a,b){var c={},d;for(d in a)c[d]=b.call(void 0,a[d],d,a);return c}function sb(a){var b=0,c;for(c in a)b++;return b}function tb(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function ub(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function vb(a){for(var b in a)return!1;return!0}function wb(a){var b={},c;for(c in a)b[c]=a[c];return b}
function xb(a){var b=ua(a);if("object"==b||"array"==b){if(ya(a.S))return a.S();b="array"==b?[]:{};for(var c in a)b[c]=xb(a[c]);return b}return a}var yb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function zb(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<yb.length;f++)c=yb[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var Ab=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]},Bb=/&/g,Cb=/</g,Db=/>/g,Eb=/"/g,Fb=/'/g,Gb=/\x00/g,Hb=/[\x00&<>"']/;function Ib(a){var b={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'};var c={};return a.replace(Jb,function(a,e){var d=b[a];if(d)return d;"#"==e.charAt(0)&&(e=Number("0"+e.substr(1)),isNaN(e)||(d=String.fromCharCode(e)));d||(c.Jf=a+" ",d=c.Df.Nf.slice(0,-1));return b[a]=d})}
function Kb(a){return a.replace(/&([^;]+);/g,function(a,c){switch(c){case "amp":return"&";case "lt":return"<";case "gt":return">";case "quot":return'"';default:return"#"!=c.charAt(0)||(c=Number("0"+c.substr(1)),isNaN(c))?a:String.fromCharCode(c)}})}var Jb=/&([^;\s<&]+);?/g,Lb=String.prototype.repeat?function(a,b){return a.repeat(b)}:function(a,b){return Array(b+1).join(a)};function Mb(a){return null==a?"":String(a)}function Nb(a){return Array.prototype.join.call(arguments,"")}
function Ob(a,b){return a<b?-1:a>b?1:0};function Pb(a,b){this.g={};this.e=[];this.j=this.i=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a)if(a instanceof Pb)for(c=a.la(),d=0;d<c.length;d++)this.set(c[d],a.get(c[d]));else for(d in a)this.set(d,a[d])}q=Pb.prototype;q.W=n("i");q.O=function(){Qb(this);for(var a=[],b=0;b<this.e.length;b++)a.push(this.g[this.e[b]]);return a};q.la=function(){Qb(this);return this.e.concat()};
q.cb=function(a){if(this===a)return!0;if(this.i!=a.W())return!1;var b=Rb;Qb(this);for(var c,d=0;c=this.e[d];d++)if(!b(this.get(c),a.get(c)))return!1;return!0};function Rb(a,b){return a===b}q.L=function(){return 0==this.i};function Qb(a){if(a.i!=a.e.length){for(var b=0,c=0;b<a.e.length;){var d=a.e[b];Sb(a.g,d)&&(a.e[c++]=d);b++}a.e.length=c}if(a.i!=a.e.length){var e={};for(c=b=0;b<a.e.length;)d=a.e[b],Sb(e,d)||(a.e[c++]=d,e[d]=1),b++;a.e.length=c}}
q.get=function(a,b){return Sb(this.g,a)?this.g[a]:b};q.set=function(a,b){Sb(this.g,a)||(this.i++,this.e.push(a),this.j++);this.g[a]=b};q.forEach=function(a,b){for(var c=this.la(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};q.S=function(){return new Pb(this)};q.Kb=function(a){Qb(this);var b=0,c=this.j,d=this,e=new ob;e.next=function(){if(c!=d.j)throw Error("The map has changed since the iterator was created");if(b>=d.e.length)throw nb;var e=d.e[b++];return a?e:d.g[e]};return e};
function Sb(a,b){return Object.prototype.hasOwnProperty.call(a,b)};function Tb(a){if(a.O&&"function"==typeof a.O)return a.O();if(A(a))return a.split("");if(wa(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return tb(a)}function Ub(a){if(a.la&&"function"==typeof a.la)return a.la();if(!a.O||"function"!=typeof a.O){if(wa(a)||A(a)){var b=[];a=a.length;for(var c=0;c<a;c++)b.push(c);return b}return ub(a)}}
function Vb(a,b){if(a.forEach&&"function"==typeof a.forEach)a.forEach(b,void 0);else if(wa(a)||A(a))Pa(a,b,void 0);else for(var c=Ub(a),d=Tb(a),e=d.length,f=0;f<e;f++)b.call(void 0,d[f],c&&c[f],a)};function Wb(a,b,c,d,e,f,g){var l="";a&&(l+=a+":");c&&(l+="//",b&&(l+=b+"@"),l+=c,d&&(l+=":"+d));e&&(l+=e);f&&(l+="?"+f);g&&(l+="#"+g);return l}var Xb=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Yb(a){a=a.match(Xb);return Wb(a[1],a[2],a[3],a[4])}
function Zb(a,b){if(a){a=a.split("&");for(var c=0;c<a.length;c++){var d=a[c].indexOf("="),e=null;if(0<=d){var f=a[c].substring(0,d);e=a[c].substring(d+1)}else f=a[c];b(f,e?decodeURIComponent(e.replace(/\+/g," ")):"")}}}function $b(a,b){if(!b)return a;var c=a.indexOf("#");0>c&&(c=a.length);var d=a.indexOf("?");if(0>d||d>c){d=c;var e=""}else e=a.substring(d+1,c);a=[a.substr(0,d),e,a.substr(c)];c=a[1];a[1]=b?c?c+"&"+b:b:c;return a[0]+(a[1]?"?"+a[1]:"")+a[2]}
function ac(a,b,c){if(va(b))for(var d=0;d<b.length;d++)ac(a,String(b[d]),c);else null!=b&&c.push(a+(""===b?"":"="+encodeURIComponent(String(b))))}function bc(a,b){var c=[];for(b=b||0;b<a.length;b+=2)ac(a[b],a[b+1],c);return c.join("&")}function cc(a){var b=[],c;for(c in a)ac(c,a[c],b);return b.join("&")}function dc(a,b){var c=2==arguments.length?bc(arguments[1],0):bc(arguments,1);return $b(a,c)}function ec(a,b){b=cc(b);return $b(a,b)}
function fc(a,b,c){c=null!=c?"="+encodeURIComponent(String(c)):"";return $b(a,b+c)}var hc=/#|$/;function ic(a,b){var c=a.search(hc);a:{var d=0;for(var e=b.length;0<=(d=a.indexOf(b,d))&&d<c;){var f=a.charCodeAt(d-1);if(38==f||63==f)if(f=a.charCodeAt(d+e),!f||61==f||38==f||35==f)break a;d+=e+1}d=-1}if(0>d)return null;e=a.indexOf("&",d);if(0>e||e>c)e=c;d+=b.length+1;return decodeURIComponent(a.substr(d,e-d).replace(/\+/g," "))};function jc(a){this.e=this.B=this.j="";this.k=null;this.q=this.g="";this.l=!1;var b;a instanceof jc?(this.l=x(void 0)?void 0:a.l,kc(this,a.j),this.B=a.B,this.e=a.e,lc(this,a.k),this.g=a.g,mc(this,a.i.S()),this.q=a.q):a&&(b=String(a).match(Xb))?(this.l=!1,kc(this,b[1]||"",!0),this.B=nc(b[2]||""),this.e=nc(b[3]||"",!0),lc(this,b[4]),this.g=nc(b[5]||"",!0),mc(this,b[6]||"",!0),this.q=nc(b[7]||"")):(this.l=!1,this.i=new oc(null,this.l))}
jc.prototype.toString=function(){var a=[],b=this.j;b&&a.push(qc(b,rc,!0),":");var c=this.e;if(c||"file"==b)a.push("//"),(b=this.B)&&a.push(qc(b,rc,!0),"@"),a.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.k,null!=c&&a.push(":",String(c));if(c=this.g)this.e&&"/"!=c.charAt(0)&&a.push("/"),a.push(qc(c,"/"==c.charAt(0)?sc:tc,!0));(c=this.i.toString())&&a.push("?",c);(c=this.q)&&a.push("#",qc(c,uc));return a.join("")};
jc.prototype.resolve=function(a){var b=this.S(),c=!!a.j;c?kc(b,a.j):c=!!a.B;c?b.B=a.B:c=!!a.e;c?b.e=a.e:c=null!=a.k;var d=a.g;if(c)lc(b,a.k);else if(c=!!a.g){if("/"!=d.charAt(0))if(this.e&&!this.g)d="/"+d;else{var e=b.g.lastIndexOf("/");-1!=e&&(d=b.g.substr(0,e+1)+d)}e=d;if(".."==e||"."==e)d="";else if(-1!=e.indexOf("./")||-1!=e.indexOf("/.")){d=0==e.lastIndexOf("/",0);e=e.split("/");for(var f=[],g=0;g<e.length;){var l=e[g++];"."==l?d&&g==e.length&&f.push(""):".."==l?((1<f.length||1==f.length&&""!=
f[0])&&f.pop(),d&&g==e.length&&f.push("")):(f.push(l),d=!0)}d=f.join("/")}else d=e}c?b.g=d:c=""!==a.i.toString();c?mc(b,a.i.S()):c=!!a.q;c&&(b.q=a.q);return b};jc.prototype.S=function(){return new jc(this)};function kc(a,b,c){a.j=c?nc(b,!0):b;a.j&&(a.j=a.j.replace(/:$/,""))}function lc(a,b){if(b){b=Number(b);if(isNaN(b)||0>b)throw Error("Bad port number "+b);a.k=b}else a.k=null}function mc(a,b,c){b instanceof oc?(a.i=b,vc(a.i,a.l)):(c||(b=qc(b,wc)),a.i=new oc(b,a.l))}
function nc(a,b){return a?b?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function qc(a,b,c){return A(a)?(a=encodeURI(a).replace(b,xc),c&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function xc(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var rc=/[#\/\?@]/g,tc=/[#\?:]/g,sc=/[#\?]/g,wc=/[#\?@]/g,uc=/#/g;function oc(a,b){this.g=this.e=null;this.i=a||null;this.j=!!b}
function yc(a){a.e||(a.e=new Pb,a.g=0,a.i&&Zb(a.i,function(b,c){a.add(decodeURIComponent(b.replace(/\+/g," ")),c)}))}q=oc.prototype;q.W=function(){yc(this);return this.g};q.add=function(a,b){yc(this);this.i=null;a=zc(this,a);var c=this.e.get(a);c||this.e.set(a,c=[]);c.push(b);this.g=this.g+1;return this};function Ac(a,b){yc(a);b=zc(a,b);Sb(a.e.g,b)&&(a.i=null,a.g=a.g-a.e.get(b).length,a=a.e,Sb(a.g,b)&&(delete a.g[b],a.i--,a.j++,a.e.length>2*a.i&&Qb(a)))}q.L=function(){yc(this);return 0==this.g};
function Bc(a,b){yc(a);b=zc(a,b);return Sb(a.e.g,b)}q.forEach=function(a,b){yc(this);this.e.forEach(function(c,d){Pa(c,function(c){a.call(b,c,d,this)},this)},this)};q.la=function(){yc(this);for(var a=this.e.O(),b=this.e.la(),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c};q.O=function(a){yc(this);var b=[];if(A(a))Bc(this,a)&&(b=Xa(b,this.e.get(zc(this,a))));else{a=this.e.O();for(var c=0;c<a.length;c++)b=Xa(b,a[c])}return b};
q.set=function(a,b){yc(this);this.i=null;a=zc(this,a);Bc(this,a)&&(this.g=this.g-this.e.get(a).length);this.e.set(a,[b]);this.g=this.g+1;return this};q.get=function(a,b){if(!a)return b;a=this.O(a);return 0<a.length?String(a[0]):b};
q.toString=function(){if(this.i)return this.i;if(!this.e)return"";for(var a=[],b=this.e.la(),c=0;c<b.length;c++){var d=b[c],e=encodeURIComponent(String(d));d=this.O(d);for(var f=0;f<d.length;f++){var g=e;""!==d[f]&&(g+="="+encodeURIComponent(String(d[f])));a.push(g)}}return this.i=a.join("&")};q.S=function(){var a=new oc;a.i=this.i;this.e&&(a.e=this.e.S(),a.g=this.g);return a};function zc(a,b){b=String(b);a.j&&(b=b.toLowerCase());return b}
function vc(a,b){b&&!a.j&&(yc(a),a.i=null,a.e.forEach(function(a,b){var c=b.toLowerCase();b!=c&&(Ac(this,b),Ac(this,c),0<a.length&&(this.i=null,this.e.set(zc(this,c),Ya(a)),this.g=this.g+a.length))},a));a.j=b};function Cc(a){this.e=a}Cc.prototype.isOnline=function(){return this.e.isOnline()};var Dc;a:{var Ec=v.navigator;if(Ec){var Fc=Ec.$f;if(Fc){Dc=Fc;break a}}Dc=""}function F(a){return-1!=Dc.indexOf(a)};function Gc(){return(F("Chrome")||F("CriOS"))&&!F("Edge")};function Hc(){return F("iPhone")&&!F("iPod")&&!F("iPad")};function Ic(a){Ic[" "](a);return a}Ic[" "]=ta;function Jc(a,b,c){return Object.prototype.hasOwnProperty.call(a,b)?a[b]:a[b]=c(b)};var Kc=F("Opera"),Lc=F("Trident")||F("MSIE"),Nc=F("Edge"),Qc=F("Gecko")&&!(-1!=Dc.toLowerCase().indexOf("webkit")&&!F("Edge"))&&!(F("Trident")||F("MSIE"))&&!F("Edge"),Rc=-1!=Dc.toLowerCase().indexOf("webkit")&&!F("Edge");Rc&&F("Mobile");F("Macintosh");F("Windows");F("Linux")||F("CrOS");var Sc=v.navigator||null;Sc&&(Sc.appVersion||"").indexOf("X11");F("Android");Hc();F("iPad");F("iPod");Hc()||F("iPad")||F("iPod");function Tc(){var a=v.document;return a?a.documentMode:void 0}var Vc;
a:{var Wc="",Xc=function(){var a=Dc;if(Qc)return/rv:([^\);]+)(\)|;)/.exec(a);if(Nc)return/Edge\/([\d\.]+)/.exec(a);if(Lc)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(Rc)return/WebKit\/(\S+)/.exec(a);if(Kc)return/(?:Version)[ \/]?(\S+)/.exec(a)}();Xc&&(Wc=Xc?Xc[1]:"");if(Lc){var Yc=Tc();if(null!=Yc&&Yc>parseFloat(Wc)){Vc=String(Yc);break a}}Vc=Wc}var Zc=Vc,$c={};
function ad(a){return Jc($c,a,function(){for(var b=0,c=Ab(String(Zc)).split("."),d=Ab(String(a)).split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||"",l=d[f]||"";do{g=/(\d*)(\D*)(.*)/.exec(g)||["","","",""];l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""];if(0==g[0].length&&0==l[0].length)break;b=Ob(0==g[1].length?0:parseInt(g[1],10),0==l[1].length?0:parseInt(l[1],10))||Ob(0==g[2].length,0==l[2].length)||Ob(g[2],l[2]);g=g[3];l=l[3]}while(0==b)}return 0<=b})}var bd;var cd=v.document;
bd=cd&&Lc?Tc()||("CSS1Compat"==cd.compatMode?parseInt(Zc,10):5):void 0;function dd(a){var b=v,c=b.wd,d=!1;Rc&&!ad("535.3")&&(d=!d);b.wd=function(b,f,g,l,k){c&&c(b,f,g,l,k);a({message:b,fileName:f,Qe:g,lineNumber:g,rf:l,Aa:k});return d}}function ed(a,b){a instanceof Error||(a=Error(a),Error.captureStackTrace&&Error.captureStackTrace(a,ed));a.stack||(a.stack=fd(ed));if(b){for(var c=0;a["message"+c];)++c;a["message"+c]=String(b)}return a}
function gd(a,b){a=ed(a);if(b)for(var c in b){var d=a,e=c,f=b[c];d.__closure__error__context__984382||(d.__closure__error__context__984382={});d.__closure__error__context__984382[e]=f}return a}function fd(a){var b=Error();if(Error.captureStackTrace)Error.captureStackTrace(b,a||fd),b=String(b.stack);else{try{throw b;}catch(c){b=c}b=(b=b.stack)?String(b):null}b||(b=hd(a||arguments.callee.caller,[]));return b}
function hd(a,b){var c=[];if(0<=Oa(b,a))c.push("[...circular reference...]");else if(a&&50>b.length){c.push(id(a)+"(");for(var d=a.arguments,e=0;d&&e<d.length;e++){0<e&&c.push(", ");var f=d[e];switch(typeof f){case "object":f=f?"object":"null";break;case "string":break;case "number":f=String(f);break;case "boolean":f=f?"true":"false";break;case "function":f=(f=id(f))?f:"[fn]";break;default:f=typeof f}40<f.length&&(f=f.substr(0,40)+"...");c.push(f)}b.push(a);c.push(")\n");try{c.push(hd(a.caller,b))}catch(g){c.push("[exception trying to get caller]\n")}}else a?
c.push("[...long stack...]"):c.push("[end]");return c.join("")}function id(a){if(jd[a])return jd[a];a=String(a);if(!jd[a]){var b=/function ([^\(]+)/.exec(a);jd[a]=b?b[1]:"[Anonymous]"}return jd[a]}var jd={};function kd(){this.Lb=ld||md}function md(a,b){return String(a)<String(b)?-1:String(a)>String(b)?1:0}q=kd.prototype;q.Z=null;q.Lb=null;q.pa=null;q.Ma=null;function nd(a){return a?a.j:0}function od(a){return a?(a.e?a.e.j:0)-(a.g?a.g.j:0):0}function pd(a,b){var c=od(b);return 1<c?(0>od(b.e)&&qd(a,b.e),rd(a,b)):-1>c?(0<od(b.g)&&rd(a,b.g),qd(a,b)):b}
function sd(a,b,c){var d=a.Lb(b,c.value),e=!1;0<d?c.g?e=sd(a,b,c.g):(c.g=new td(b,c),e=!0,c==a.Ma&&(a.Ma=c.g)):0>d&&(c.e?e=sd(a,b,c.e):(c.e=new td(b,c),e=!0,c==a.pa&&(a.pa=c.e)));e&&(c.i++,c.j=Math.max(nd(c.e),nd(c.g))+1,pd(a,c));return e}q.add=function(a){return this.Z?sd(this,a,this.Z):(this.Ma=this.pa=this.Z=new td(a),!0)};function ud(a){return a?a.i:0}
function vd(a,b,c){if(!c)return{value:null,mb:null};var d=a.Lb(c.value,b);if(0<d)d=vd(a,b,c.e),c.e=d.mb,b=d.value;else if(0>d)d=vd(a,b,c.g),c.g=d.mb,b=d.value;else if(b=c.value,c.e&&c.g){b=c.value;var e=c.g;wd(a,function(a){return a.e?e=a.e:null},c.g);c.value=e.value;d=vd(a,e.value,c.g);c.g=d.mb}else{d=c.e?c.e:c.g;if(!d)return a.Ma==c&&(a.Ma=c.J),a.pa==c&&(a.pa=c.J),{value:b,mb:null};a.Ma==c&&(a.Ma=d);a.pa==c&&(a.pa=d);d.J=c.J;c=d}c.i=ud(c.e)+ud(c.g)+1;c.j=Math.max(nd(c.e),nd(c.g))+1;return{mb:pd(a,
c),value:b}}function xd(a,b){b=vd(a,b,a.Z);a.Z=b.mb;return b.value}q.indexOf=function(a){var b=-1,c=0;wd(this,function(d){var e=this.Lb(d.value,a);if(0<e)return d.e;d.e&&(c+=d.e.i);if(0>e)return c++,d.g;b=c;return null});return b};q.W=function(){return this.Z?this.Z.i:0};function yd(a){return a.Z?a.Z.j:0}q.O=function(){var a=[];zd(this,function(b){a.push(b)});return a};
function zd(a,b){if(a.Z){a=a.pa;for(var c=a.e?a.e:a;null!=a;)if(null!=a.e&&a.e!=c&&a.g!=c)a=a.e;else{if(a.g!=c&&b(a.value))break;var d=a;a=null!=a.g&&a.g!=c?a.g:a.J;c=d}}}function wd(a,b,c){for(c=c?c:a.Z;c&&null!=c;)c=b.call(a,c)}function qd(a,b){b.J&&b.J.e==b?(b.J.e=b.g,b.g.J=b.J):b.J&&b.J.g==b?(b.J.g=b.g,b.g.J=b.J):(a.Z=b.g,a.Z.J=null);a=b.g;b.g=b.g.e;null!=b.g&&(b.g.J=b);a.e=b;b.J=a;a.i=b.i;b.i-=(a.g?a.g.i:0)+1;Ad(b);Ad(a);return a}
function rd(a,b){b.J&&b.J.e==b?(b.J.e=b.e,b.e.J=b.J):b.J&&b.J.g==b?(b.J.g=b.e,b.e.J=b.J):(a.Z=b.e,a.Z.J=null);a=b.e;b.e=b.e.g;null!=b.e&&(b.e.J=b);a.g=b;b.J=a;a.i=b.i;b.i-=(a.e?a.e.i:0)+1;Ad(b);Ad(a);return a}function td(a,b){this.value=a;this.J=b?b:null;this.i=1;this.g=this.e=null;this.j=1}function Ad(a){a.j=Math.max(a.e?a.e.j:0,a.g?a.g.j:0)+1};function Bd(){this.g=ModelServices;this.j=1;this.e=new kd;this.i=!1}function ld(a,b){var c=a.getTime(),d=b.getTime();return c==d?a.e-b.e:c-d}Bd.prototype.setTimeout=function(a,b){return Cd(this,a,b,!1)};Bd.prototype.setTimeout=Bd.prototype.setTimeout;Bd.prototype.setInterval=function(a,b){return Cd(this,a,b,!0)};Bd.prototype.setInterval=Bd.prototype.setInterval;
function Cd(a,b,c,d){var e=a.g.getTime(),f=a.j++;e+=c;b=new Dd(f,b,e,d?c:null);d=Infinity;0<yd(a.e)&&(d=a.e.pa.value.getTime());a.e.add(b);d>e&&!a.i&&a.g.startTimer(c);return f}Bd.prototype.clearTimeout=function(a){Ed(this,a)};Bd.prototype.clearTimeout=Bd.prototype.clearTimeout;Bd.prototype.clearInterval=function(a){Ed(this,a)};Bd.prototype.clearInterval=Bd.prototype.clearInterval;function Ed(a,b){var c=a.e.O(),d;for(d in c){var e=c[d];if(e.e==b){xd(a.e,e);break}}}
Bd.prototype.invokeTimer=function(a){if(0==yd(this.e))return-1;var b=this.e.pa.value;if(b.getTime()>a)return Math.max(0,b.getTime()-this.g.getTime());this.i=!0;try{b.execute()}catch(d){throw d;}a=!xd(this.e,b);var c=b.Ed;null===c||a||this.e.add(Fd(b,this.g.getTime()+c));this.i=!1;if(0==yd(this.e))return-1;b=this.e.pa.value;return Math.max(0,b.getTime()-this.g.getTime())};Bd.prototype.invokeTimer=Bd.prototype.invokeTimer;function Dd(a,b,c,d){this.g=b;this.e=a;this.i=c;this.Ed=d}
Dd.prototype.execute=function(){this.g.call()};Dd.prototype.getTime=n("i");function Fd(a,b){return new Dd(a.e,a.g,b,a.Ed)};var Gd=[],Hd=[],Id=!1;function Jd(a){Gd[Gd.length]=a;if(Id)for(var b=0;b<Hd.length;b++)a(C(Hd[b].e,Hd[b]))};function Kd(){};function G(){this.H=this.H;this.B=this.B}G.prototype.H=!1;G.prototype.q=n("H");G.prototype.aa=function(){this.H||(this.H=!0,this.z())};function H(a,b){b=Ea(I,b);a.H?x(void 0)?b.call(void 0):b():(a.B||(a.B=[]),a.B.push(x(void 0)?C(b,void 0):b))}G.prototype.z=function(){if(this.B)for(;this.B.length;)this.B.shift()()};function I(a){a&&"function"==typeof a.aa&&a.aa()}function Ld(a){for(var b=0,c=arguments.length;b<c;++b){var d=arguments[b];wa(d)?Ld.apply(null,d):I(d)}};var Md;(Md=!Lc)||(Md=9<=Number(bd));var Nd=Md,Od=Lc&&!ad("9");!Rc||ad("528");Qc&&ad("1.9b")||Lc&&ad("8")||Kc&&ad("9.5")||Rc&&ad("528");Qc&&!ad("8")||Lc&&ad("9");var Pd=function(){if(!v.Wa||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});v.Wa("test",ta,b);v.Mc("test",ta,b);return a}();function Qd(a,b){this.type=a;this.e=this.ga=b;this.$c=!1;this.Hd=!0}Qd.prototype.Db=function(){this.$c=!0;this.Hd=!1};function Rd(a,b){Qd.call(this,a?a.type:"");this.Bd=this.e=this.ga=null;this.Ka="";this.Ca=0;this.hc=!1;this.g=null;if(a){var c=this.type=a.type;this.ga=a.ga||a.Yf;this.e=b;if(b=a.Bd){if(Qc){a:{try{Ic(b.nodeName);var d=!0;break a}catch(e){}d=!1}d||(b=null)}}else"mouseover"==c?b=a.Ef:"mouseout"==c&&(b=a.Zf);this.Bd=b;this.Ca=a.Ca||0;this.Ka=a.Ka||"";this.hc=a.hc;this.g=a;a.$c&&this.Db()}}E(Rd,Qd);
Rd.prototype.Db=function(){Rd.F.Db.call(this);var a=this.g;if(a.Db)a.Db();else if(a.Nc=!1,Od)try{if(a.hc||112<=a.Ca&&123>=a.Ca)a.Ca=-1}catch(b){}};var Sd="closure_listenable_"+(1E6*Math.random()|0);function Td(a){return!(!a||!a[Sd])}var Ud=0;function Vd(a,b,c,d,e){this.La=a;this.e=null;this.src=b;this.type=c;this.va=!!d;this.Ub=e;this.Ka=++Ud;this.lb=this.Ga=!1}function Wd(a){a.lb=!0;a.La=null;a.e=null;a.src=null;a.Ub=null};function Xd(a){this.src=a;this.e={};this.g=0}Xd.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.e[f];a||(a=this.e[f]=[],this.g++);var g=Yd(a,b,d,e);-1<g?(b=a[g],c||(b.Ga=!1)):(b=new Vd(b,this.src,f,!!d,e),b.Ga=c,a.push(b));return b};function Zd(a,b){var c=b.type;c in a.e&&Va(a.e[c],b)&&(Wd(b),0==a.e[c].length&&(delete a.e[c],a.g--))}Xd.prototype.xb=function(a,b,c,d){a=this.e[a.toString()];var e=-1;a&&(e=Yd(a,b,c,d));return-1<e?a[e]:null};
function Yd(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.lb&&f.La==b&&f.va==!!c&&f.Ub==d)return e}return-1};var $d="closure_lm_"+(1E6*Math.random()|0),ae={},be=0;function ce(a,b,c,d,e){if(d&&d.Rf)return de(a,b,c,d,e);if(va(b)){for(var f=0;f<b.length;f++)ce(a,b[f],c,d,e);return null}c=ee(c);return Td(a)?a.ia(b,c,za(d)?!!d.va:!!d,e):fe(a,b,c,!1,d,e)}
function fe(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var g=za(e)?!!e.va:!!e,l=ge(a);l||(a[$d]=l=new Xd(a));c=l.add(b,c,d,g,f);if(c.e)return c;d=he();c.e=d;d.src=a;d.La=c;if(a.Wa)Pd||(e=g),void 0===e&&(e=!1),a.Wa(b.toString(),d,e);else if(a.Qd)a.Qd(ie(b.toString()),d);else if(a.Wc&&a.Dd)a.Wc(d);else throw Error("addEventListener and attachEvent are unavailable.");be++;return c}
function he(){var a=je,b=Nd?function(c){return a.call(b.src,b.La,c)}:function(c){c=a.call(b.src,b.La,c);if(!c)return c};return b}function de(a,b,c,d,e){if(va(b)){for(var f=0;f<b.length;f++)de(a,b[f],c,d,e);return null}c=ee(c);return Td(a)?a.hb(b,c,za(d)?!!d.va:!!d,e):fe(a,b,c,!0,d,e)}function le(a,b,c,d,e){if(va(b))for(var f=0;f<b.length;f++)le(a,b[f],c,d,e);else d=za(d)?!!d.va:!!d,c=ee(c),Td(a)?a.Zb(b,c,d,e):a&&(a=ge(a))&&(b=a.xb(b,c,d,e))&&me(b)}
function me(a){if(!pa(a)&&a&&!a.lb){var b=a.src;if(Td(b))Zd(b.i,a);else{var c=a.type,d=a.e;b.Mc?b.Mc(c,d,a.va):b.Td?b.Td(ie(c),d):b.Wc&&b.Dd&&b.Dd(d);be--;(c=ge(b))?(Zd(c,a),0==c.g&&(c.src=null,b[$d]=null)):Wd(a)}}}function ie(a){return a in ae?ae[a]:ae[a]="on"+a}function ne(a,b,c,d){var e=!0;if(a=ge(a))if(b=a.e[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.va==c&&!f.lb&&(f=oe(f,d),e=e&&!1!==f)}return e}
function oe(a,b){var c=a.La,d=a.Ub||a.src;a.Ga&&me(a);return c.call(d,b)}function je(a,b){if(a.lb)return!0;if(!Nd){var c=b||ra("window.event");b=new Rd(c,this);var d=!0;if(!(0>c.Ca||void 0!=c.Nc)){a:{var e=!1;if(0==c.Ca)try{c.Ca=-1;break a}catch(g){e=!0}if(e||void 0==c.Nc)c.Nc=!0}c=[];for(e=b.e;e;e=e.Ve)c.push(e);a=a.type;for(e=c.length-1;0<=e;e--){b.e=c[e];var f=ne(c[e],a,!0,b);d=d&&f}for(e=0;e<c.length;e++)b.e=c[e],f=ne(c[e],a,!1,b),d=d&&f}return d}return oe(a,new Rd(b,this))}
function ge(a){a=a[$d];return a instanceof Xd?a:null}var pe="__closure_events_fn_"+(1E9*Math.random()>>>0);function ee(a){if(ya(a))return a;a[pe]||(a[pe]=function(b){return a.Ba(b)});return a[pe]}Jd(function(a){je=a(je)});function K(){G.call(this);this.i=new Xd(this);this.V=this;this.I=null}E(K,G);K.prototype[Sd]=!0;q=K.prototype;q.Wa=function(a,b,c,d){ce(this,a,b,c,d)};q.Mc=function(a,b,c,d){le(this,a,b,c,d)};
function qe(a,b){var c=a.I;if(c){var d=[];for(var e=1;c;c=c.I)d.push(c),++e}a=a.V;c=b.type||b;A(b)?b=new Qd(b,a):b instanceof Qd?b.ga=b.ga||a:(e=b,b=new Qd(c,a),zb(b,e));e=!0;if(d)for(var f=d.length-1;0<=f;f--){var g=b.e=d[f];e=re(g,c,!0,b)&&e}g=b.e=a;e=re(g,c,!0,b)&&e;e=re(g,c,!1,b)&&e;if(d)for(f=0;f<d.length;f++)g=b.e=d[f],e=re(g,c,!1,b)&&e}q.z=function(){K.F.z.call(this);if(this.i){var a=this.i,b=0,c;for(c in a.e){for(var d=a.e[c],e=0;e<d.length;e++)++b,Wd(d[e]);delete a.e[c];a.g--}}this.I=null};
q.ia=function(a,b,c,d){return this.i.add(String(a),b,!1,c,d)};q.hb=function(a,b,c,d){return this.i.add(String(a),b,!0,c,d)};q.Zb=function(a,b,c,d){var e=this.i;a=String(a).toString();if(a in e.e){var f=e.e[a];b=Yd(f,b,c,d);-1<b&&(Wd(f[b]),Array.prototype.splice.call(f,b,1),0==f.length&&(delete e.e[a],e.g--))}};
function re(a,b,c,d){b=a.i.e[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var g=b[f];if(g&&!g.lb&&g.va==c){var l=g.La,k=g.Ub||g.src;g.Ga&&Zd(a.i,g);e=!1!==l.call(k,d)&&e}}return e&&0!=d.Hd}q.xb=function(a,b,c,d){return this.i.xb(String(a),b,c,d)};function se(a){var b=[];te(new ue,a,b);return b.join("")}function ue(){}
function te(a,b,c){if(null==b)c.push("null");else{if("object"==typeof b){if(va(b)){var d=b;b=d.length;c.push("[");for(var e="",f=0;f<b;f++)c.push(e),te(a,d[f],c),e=",";c.push("]");return}if(b instanceof String||b instanceof Number||b instanceof Boolean)b=b.valueOf();else{c.push("{");e="";for(d in b)Object.prototype.hasOwnProperty.call(b,d)&&(f=b[d],"function"!=typeof f&&(c.push(e),ve(d,c),c.push(":"),te(a,f,c),e=","));c.push("}");return}}switch(typeof b){case "string":ve(b,c);break;case "number":c.push(isFinite(b)&&
!isNaN(b)?String(b):"null");break;case "boolean":c.push(String(b));break;case "function":c.push("null");break;default:throw Error("Unknown type: "+typeof b);}}}var we={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\u000b"},xe=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;
function ve(a,b){b.push('"',a.replace(xe,function(a){var b=we[a];b||(b="\\u"+(a.charCodeAt(0)|65536).toString(16).substr(1),we[a]=b);return b}),'"')};function ye(){this.q=0;this.e={}}E(ye,Ja);ye.prototype.g=function(){var a=this.q++,b=new ze(a,C(this.k,this,a));return this.e[a]=b};ye.prototype.j=function(){return{}};ye.prototype.k=function(a){delete this.e[a]};function ze(a,b){K.call(this);this.Qc=this.sa=0;this.Eb="";this.ib=null;this.l=a;this.v=b;this.g={};this.e={};this.o=this.n="";this.j=this.k=!1}E(ze,K);q=ze.prototype;q.cc=0;q.Tc=1;q.qb=4;
function Ae(a,b,c,d,e){d&&(a.Eb+=d);if(e){d=JSON.parse(e);a.e={};for(var f in d)a.e[f.toLowerCase()]=d[f]}a.sa!=a.qb&&a.sa!=a.cc&&(a.sa=b,a.Qc=c,Be(a),b==a.qb&&a.v())}q.open=function(a,b,c){if(this.sa!=this.cc)throw this.Fa(),Error("Error reopening a connection");this.n=a.toString();this.o=b.toString();this.k=c||!1;this.sa=this.Tc;Be(this)};q.Id=function(a,b){var c=this.g;c[a]=c[a]?c[a]+", "+b:b.toString()};
q.R=function(a){var b=se(this.g);this.j=!0;ModelServices.sendHttpRequest(this.l,this.n,this.o,b,this.k,(a||"").toString())};q.Fa=function(){ModelServices.abortHttpRequest(this.l);this.Eb="";this.g={};this.Qc=0;this.sa>=this.Tc&&this.j&&this.sa!=this.qb&&(this.sa=this.qb,this.j=!1,Be(this));this.sa=this.cc;this.v()};q.Sb=function(a){return(a=this.e[a.toLowerCase()])&&"string"==typeof a?a:null};
q.Rb=function(){var a=this.e,b="",c;for(c in a)"string"==typeof c&&"string"==typeof a[c]&&(b+=c+": "+a[c]+"\r\n");return b};function Be(a){a.ib&&a.ib.call(a)};function Ce(a,b){this.i=a;this.j=b;this.g=0;this.e=null}Ce.prototype.get=function(){if(0<this.g){this.g--;var a=this.e;this.e=a.next;a.next=null}else a=this.i();return a};Ce.prototype.wa=function(a){this.j(a);100>this.g&&(this.g++,a.next=this.e,this.e=a)};function De(a){v.setTimeout(function(){throw a;},0)}var Ee;
function Fe(){var a=v.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.Wa&&!F("Presto")&&(a=function(){var a={};a.style.Cf="none";a.src="";ma.gd.ec(a);var b=a.uf;a=b.document;a.open();a.ka("");a.close();var c="callImmediate"+Math.random(),d="file:"==b.location.Xb?"*":b.location.Xb+"//"+b.location.Pe;a=C(function(a){"*"!=d&&a.Tf!=d||a.data!=c||this.port1.Te()},this);b.Wa("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});
if("undefined"!==typeof a&&!F("Trident")&&!F("MSIE")){var b=new a,c={},d=c;b.port1.Te=function(){if(x(c.next)){c=c.next;var a=c.Yc;c.Yc=null;a()}};return function(a){d.next={Yc:a};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof ma&&"onreadystatechange"in{}?function(a){var b={ib:function(){b.ib=null;b.Ve.removeChild(b);b=null;a();a=null}};ma.gd.ec(b)}:function(a){v.setTimeout(a,0)}}function Ge(a){return a}Jd(function(a){Ge=a});function He(){this.g=this.e=null}var Je=new Ce(function(){return new Ie},function(a){a.reset()});He.prototype.add=function(a,b){var c=Je.get();c.set(a,b);this.g?this.g.next=c:this.e=c;this.g=c};function Ke(){var a=Le,b=null;a.e&&(b=a.e,a.e=a.e.next,a.e||(a.g=null),b.next=null);return b}function Ie(){this.next=this.g=this.e=null}Ie.prototype.set=function(a,b){this.e=a;this.g=b;this.next=null};Ie.prototype.reset=function(){this.next=this.g=this.e=null};function Me(a,b){Ne||Oe();Pe||(Ne(),Pe=!0);Le.add(a,b)}var Ne;function Oe(){if(v.Promise&&v.Promise.resolve){var a=v.Promise.resolve(void 0);Ne=function(){a.then(Qe)}}else Ne=function(){var a=Qe;a=Ge(a);!ya(v.Pc)||v.Uc&&v.Uc.prototype&&!F("Edge")&&v.Uc.prototype.Pc==v.Pc?(Ee||(Ee=Fe()),Ee(a)):v.Pc(a)}}var Pe=!1,Le=new He;function Qe(){for(var a;a=Ke();){try{a.e.call(a.g)}catch(b){De(b)}Je.wa(a)}Pe=!1};function Se(a){a.prototype.then=a.prototype.then;a.prototype.$goog_Thenable=!0}function Te(a){if(!a)return!1;try{return!!a.$goog_Thenable}catch(b){return!1}};function Ue(a,b){this.e=0;this.l=void 0;this.j=this.g=this.i=null;this.k=this.q=!1;if(a!=ta)try{var c=this;a.call(b,function(a){Ve(c,2,a)},function(a){Ve(c,3,a)})}catch(d){Ve(this,3,d)}}function We(){this.next=this.j=this.g=this.k=this.e=null;this.i=!1}We.prototype.reset=function(){this.j=this.g=this.k=this.e=null;this.i=!1};var Xe=new Ce(function(){return new We},function(a){a.reset()});function Ye(a,b,c){var d=Xe.get();d.k=a;d.g=b;d.j=c;return d}
function Ze(a){if(a instanceof Ue)return a;var b=new Ue(ta);Ve(b,2,a);return b}function $e(a,b,c){af(a,b,c,null)||Me(Ea(b,a))}function bf(a){return new Ue(function(b,c){var d=a.length,e=[];if(d)for(var f=function(a,c){d--;e[a]=c;0==d&&b(e)},g=function(a){c(a)},l=0,k;l<a.length;l++)k=a[l],$e(k,Ea(f,l),g);else b(e)})}
function cf(a){return new Ue(function(b){var c=a.length,d=[];if(c)for(var e=function(a,e,f){c--;d[a]=e?{hd:!0,value:f}:{hd:!1,reason:f};0==c&&b(d)},f=0,g;f<a.length;f++)g=a[f],$e(g,Ea(e,f,!0),Ea(e,f,!1));else b(d)})}function df(){var a,b,c=new Ue(function(c,e){a=c;b=e});return new ef(c,a,b)}Ue.prototype.then=function(a,b,c){return ff(this,ya(a)?a:null,ya(b)?b:null,c)};Se(Ue);function gf(a,b){b=Ye(b,b,void 0);b.i=!0;hf(a,b)}function jf(a){0==a.e&&Me(function(){var a=new kf(void 0);lf(this,a)},a)}
function lf(a,b){if(0==a.e)if(a.i){var c=a.i;if(c.g){for(var d=0,e=null,f=null,g=c.g;g&&(g.i||(d++,g.e==a&&(e=g),!(e&&1<d)));g=g.next)e||(f=g);e&&(0==c.e&&1==d?lf(c,b):(f?(d=f,d.next==c.j&&(c.j=d),d.next=d.next.next):mf(c),nf(c,e,3,b)))}a.i=null}else Ve(a,3,b)}function hf(a,b){a.g||2!=a.e&&3!=a.e||of(a);a.j?a.j.next=b:a.g=b;a.j=b}
function ff(a,b,c,d){var e=Ye(null,null,null);e.e=new Ue(function(a,g){e.k=b?function(c){try{var e=b.call(d,c);a(e)}catch(p){g(p)}}:a;e.g=c?function(b){try{var e=c.call(d,b);!x(e)&&b instanceof kf?g(b):a(e)}catch(p){g(p)}}:g});e.e.i=a;hf(a,e);return e.e}Ue.prototype.H=function(a){this.e=0;Ve(this,2,a)};Ue.prototype.n=function(a){this.e=0;Ve(this,3,a)};
function Ve(a,b,c){0==a.e&&(a===c&&(b=3,c=new TypeError("Promise cannot resolve to itself")),a.e=1,af(c,a.H,a.n,a)||(a.l=c,a.e=b,a.i=null,of(a),3!=b||c instanceof kf||pf(a,c)))}function af(a,b,c,d){if(a instanceof Ue)return hf(a,Ye(b||ta,c||null,d)),!0;if(Te(a))return a.then(b,c,d),!0;if(za(a))try{var e=a.then;if(ya(e))return qf(a,e,b,c,d),!0}catch(f){return c.call(d,f),!0}return!1}
function qf(a,b,c,d,e){function f(a){l||(l=!0,d.call(e,a))}function g(a){l||(l=!0,c.call(e,a))}var l=!1;try{b.call(a,g,f)}catch(k){f(k)}}function of(a){a.q||(a.q=!0,Me(a.B,a))}function mf(a){var b=null;a.g&&(b=a.g,a.g=b.next,b.next=null);a.g||(a.j=null);return b}Ue.prototype.B=function(){for(var a;a=mf(this);)nf(this,a,this.e,this.l);this.q=!1};
function nf(a,b,c,d){if(3==c&&b.g&&!b.i)for(;a&&a.k;a=a.i)a.k=!1;if(b.e)b.e.i=null,rf(b,c,d);else try{b.i?b.k.call(b.j):rf(b,c,d)}catch(e){uf.call(null,e)}Xe.wa(b)}function rf(a,b,c){2==b?a.k.call(a.j,c):a.g&&a.g.call(a.j,c)}function pf(a,b){a.k=!0;Me(function(){a.k&&uf.call(null,b)})}var uf=De;function kf(a){Ia.call(this,a)}E(kf,Ia);kf.prototype.name="cancel";function ef(a,b,c){this.g=a;this.resolve=b;this.e=c};function vf(a,b){K.call(this);this.k=a||1;this.j=b||wf;this.l=C(this.o,this);this.n=D()}E(vf,K);vf.prototype.g=!1;var wf=v;vf.prototype.e=null;vf.prototype.setInterval=function(a){this.k=a;this.e&&this.g?(xf(this),yf(this)):this.e&&xf(this)};vf.prototype.o=function(){if(this.g){var a=D()-this.n;0<a&&a<.8*this.k?this.e=this.j.setTimeout(this.l,this.k-a):(this.e&&(this.j.clearTimeout(this.e),this.e=null),qe(this,"tick"),this.g&&(xf(this),yf(this)))}};
function yf(a){a.g=!0;a.e||(a.e=a.j.setTimeout(a.l,a.k),a.n=D())}function xf(a){a.g=!1;a.e&&(a.j.clearTimeout(a.e),a.e=null)}vf.prototype.z=function(){vf.F.z.call(this);xf(this);delete this.j};function zf(a,b,c){if(ya(a))c&&(a=C(a,c));else if(a&&"function"==typeof a.Ba)a=C(a.Ba,a);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:wf.setTimeout(a,b||0)};function Af(){this.g=new Bd;this.e=new ye}var Bf=null;
function Cf(a){var b=ModelServices.getTime,c=Bf.g;La=Bf.e;D=b;wf=c;setTimeout=function(a,b){return wf.setTimeout(a,b)};clearTimeout=function(a){wf.clearTimeout(a)};setInterval=function(a,b){return wf.setInterval(a,b)};clearInterval=function(a){wf.clearInterval(a)};window.setTimeout=setTimeout;window.clearTimeout=clearTimeout;window.setInterval=setInterval;window.clearInterval=clearInterval;a&&(window.Promise=Promise);v.window=window;v.Oc=window;v.USE_V8=!0;v.JSON=JSON}q=Af.prototype;
q.handleHttpDataBatch=function(a,b,c,d,e,f){if(d=this.e.e[a])Ae(d,b,c,e,f);else throw Error("XMLHttpRelay: non-existent stream id="+a);};q.handleHttpRequestFailure=function(a,b){var c=this.e.e[a];if(c)Ae(c,c.qb,b,"","{}");else throw Error("XMLHttpRelay: non-existent stream id="+a);};q.invokeTimer=function(a){return this.g.invokeTimer(a)};function Df(a){Bf||(v=window,Bf=new Af,Cf(a),a=Bf,la={},Object.defineProperty(la,"onLine",{get:C(a.ee,a)}),window.navigator=la,v.navigator=la);return Bf}
q.configureLocation=function(a){a=new jc(a);var b=a.e;a.k&&(b+=":"+a.k);window.location={Pe:b,Hf:a.e,href:a.toString(),Uf:a.g,Xb:a.j,search:nc(a.i.toString())}};q.setOnlineDetector=function(a){a&&(this.i=new Cc(a))};q.ee=function(){return this.i?this.i.isOnline():!0};qa("createV8Bootstrap",function(){return Df()});qa("createV8BootstrapWithNativePromise",function(){return Df(!0)});function Ef(a){return Jc(a.prototype,"$$generatedClassName",function(){return"Class$obf_"+{valueOf:function(){return++Ff}}})}function Gf(a){function b(){return c.apply(b,arguments)}var c=Hf.prototype.e;Jf(a,b);return b}var Ff=1E3;function Kf(){}Kf.prototype.cb=function(a){return Lf(this,a)};Kf.prototype.A=function(){return Mf(this)};Kf.prototype.toString=function(){return L(Nf(Of(this.constructor)))+"@"+L((this.A()>>>0).toString(16))};function Pf(){this.g=null;this.k=!1;this.e=null}t(Pf,Kf);function Qf(a,b){Rf(a);a.g=b;Sf(a);Tf(a)}function Tf(a){var b;null==a.g?b=null:b=a.g.replace(/\n/g,"\u200b\n");b=Uf(a,b);b=a.q(b);if(!("stack"in b))try{throw b;}catch(c){}Wf(a,b)}Pf.prototype.q=function(a){return Error(a)};function Wf(a,b){a.e=b;if(null!=b)try{b.__java$exception=a}catch(c){}}function Sf(a){a.k&&("__noinit__"===a.e||Tf(a))}Pf.prototype.i=n("g");Pf.prototype.toString=function(){return Uf(this,this.i())};
function Uf(a,b){a=Nf(Of(a.constructor));return null==b?a:L(a)+": "+L(b)}function Xf(a){if(null!=a){var b=a.__java$exception;if(null!=b)return b}a instanceof TypeError?(b=new Yf,Rf(b),Sf(b),Wf(b,a),b.g=L(a),a=b):(b=new Zf,Rf(b),Sf(b),Wf(b,a),b.g=L(a),a=b);return a}function Rf(a){a.k=!0;a.e="__noinit__"};function $f(){Pf.call(this)}t($f,Pf);function ag(){Pf.call(this)}t(ag,$f);function bg(a){var b=new ag;Qf(b,a);return b};function Lf(a,b){return a===b||null==a&&null==b};function cg(a){return Math.max(Math.min(a,2147483647),-2147483648)|0};var eg;function Mf(a){return a.Sc||(Object.defineProperties(a,{Sc:{value:++fg,enumerable:!1}}),a.Sc)}var fg=0;function gg(){Pf.call(this)}t(gg,ag);function hg(a){var b=new gg;Qf(b,a);return b};function Zf(){Pf.call(this)}t(Zf,ag);function Yf(){Pf.call(this)}t(Yf,Zf);Yf.prototype.q=function(a){return new TypeError(a)};function ig(){this.T=null}t(ig,Kf);ig.prototype.toString=n("T");function jg(a,b){return"string"==typeof a?a.charCodeAt(b):a.T.charCodeAt(b)};function kg(){this.T=null}t(kg,ig);function lg(){Pf.call(this)}t(lg,ag);function mg(a){var b=new lg;Qf(b,a);return b};function ng(a){return 56320<=a&&57343>=a};function og(){Pf.call(this)}t(og,lg);var pg,qg;function rg(){rg=h();qg=new Kf;sg=0;pg=new Kf}var sg=0;function tg(a){switch(typeof a){case "string":rg();var b=":"+L(a);var c=pg[b];if(null!=c)b=cg(c);else{c=qg[b];if(null==c){var d=0;c=a.length;for(var e=c-4,f=0;f<e;)d=a.charCodeAt(f+3)+31*(a.charCodeAt(f+2)+31*(a.charCodeAt(f+1)+31*(a.charCodeAt(f)+31*d))),d|=0,f+=4;for(;f<c;)d*=31,e=f++,d+=a.charCodeAt(e);a=d|0}else a=cg(c);256==sg&&(qg=pg,pg=new Kf,sg=0);++sg;b=pg[b]=a}return b;case "number":return cg(a);case "boolean":return a?1231:1237;default:return null==a?0:Mf(a)}};function L(a){if(null==a)a="null";else if(a instanceof Array){var b=a.mf;a=Nf(b?Of(b.Lf,b.Bf):Of(Kf,1))+"@"+(Mf(a)>>>0).toString(16)}else a=a.toString();return a}function ug(a,b){var c=a.length,d=jg(a,b++),e,f;55296<=d&&56319>=d&&b<c&&ng(e=jg(a,b))?f=65536+((d&1023)<<10)+(e&1023):f=d;return f};function vg(a,b){this.g=a;this.e=b}t(vg,Kf);function Nf(a){var b=Ef(a.g);0!=a.e&&(b="L"+L(b)+";");return L(wg("[",a.e))+L(b)}vg.prototype.toString=function(){return"class "+L(Nf(this))};function wg(a,b){for(var c="",d=0;d<b;d++)c=L(c)+L(a);return c}function Of(a,b){var c=b||0;return Jc(a.prototype,"$$class/"+c,function(){return new vg(a,c)})};function xg(a,b){if(!a)throw hg(L(b)).e;};function yg(a,b){a=L(a);b=null==b?["(Object[])null"]:b;var c=new kg;c.T="";for(var d=0,e=0;e<b.length;){var f=a.indexOf("%s",d);if(-1==f)break;var g=a,l=d,k=f;d=L(c.T);g=L(g).substr(l,k-l);c.T=d+L(g);g=b[e++];c.T=L(c.T)+L(g);d=f+2}f=a;g=d;d=a.length;a=L(c.T);f=L(f).substr(g,d-g);c.T=a+L(f);if(e<b.length){c.T=L(c.T)+" [";a=b[e++];for(c.T=L(c.T)+L(a);e<b.length;)c.T=L(c.T)+", ",a=b[e++],c.T=L(c.T)+L(a);c.T=L(c.T)+String.fromCharCode(93)}return c.toString()};function zg(a,b){a.push(b)};var Ag;function Bg(){Bg=h();Ag=new Cg(null)};function Cg(a){this.e=new Dg;if(null!=a)for(var b in a){var c=b,d=a[b];var e=this.e.get();e[c]=void 0!==d?d:null}}t(Cg,Kf);function M(){return Bg(),Ag}Cg.prototype.get=function(a){return this.e.get()[a]};function Eg(a,b){a=a.e.get();return b in a}function O(a,b){a=a.get(b);return"string"==typeof a?"true"==a||"1"==a:!!a}
function Fg(a){var b=M();if(!Eg(b,a)||null==b.get(a))return NaN;try{var c=L(b.get(a));null==eg&&(eg=/^\s*[+-]?(NaN|Infinity|((\d+\.?\d*)|(\.\d+))([eE][+-]?\d+)?[dDfF]?)\s*$/);if(!eg.test(c)){var d='For input string: "'+L(c)+'"',e=new og;Qf(e,d);throw e.e;}return parseFloat(c)}catch(f){f=Xf(f);if(f instanceof og)return NaN;throw f.e;}}function Gg(a){var b=M();if(!Eg(b,a))return"";a=b.get(a);return null==a?"":"number"===typeof a&&cg(a)==cg(a)?""+cg(a):L(a)}
function Hg(a,b){var c={};if(!Eg(a,b))return c;a=a.get(b);return null!=a?a:c};function Dg(){this.e=null}t(Dg,Kf);Dg.prototype.get=function(){null==this.e&&(this.e=v._docs_flag_initialData||{});return this.e};function Ig(){}t(Ig,Kf);Ig.prototype.e=function(a){if(null==a)throw a=new Yf,Qf(a,"can't identity hash null"),a.e;return":"+tg(a)};var Jg;function Kg(){Lg();return Jg}function Lg(){Lg=h();Jg=new Ig};function Mg(a){for(var b=[],c=0;c<a.length;c++)b.push(new Ng(a[c]));return b};function Og(){}t(Og,Kf);function Pg(a,b,c,d){this.i=a;this.g=b;this.j=c;this.e=d||0}Pg.prototype.Q=n("i");Pg.prototype.na=n("g");function Qg(a,b){this.e=x(a)?a:0;this.g=x(b)?b:""};function Rg(){var a=void 0===a?lb:a;var b=a(2147483647).toString(16);b=Lb("0",Math.max(0,8-b.length))+b;return a(2147483647).toString(16)+b};function Sg(a,b){return Kg().e(b)in a};function Tg(){this.j=!1}t(Tg,Kf);Tg.prototype.aa=function(){if(!this.j){this.j=!0;this.g();var a=Of(this.constructor);L(Ef(a.g));L(wg("[]",a.e))}};Tg.prototype.q=n("j");Tg.prototype.g=h();function Ug(a,b){this.g=a<b?a:b;this.e=a<b?b:a}Ug.prototype.S=function(){return new Ug(this.g,this.e)};function Vg(a){for(var b="",c=0;c<a.length;c++){var d=ug(a,c),e=!1,f=a.charCodeAt(c),g=ng(a.charCodeAt(c));55296<=f&&56319>=f?e=!(65536<=d&&1114111>=d):g&&(0<c?(e=ug(a,c-1),e=!(65536<=e&&1114111>=e)):e=!0);e&&(b=L(b)+String("\\u"+L((d>>>0).toString(16))))}return b};function Hf(){this.Jb=this.Pb=null}t(Hf,Kf);Hf.prototype.e=function(a){this.Pb.Yb(this);var b=this.Jb;b(a)};function Jf(a,b){b.Pb=a.Pb;b.Jb=a.Jb;b.nf=!0};function P(){this.j=!1;this.e={};this.i=null}t(P,Tg);function Wg(a,b){if(null==b)throw a=new Yf,Rf(a),Sf(a),Tf(a),a.e;if(Sg(a.e,b))throw hg(yg("Observer %s previously registered.",[b])).e;var c=a.e;var d=Kg().e(b);c[d]=void 0!==b?b:null;a.i=null;return b}P.prototype.Yb=function(a){if(!Sg(this.e,a))throw mg(yg("Trying to remove inexistant Observer %s.",[a])).e;a=Kg().e(a);delete this.e[a];this.i=null};P.prototype.g=function(){Tg.prototype.g.call(this);var a=this.e,b;for(b in a)delete a[b];this.i=null};
function Q(a,b){if(null==a.i){var c=a.e,d=[],e;for(e in c)d.push(c[e]);a.i=d}a=a.i;for(c=0;c<a.length;c++)(0,a[c])(b)};function Xg(a,b,c,d){this.e=a;this.g=b;this.j=c;this.i=d}var Yg=null;function Zg(){if(!Yg){var a=M();O(a,"docs-text-ewf");var b=O(a,"docs-efsd"),c=O(a,"docs-fse");O(a,"docs-efpsf");var d=O(a,"docs-enlsae");O(a,"docs-ejsfawf");O(a,"docs-eksfawf");Yg=new Xg(b,c,d,null)}return Yg};function $g(){return Zg().e?"*":"latin"};function ah(a,b){this.e=a;this.g=b}ah.prototype.getFontFamily=n("e");ah.prototype.M=n("g");function bh(a){return"Font|"+a.e+"|"+a.g};function ch(a,b){this.e=a;this.g=b}function dh(a){var b=a,c=400;a=a.split(";");a.length&&(b=a[0]);2==a.length&&(a=Number(a[1]))&&(c=a);return new ch(b,c)}function eh(a){return Qa(a,function(a){return dh(a)})};function fh(a,b,c){this.e=a;this.g=b;this.i=c}function gh(a,b){a=a.split(";");return new fh(a[0],a[2]||b,parseInt(a[1],10)||400)}function hh(a,b){return Qa(a,function(a){return gh(a,b)})}function ih(a,b){for(var c=[],d=0;d<a.length;d++)for(var e=0;e<b.length;e++)c.push(new fh(a[d].e,b[e],a[d].g));return c};function jh(){this.e=[]}jh.prototype.g=!1;function kh(a,b){for(var c=0;c<a.e.length;++c){var d=b,e=a.e[c];a.g&&(d.e=[],d.g=!0);d.e.push(e);a.g=!1}a.e=[]}function lh(a){var b=a.e;a.e=[];a.g=!1;return b}jh.prototype.L=function(){return 0==this.e.length};function mh(a){this.e=a};function nh(a,b,c){this.e=a;this.k=b;this.g=c}E(nh,mh);function oh(a,b,c,d){nh.call(this,"append-commands",a,b);this.i=c;this.j=d}E(oh,nh);function ph(){this.e=("undefined"==typeof ma?null:ma)||{Ya:""}}q=ph.prototype;q.set=function(a,b,c,d,e,f){if(/[;=\s]/.test(a))throw Error('Invalid cookie name "'+a+'"');if(/[;\r\n]/.test(b))throw Error('Invalid cookie value "'+b+'"');x(c)||(c=-1);e=e?";domain="+e:"";d=d?";path="+d:"";f=f?";secure":"";c=0>c?"":0==c?";expires="+(new Date(1970,1,1)).toUTCString():";expires="+(new Date(D()+1E3*c)).toUTCString();this.e.Ya=a+"="+b+e+d+c+f};
q.get=function(a,b){for(var c=a+"=",d=(this.e.Ya||"").split(";"),e=0,f;e<d.length;e++){f=Ab(d[e]);if(0==f.lastIndexOf(c,0))return f.substr(c.length);if(f==a)return""}return b};q.la=function(){return qh(this).keys};q.O=function(){return qh(this).values};q.L=function(){return!this.e.Ya};q.W=function(){return this.e.Ya?(this.e.Ya||"").split(";").length:0};
function qh(a){a=(a.e.Ya||"").split(";");for(var b=[],c=[],d,e,f=0;f<a.length;f++)e=Ab(a[f]),d=e.indexOf("="),-1==d?(b.push(""),c.push(e)):(b.push(e.substring(0,d)),c.push(e.substring(d+1)));return{keys:b,values:c}}var rh=new ph;rh.g=3950;function sh(){this.g=rh;this.e=!1};function th(a){Pf.call(this);Qf(this,a)}t(th,$f);th.prototype.ba=n("e");th.prototype.i=function(){return $f.prototype.i.call(this)};Fa(h(),Kd.prototype);function uh(a){this.e={};this.i=a||new sh;this.setTime=this.g;this.incrementTime=this.j;this.setServerValues=this.k}var vh=null;uh.prototype.g=function(a){wh(this,a,D())};uh.prototype.getTime=function(a){a=this.e[a];return null!=a?a:null};uh.prototype.j=function(a,b){null!=this.e[a]||(this.e[a]=0);this.e[a]+=b};function wh(a,b,c){if(null!=a.e[b])throw Error("Field "+b+" is already set.");a.e[b]=c}
uh.prototype.k=function(a){if(!O(M(),"icso")){if(a)for(var b in a)wh(this,b,a[b]);a="";if(!this.i.e){b=this.i;if(b.e)throw Error("GfeRoundTripTimeProvider was called more than once");b.e=!0;a=b.g.get("GFE_RTT");b=b.g;b.get("GFE_RTT");b.set("GFE_RTT","",0,"/",".docs.google.com");a=a?a:null}isFinite(a)&&(a=String(a));a=A(a)?/^\s*-?0x/i.test(a)?parseInt(a,16):parseInt(a,10):NaN;isNaN(a)||wh(this,"gfertt",a);wh(this,"sldummy",0)}};function xh(){vh||(vh=new uh);return vh}v._getTimingInstance=xh;
v._docsTiming=uh;function yh(){G.call(this);this.e=xh()}E(yh,G);function zh(a,b,c){th.call(this,"Local storage error: "+b);this.type=a;this.j=c||null}t(zh,th);function Ah(a){return"Failed to write to localstore ("+a.type+"): "+$f.prototype.i.call(a)}function Bh(a){return(a=a.j&&a.j instanceof Event?a.j.ga:null)?a.error:null};function Ch(){G.call(this);xh()}E(Ch,G);function Dh(a,b){G.call(this);this.g=b;this.e=new yh(this.g);new Ch("mr")}E(Dh,G);function Eh(a,b){this.e=a;this.g=b};function Fh(a,b){b.push(a);for(var c=0;c<a.length;c++)if(va(a[c])){if(O(M(),"docs-anlpfdo"))Oa(b,a[c]);else if(0<=Oa(b,a[c]))throw Error("Circular reference detected");Fh(a[c],b)}b.pop()}function Gh(a,b,c){if(a.length!=b.length)return!1;c=c||cb;for(var d=0;d<a.length;d++)if(!c(a[d],b[d]))if(va(a[d])&&va(b[d])){if(!Gh(a[d],b[d],c))return!1}else return!1;return!0};function Hh(a,b){if(a==b)return!0;if(!za(a)||!za(b))return!1;var c=ub(a);if(c.length!=ub(b).length)return!1;for(var d=Ih||cb,e=0;e<c.length;e++){var f=c[e];if(!(f in b&&d(a[f],b[f])))return!1}return!0}function Ih(a,b){return a===b?!0:va(a)&&va(b)?bb(a,b,Ih):za(a)&&za(b)?Hh(a,b):!1}function Jh(a,b){b.push(a);for(var c in a)if(za(a[c])){if(O(M(),"docs-anlpfdo"))Oa(b,a[c]);else if(0<=Oa(b,a[c]))throw Error("Circular reference detected");Jh(a[c],b)}b.pop()};function Kh(a,b){this.B=a;this.e={};this.l={};this.H=b||!1;this.q=!this.H}q=Kh.prototype;q.xa=!1;q.Jd=!1;q.ra=function(){return this.H||!vb(this.l)};function Lh(a,b){b?a.Jd=!0:a.ra();a.xa=!0}function Mh(a,b){a=Nh(a,b);return null==a?null:xb(a)}function Oh(a,b){a=Ph(a,b);return null==a||0==a?null:a}function Ph(a,b){a=Nh(a,b);return null==a?null:a}function Qh(a,b){a=Nh(a,b);return null==a?null:a}function Rh(a,b){return null==Nh(a,b)?null:""!=a.e[b]}function R(a,b,c){return S(a,b,c?"true":"")}
function Sh(a,b){a=Nh(a,b);return null==a?null:xb(a)}function Th(a){return xb(a.e.keyPath)}function Nh(a,b){a=a.e[b];return null!=a?a:null}function S(a,b,c,d){if(za(c)&&!va(c))return Jh(c,[]),null!=a.e[b]&&Ih(a.e[b],c)||(c=d?c:xb(c),a.e[b]=c,a.q||(a.l[b]=c)),a;if(va(c))return O(M(),"docs-anlpfdo")||Fh(c,[]),Jh(c,[]),null!=a.e[b]&&Gh(a.e[b],c)||(c=d?c:xb(c),a.e[b]=c,a.q||(a.l[b]=c)),a;a.e[b]!=c&&(a.e[b]=c,a.q||(a.l[b]=c));return a}
function Uh(a,b,c,d){var e=a.e,f=e[b];null==f&&(e[b]=f={});f[c]=d;a.q||(a=a.l,e=a[b],null==e&&(a[b]=e={}),e[c]=d)}q.sb=function(){this.l={};this.H=!1};q.vb=aa(null);function Vh(a){this.e=a};function Wh(a){return a?new Vh(a[0]):null};function Xh(a,b,c){Kh.call(this,"document",c);this.g=new jh;S(this,"id",a);S(this,"documentType",b)}E(Xh,Kh);function Yh(a){return a.e.id}function Zh(a){return a.e.documentType}function $h(a,b,c){S(a,"rev",b);S(a,"rai",c?[c.e]:null)}q=Xh.prototype;q.Q=function(){return Ph(this,"rev")};q.Gb=function(a){R(this,"lss",a)};q.Fb=function(a){S(this,"lsft",a)};function ai(a,b){S(a,"lastModifiedServerTimestamp",b)}function bi(a,b){S(a,"docosKeyData",b)}
function ci(a,b){S(a,"lastModifiedClientTimestamp",b)}q.vb=function(){var a=this.g.L();return a&&!this.xa?Xh.F.vb.call(this):new Eh(Yh(this),a?1:2)};function di(a,b,c){Uh(a,"startupHints",b,c)}function ei(a,b){R(a,"modelNeedsResync",b)}function fi(a,b){S(a,"modelVersion",b)}function gi(a,b){S(a,"featureVersion",b)}function hi(a,b){S(a,"lastServerSnapshotTimestamp",b)}function ii(a,b){S(a,"snapshotState",b)}
function ji(a,b){if(0>b)throw Error("Cannot set snapshotProtocolNumber to a negative number.");S(a,"snapshotProtocolNumber",b)}function ki(a,b){S(a,"pendingQueueState",b)}function li(a){return Ph(a,"pendingQueueState")}q.ra=function(){return Xh.F.ra.call(this)||!this.g.L()};var mi=["drawing","kix","punch"];function ni(a,b,c,d){var e=d||ta;a=oi(a);a.length?pi(qi(b,a),c,function(a){return e(a.ba())}):c()}function oi(a){var b=(Mh(a,"startupHints")||{}).fontFamilies;try{var c=b?JSON.parse(b):[],d=ri(Zh(a))?$g():"latin";return hh(c,d)}catch(e){return[]}}function si(a,b){b=Zg().g?Qa(b,function(a){return a.e+";"+a.i+";"+a.g}):Qa(b,function(a){a=new ch(a.e,a.i);return 400==a.g?a.e:a.e+";"+a.g});di(a,"fontFamilies",se(b))}function ri(a){return Zg().j?!0:0<=Oa(mi,a)};/*
 Portions of this code are from MochiKit, received by
 The Closure Authors under the MIT license. All other code is Copyright
 2005-2009 The Closure Authors. All Rights Reserved.
*/
function T(a,b){this.l=[];this.I=a;this.A=b||null;this.k=this.g=!1;this.j=void 0;this.v=this.K=this.H=!1;this.B=0;this.i=null;this.q=0}function ti(a,b){if(a.g)a.j instanceof T&&ti(a.j);else{if(a.i){var c=a.i;delete a.i;b?ti(c,b):(c.q--,0>=c.q&&ti(c))}a.I?a.I.call(a.A,a):a.v=!0;a.g||a.errback(new ui(a))}}T.prototype.w=function(a,b){this.H=!1;vi(this,a,b)};function vi(a,b,c){a.g=!0;a.j=c;a.k=!b;wi(a)}function xi(a){if(a.g){if(!a.v)throw new yi(a);a.v=!1}}
T.prototype.e=function(a){xi(this);vi(this,!0,a)};T.prototype.errback=function(a){xi(this);vi(this,!1,a)};function U(a,b,c){return zi(a,b,null,c)}function Ai(a,b,c){zi(a,b,function(a){var c=b.call(this,a);if(!x(c))throw a;return c},c)}function zi(a,b,c,d){a.l.push([b,c,d]);a.g&&wi(a);return a}T.prototype.then=function(a,b,c){var d,e,f=new Ue(function(a,b){d=a;e=b});zi(this,d,function(a){a instanceof ui?jf(f):e(a)});return f.then(a,b,c)};Se(T);
function Bi(a,b){b instanceof T?U(a,C(b.N,b)):U(a,function(){return b})}T.prototype.N=function(a){var b=new T;zi(this,b.e,b.errback,b);a&&(b.i=this,this.q++);return b};function Ci(a){return Sa(a.l,function(a){return ya(a[1])})}
function wi(a){if(a.B&&a.g&&Ci(a)){var b=a.B,c=Di[b];c&&(v.clearTimeout(c.e),delete Di[b]);a.B=0}a.i&&(a.i.q--,delete a.i);b=a.j;for(var d=c=!1;a.l.length&&!a.H;){var e=a.l.shift(),f=e[0],g=e[1];e=e[2];if(f=a.k?g:f)try{var l=f.call(e||a.A,b);x(l)&&(a.k=a.k&&(l==b||l instanceof Error),a.j=b=l);if(Te(b)||"function"===typeof v.Promise&&b instanceof v.Promise)d=!0,a.H=!0}catch(k){b=k,a.k=!0,Ci(a)||(c=!0)}}a.j=b;d&&(l=C(a.w,a,!0),d=C(a.w,a,!1),b instanceof T?(zi(b,l,d),b.K=!0):b.then(l,d));c&&(b=new Ei(b),
Di[b.e]=b,a.B=b.e)}function Fi(a){var b=new T;b.e(a);return b}function yi(){Ia.call(this)}E(yi,Ia);yi.prototype.message="Deferred has already fired";yi.prototype.name="AlreadyCalledError";function ui(){Ia.call(this)}E(ui,Ia);ui.prototype.message="Deferred was canceled";ui.prototype.name="CanceledError";function Ei(a){this.e=v.setTimeout(C(this.i,this),0);this.g=a}Ei.prototype.i=function(){delete Di[this.e];throw this.g;};var Di={};function Gi(a,b){pi(a,function(a){b.e(a)},function(a){b.errback(a)})}function Hi(a){var b=new T;Gi(a,b);return b}function Ii(a){return new Ue(function(b,c){pi(a,function(a){b(a)},function(a){c(a)})})};function Ji(){this.j=!1;this.H=this.o=null;this.e=1;this.l=!1;this.i=[];this.k=[]}t(Ji,Tg);Ji.prototype.ba=function(){xg(3==this.e,"XDeferred does not have an error");return this.H};function V(a,b){xg(4!=a.e,"Cannot fire a disposed XDeferred");xg(1==a.e,"Cannot fire a XDeferred more than once");a.o=b;Ki(a,!0)}Ji.prototype.errback=function(a){xg(4!=this.e,"Cannot fire a disposed XDeferred");xg(1==this.e,"Cannot fire a XDeferred more than once");this.H=a;Ki(this,!1)};
function pi(a,b,c){xg(4!=a.e,"Cannot add callback to disposed XDeferred");xg(!a.l,"Cannot add callback to XDeferred that is firing its callback/errback queue");Li(a,b,c)||(null!=b&&zg(a.i,function(a){b(a)}),null!=c&&zg(a.k,function(a){c(a)}))}function Mi(a,b){pi(a,b,null)}function Ni(a,b){pi(a,null,b)}
function Oi(a,b){function c(a){e.errback(a)}function d(a){var c=null;try{c=b(a)}catch(l){l=Xf(l);if(l instanceof $f){e.errback(l);return}throw l.e;}V(e,c)}xg(0==a.l,"Cannot add callback to XDeferred that is firing its callback/errback queue");var e=new Ji;if(Li(a,d,c))return e;a.i.push(d);a.k.push(c);return e}Ji.prototype.g=function(){this.e=4;this.i.length=0;this.k.length=0;Tg.prototype.g.call(this)};
function Ki(a,b){a.l=!0;if(b)for(a.e=2,b=0;b<a.i.length;b++)(0,a.i[b])(a.o);else for(a.e=3,b=0;b<a.k.length;b++)(0,a.k[b])(a.H);a.l=!1;a.i.length=0;a.k.length=0}function Li(a,b,c){return 1!=a.e?(a.l=!0,2==a.e&&null!=b?b(a.o):3==a.e&&null!=c&&c(a.H),a.l=!1,!0):!1};function Pi(a,b){Ji.call(this);this.B=null;this.n=0;this.w=b;this.v=a;this.B=Array(a)}t(Pi,Ji);function Qi(a,b){var c=new Pi(a.length,b);b={};for(var d=0;d<a.length;b={Wb:b.Wb},d++)b.Wb=d,pi(a[d],function(a){return function(b){var d=a.Wb;c.n++;var e=new Ri;e.e=!0;e.i=b;c.B[d]=e;1!=c.e||c.n!=c.v||V(c,c.B)}}(b),function(a){return function(b){var d=a.Wb;c.n++;var e=new Si;e.e=!1;e.i=b;c.B[d]=e;1!=c.e||(c.w?c.errback(b):c.n==c.v&&V(c,c.B))}}(b));0==a.length&&V(c,c.B);return c};function Ti(){this.e=!1}t(Ti,Kf);function Si(){this.e=!1;this.i=null}t(Si,Ti);Si.prototype.g=function(){throw hg("Illegal getValue call on failed result, callers must check hasSucceeded() first.").e;};Si.prototype.ba=n("i");function Ri(){this.e=!1;this.i=null}t(Ri,Ti);Ri.prototype.g=n("i");Ri.prototype.ba=function(){throw hg("Illegal getError call on successful result, callers must check hasSucceeded() first.").e;};function Ui(){return new Ji}function Vi(a){return Oi(Qi(a,!0),function(a){for(var b=Array(a.length),d=0;d<a.length;d++){var e=a[d].g();b[d]=e}return b})}function Wi(a){var b=Ui();V(b,a);return b}function Xi(a){var b=Ui();b.errback(a);return b}function Yi(a,b){xg(1==b.e,"Cannot pass already fired Deferred to be chained");pi(a,function(a){V(b,a)},function(a){b.errback(a)})};function Zi(a){if(a instanceof Pf)return a.e;if(a instanceof Error)return a;throw bg("Cannot cast an object that is neither a JS Error nor a Java Throwable").e;}function $i(a){if(a instanceof Pf)return a;if(a instanceof Error)return Xf(a);throw mg("Unsupported type cannot be used to create a Throwable.").e;};function aj(a){this.e=a}aj.prototype.g=function(){return["fontFamilies"]};aj.prototype.i=function(a,b){var c=Ui();if((b=Zg().g?b.fontVariantsWithSubsets:b.fontFamilies)&&b.length){var d=ri(Zh(a))?$g():"latin";si(a,hh(b,d));ni(a,this.e,function(){return V(c,null)},function(a){c.errback(null!=a?$i(a):null)})}else V(c,null);return c};function bj(a,b,c){this.i=a;this.k=b;this.j=c;this.g={};this.e={}}
function cj(a,b){var c,d=[],e=[];for(c=0;c<b.length;c++){var f=b[c];if(a.g[f])e.push(Wi(f));else if(a.j.isOnline())if(0==f.indexOf("PLACEHOLDER_"))e.push(Xi(new th("It is a placeholder image")));else{var g=Ui();e.push(g);a.e[f]?a.e[f].push(g):(d.push(f),a.e[f]=[g])}else e.push(Xi(new th("It is offline.")))}0<d.length&&dj(a,a.i,d,a.k);return Oi(Qi(e,!1),function(b){for(var c={},d=0;d<b.length;d++)if(b[d].e&&b[d].g()){var e=b[d].g();c[e]=a.g[e]}return c})}
function dj(a,b,c,d){var e={};e.photo=c;e=cc(e);b=ej(fj(gj(d,"/copyimages"),"id",b),e);x(void 0)&&hj(b,void 0);ij(jj(kj(b,C(a.l,a,c)),C(a.q,a,c)))}bj.prototype.l=function(a,b){b=lj(b);for(var c=0;c<a.length;c++){var d=a[c];if(b[d]){var e=d;this.g[e]=b[d];d=this.e[e];for(var f=0;f<d.length;f++)V(d[f],e);delete this.e[e]}else mj(this,d)}};bj.prototype.q=function(a){for(var b=0;b<a.length;b++)mj(this,a[b])};function mj(a,b){for(var c=a.e[b],d=0;d<c.length;d++)c[d].errback();delete a.e[b]};function nj(a,b,c,d){this.i=a;this.g=b;this.e=c;this.j=!!d};function oj(a){this.g=!!a}oj.prototype.e=function(a,b,c,d){a=c.url;var e=Yb(v.location.href);Yb(a)!=e&&(a=fc(a,"cb",e));e=c.entityType;var f=O(M(),"docs-eedsr")&&"drawing"==e;f&&(a=dc(a,"fmt","svg"));"drawing"==e&&(this.g&&x(c.drawingRevision)?(b=b+"_"+c.drawingRevision,f&&(b+=".svg")):f&&(b+=".svg"));d[b]=new nj(b,a,e,"image"==e)};function pj(){this.e=["ritzChunkSize"]}pj.prototype.g=n("e");pj.prototype.i=function(a,b){for(var c=0;c<this.e.length;c++){var d=this.e[c];null!=b[d]&&di(a,d,b[d])}return Wi(null)};function qj(a){this.e={};for(var b=0;b<a.length;b++)for(var c=a[b],d=c.g(),e=0;e<d.length;e++){var f=d[e];if(this.e[f])throw Error("Key "+f+" registered in multiple StartupHintProcessors");this.e[f]=c}}function rj(a,b,c){var d=[],e;for(e in c)if(a.e[e]){var f={};f[e]=c[e];f=a.e[e].i(b,f);d.push(f)}return Vi(d)};function sj(a){this.e=a}function tj(a,b){var c=Ui();a.e.revokeUrl2(b,new uj(c),new vj(c));return c}function uj(a){this.e=a}uj.prototype.revokerSuccess=function(){V(this.e,null)};function vj(a){this.e=a}vj.prototype.revokerFailure=function(){this.e.errback(new th("NativeImageUrlRevoker fired the error callback."))};function wj(a){var b={};a:switch(a){case "createPhoto":var c="image_upload_other_error";break a;case "badScottyUrl":case "connectionError":case "fileNotFound":case "invalidFileData":case "jsonError":case "nonexistentImageUrl":case "offlineSync":case "iosOtherSession":c="image_upload_pre_upload_error";break a;default:c="image_upload_scotty_error"}b[c]=a;return b};function xj(a,b,c){if(!!b==!!c)throw Error("Must have cosmo id xor error.");this.k=a;this.g=b;this.i=c;this.j=!!b}xj.prototype.oa=n("k");xj.prototype.ub=n("g");xj.prototype.ba=n("i");xj.prototype.e=n("j");function yj(a){this.isOnline=a};function zj(){this.g=this.e=null}t(zj,Kf);function Aj(a,b){var c=new zj;c.e=a;c.g=b;return c};function Bj(){this.j=!1;this.e=[]}t(Bj,Tg);function Cj(a,b,c){b=Aj(b,Wg(b,c));a.e.push(b)}function Dj(a,b,c){var d=new Hf;d.Pb=b;d.Jb=c;c=Gf(d);b=Aj(b,Wg(b,c));a.e.push(b)}Bj.prototype.g=function(){var a;for(a=this.e.pop();null!=a;)Sg(a.e.e,a.g)&&a.e.Yb(a.g),a=this.e.pop();Tg.prototype.g.call(this)};Bj.prototype.Yb=function(a){for(var b=0;b<this.e.length;b++){var c=this.e[b];if(void 0==c.g&&Lf(c.e,a)){Sg(c.e.e,c.g)&&c.e.Yb(c.g);a=b;a==this.e.length-1?this.e.pop():(b=this.e.pop(),this.e[a]=b);break}}};function Ej(a,b,c,d,e,f){ij(kj(Fj(fj(gj(d,"/createphoto"),"id",a),b),function(a){var b=lj(a);if(a=b.imageError){a:switch(a){case 2:case 3:b="The selected image is too large.";break a;case 4:case 5:case 6:case 7:case 8:b="The selected image is in an unsupported format.";break a;default:b="There was a problem retrieving the specified image."}f(c,a,b)}else e(c,b.imageId,b.width,b.height,void 0)}))};function Gj(a,b,c){G.call(this);this.g=a;this.k=b||0;this.j=c;this.i=C(this.l,this)}E(Gj,G);Gj.prototype.e=0;Gj.prototype.z=function(){Gj.F.z.call(this);Hj(this);delete this.g;delete this.j};function Hj(a){0!=a.e&&wf.clearTimeout(a.e);a.e=0}Gj.prototype.l=function(){this.e=0;this.g&&this.g.call(this.j)};function Ij(a,b,c,d){G.call(this);this.i=null!=d?d:.15;this.k=a;this.j=b;this.n=c;this.e=new Gj(this.o,void 0,this);this.l=Number.NEGATIVE_INFINITY;this.g=0}E(Ij,G);function Jj(a,b,c){b&&(Hj(a.e),Kj(a,a.j));0==a.e.e&&(b=D(),b=Math.max(0,a.l+a.g-b),0==b&&(c?b=Kj(a,a.j):a.g=0),a=a.e,c=b,Hj(a),a.e=zf(a.i,x(c)?c:a.k))}function Kj(a,b){0<b&&0!=a.i&&(b=Math.floor(b*(1-a.i+Math.random()*a.i*2)));return a.g=b}Ij.prototype.o=function(){this.l=D();Kj(this,Math.min(Math.max(2*this.g,this.j),this.n));this.k()};
Ij.prototype.z=function(){this.e.aa();delete this.e;delete this.k;Ij.F.z.call(this)};function Lj(a,b,c,d,e,f){var g=this;G.call(this);this.g=a;this.k=new Bj;H(this,this.k);Cj(this.k,this.g.e,function(a){for(var b in g.e){var c=g.e[b];a.isOnline?c.g||Jj(c.i,!0,!1):Hj(c.i.e)}});this.e={};this.l=b;this.i=c;this.v=d;this.o=e;this.j=f}E(Lj,G);q=Lj.prototype;
q.hf=function(a){for(var b=[],c=0;c<a.length;c++){var d=a[c],e=d.oa(),f=this.e[e];if(f.g)throw Error("Tried to transport blob that is currently being transported: "+e);f.g=!0;if(d=Qh(d,"oc"))b.push(d);else throw Error("Tried to transport via original image id on blob with no id.");}Mi(cj(this.l,b),C(this.oe,this,a))};
q.gf=function(a){var b=a.oa(),c=this.e[b];if(c.g)throw Error("Tried to transport blob that is currently being transported: "+b);c.g=!0;var d=Qh(a,"ou");if(a.getUrl()||d){var e;if(e=d)e=0==d.indexOf("http://")||0==d.indexOf("https://");if(e)a=C(this.Ee,this,b,c.e),b=C(this.De,this,b,c.e),Ej(this.i,{url:d},d||"",this.v,a,b);else{c=new T;d=new Mj(c);e=new Nj(c);var f=a.getUrl()||Qh(a,"ou");0==f.indexOf("docs.google.com.clipboard://")||0==f.indexOf("docs.google.com.itemprovider://")?(a=new T,a.errback(Error("iosOtherSession"))):
(this.n.startUpload(this.i,f,a.getFileName(),d,e),a=c);zi(a,C(this.je,this,b),C(this.ie,this,b))}}else b=new xj(b,null,Error("nonexistentImageUrl")),c.e.errback(b)};q.Wd=function(a){var b=this.e[a];if(!b)throw Error("Attempted to cleanup an unknown blob: "+a);b.i.aa();delete this.e[a]};q.Ee=function(a,b,c,d){a=new xj(a,d,null);b.e(a)};q.De=function(a,b,c,d){this.o.U(Error("Create photo failed with error: "+d));a=new xj(a,null,Error("createPhoto"));b.errback(a)};
q.je=function(a,b){var c=this.e[a];a=new xj(a,b,null);c.e.e(a)};q.ie=function(a,b){var c=this.e[a];"connectionError"==b.message?(c.g=!1,Jj(c.i,!1,!0)):(a=new xj(a,null,b),c.e.errback(a))};q.oe=function(a,b){for(var c=0;c<a.length;c++){var d=a[c],e=d.oa(),f=this.e[e];(d=Qh(d,"oc"))&&b[d]?(e=new xj(e,b[d],null),f.e.e(e)):(e=new xj(e,null,Error("unknown")),f.e.errback(e))}};function Oj(a,b){this.e=a;this.i=b;this.g=!1};function Pj(a,b,c,d,e,f){Lj.call(this,c,d,a,e,f);this.n=b}E(Pj,Lj);var Qj={0:"badScottyUrl",1:"canceled",2:"connectionError",3:"fileNotFound",4:"invalidAuth",5:"invalidFileData",6:"invalidResponse",7:"jsonError",9:"scottyError",10:"scottyReject"};function Mj(a){this.e=a}Mj.prototype.uploadSuccess=function(a){this.e.e(a)};function Nj(a){this.e=a}Nj.prototype.uploadFailure=function(a){this.e.errback(Error(Qj[a]||"unknown"))};F("Firefox");Hc()||F("iPod");F("iPad");!F("Android")||Gc()||F("Firefox")||F("Opera")||F("Silk");var Rj=Gc(),Sj=F("Safari")&&!(Gc()||F("Coast")||F("Opera")||F("Edge")||F("Silk")||F("Android"))&&!(Hc()||F("iPad")||F("iPod"));function Tj(){}var Uj="function"==typeof Uint8Array;function Vj(a,b,c,d){a.g=null;b||(b=c?[c]:[]);a.l=c?String(c):void 0;a.j=0===c?-1:0;a.e=b;a:{if(b=a.e.length)if(--b,(c=a.e[b])&&"object"==typeof c&&!va(c)&&!(Uj&&c instanceof Uint8Array)){a.k=b-a.j;a.i=c;break a}a.k=Number.MAX_VALUE}a.q={};if(d)for(b=0;b<d.length;b++)if(c=d[b],c<a.k)c+=a.j,a.e[c]=a.e[c]||Wj;else{var e=a.k+a.j;a.e[e]||(a.i=a.e[e]={});a.i[c]=a.i[c]||Wj}}var Wj=[];
function W(a,b){if(b<a.k){b+=a.j;var c=a.e[b];return c===Wj?a.e[b]=[]:c}if(a.i)return c=a.i[b],c===Wj?a.i[b]=[]:c}function Xj(a,b){if(b<a.k){b+=a.j;var c=a.e[b];return c===Wj?a.e[b]=[]:c}c=a.i[b];return c===Wj?a.i[b]=[]:c}function Yj(a,b){a=W(a,b);return null==a?0:a}function Zj(a){var b=ak;a.g||(a.g={});if(!a.g[1]){for(var c=Xj(a,1),d=[],e=0;e<c.length;e++)d[e]=new b(c[e]);a.g[1]=d}b=a.g[1];b==Wj&&(b=a.g[1]=[]);return b}
function bk(a){if(a.g)for(var b in a.g){var c=a.g[b];if(va(c))for(var d=0;d<c.length;d++)c[d]&&c[d].Rc();else c&&c.Rc()}}Tj.prototype.Rc=function(){bk(this);return this.e};Tj.prototype.toString=function(){bk(this);return this.e.toString()};Tj.prototype.S=function(){return new this.constructor(ck(this.Rc()))};
function ck(a){if(va(a)){for(var b=Array(a.length),c=0;c<a.length;c++){var d=a[c];null!=d&&(b[c]="object"==typeof d?ck(d):d)}return b}if(Uj&&a instanceof Uint8Array)return new Uint8Array(a);b={};for(c in a)d=a[c],null!=d&&(b[c]="object"==typeof d?ck(d):d);return b};function dk(a,b,c){Ia.call(this,c);this.Cc=b}E(dk,Ia);dk.prototype.docs_permanent_error_checker_817115=!0;dk.prototype.docs_offline_error_data_provider_134718=!0;dk.prototype.Gc=function(){switch(this.Cc){case 5:case 14:case 12:return!0;default:return!1}};function ek(a,b,c){G.call(this);this.o=c;this.bb=a;this.Xa=b;this.Y=!1}E(ek,G);ek.prototype.i=function(){if(this.Y)throw Error("The sync() method can be called only once");fk(this.k.e.k,C(this.df,this));this.Y=!0};ek.prototype.X=function(){this.q()||this.bb(this.o)};function gk(a){this.e=a};function Ng(a){this.e="offline-oc";this.g=a}E(Ng,gk);function hk(){}function ik(a){if("offline-oc"!=a.e)throw Error("Invalid Type");return a.g};function jk(a,b,c,d,e,f){T.call(this,e,f);this.o=a;this.n=[];this.C=!!b;this.P=!!c;this.V=!!d;for(b=this.G=0;b<a.length;b++)zi(a[b],C(this.D,this,b,!0),C(this.D,this,b,!1));0!=a.length||this.C||this.e(this.n)}E(jk,T);jk.prototype.D=function(a,b,c){this.G++;this.n[a]=[b,c];this.g||(this.C&&b?this.e([a,c]):this.P&&!b?this.errback(c):this.G==this.o.length&&this.e(this.n));this.V&&!b&&(c=null);return c};jk.prototype.errback=function(a){jk.F.errback.call(this,a);for(a=0;a<this.o.length;a++)ti(this.o[a])};
function kk(a){return U(new jk(a,!1,!0),function(a){for(var b=[],d=0;d<a.length;d++)b[d]=a[d][1];return b})};function lk(a,b,c){G.call(this);this.e=a;this.i=b;this.j=c;this.g=new Bj;H(this,this.g)}E(lk,G);
lk.prototype.R=function(){if(mk(this.e)){var a=this.e;var b=tb(a.e);zb(a.g,a.e);a.e={};a=this.i;for(var c=[],d=0;d<b.length;d++){var e=b[d];Qh(e,"oc")&&c.push(e)}var f=new Ij(C(a.hf,a,c),1E3,9E5,a.j);d=[];for(var g=0;g<b.length;g++){e=b[g];var l=e.oa();if(a.e[l])throw Error("Attempted to re-transport blob");var k=new T;if(Qh(e,"oc"))e=new Oj(k,f);else{var p=new Ij(C(a.gf,a,e),1E3,9E5,a.j);e=new Oj(k,p);a.g.isOnline()&&Jj(p,!1,!1)}a.e[l]=e;l=kb(C(a.Wd,a,l));zi(k,l,l,void 0);d.push(k)}0<c.length&&a.g.isOnline()&&
Jj(f,!1,!1);a=new T;U(new jk(d),C(this.k,this,b,a))}else a=Fi();return a};lk.prototype.k=function(a,b,c){for(var d=0;d<c.length;d++){var e=a[d].oa(),f=c[d][1];c[d][0]?nk(this.e,e,f.ub()):(ok(this.e,e),e=f.ba().message,this.j.log(Error("Failed to sync blob with error"),wj(e)))}mk(this.e)?Dj(this.g,this.e.n,function(){return b.e()}):b.e()};function pk(a,b,c,d){Qd.call(this,a);this.q=b;this.g=c;this.j=d}E(pk,Qd);pk.prototype.k=null;pk.prototype.i=null;function qk(a){G.call(this);this.g=a;this.e={}}E(qk,G);var rk=[];q=qk.prototype;q.ia=function(a,b,c,d){va(b)||(b&&(rk[0]=b.toString()),b=rk);for(var e=0;e<b.length;e++){var f=ce(a,b[e],c||this.Ba,d||!1,this.g||this);if(!f)break;this.e[f.Ka]=f}return this};q.hb=function(a,b,c,d){return sk(this,a,b,c,d)};function sk(a,b,c,d,e,f){if(va(c))for(var g=0;g<c.length;g++)sk(a,b,c[g],d,e,f);else{b=de(b,c,d||a.Ba,e,f||a.g||a);if(!b)return a;a.e[b.Ka]=b}return a}
q.Zb=function(a,b,c,d,e){if(va(b))for(var f=0;f<b.length;f++)this.Zb(a,b[f],c,d,e);else c=c||this.Ba,d=za(d)?!!d.va:!!d,e=e||this.g||this,c=ee(c),d=!!d,b=Td(a)?a.xb(b,c,d,e):a?(a=ge(a))?a.xb(b,c,d,e):null:null,b&&(me(b),delete this.e[b.Ka])};function tk(a){qb(a.e,function(a,c){this.e.hasOwnProperty(c)&&me(a)},a);a.e={}}q.z=function(){qk.F.z.call(this);tk(this)};q.Ba=function(){throw Error("EventHandler.handleEvent not implemented");};function uk(a,b,c,d){G.call(this);this.g=a;this.k=b;this.i=c;this.l=d;this.e=new T;this.j=new qk(this)}E(uk,G);q=uk.prototype;q.zb=-1;q.R=function(){var a=this;this.zb=-1;vk(this.g)?pi(wk(this.g),function(b){var c=b.Q();xk(a.i,b.e,a.k?yk(a.k):{},c,a.l)?a.j.ia(a.i,"d",a.Je).ia(a.i,"c",a.Ie):a.e.errback(new zk(!1,void 0))},function(b){a.e.errback(new zk(!1,b))}):this.e.e(this);return this.e};
function Ak(a){if(!Bk(a.g)&&0<=a.zb){var b=a.g;a=a.zb;Ck(b);if(!b.fc())throw Error("removeSent called when not waiting for ack");var c=Dk(b),d=b.e;if(null!=Ek(d)){var e=Ek(d)-d.i.length;Fk(d,0>e?null:e)}d.i=[];Gk(d,3);Hk(b.e,a,null);b.e.L()&&(Ik(b.e,!1),Jk(b.g),null!==b.k&&S(b.e,"accessLevel",b.k),Kk(b.g,1));Q(b.v,null);Lk(b.e)&&b.j||(b.Ib=!1,Q(b.X,null));c&&(Dk(b)||Q(b.o,null));b.L()&&Q(b.w,null)}}q.Je=function(a){a=a.g;this.zb=a[a.length-1].e;Mk(this.g,this.zb);this.e.e(this)};
q.Ie=function(a){var b=this;a=a.g;"e"!=a.type||a.i&&"e"!=a.i?this.e.errback(new zk(!1,void 0)):(a=function(){b.e.errback(new zk(!0,void 0))},pi(Nk(this.g),a,a))};q.z=function(){I(this.j);uk.F.z.call(this)};function zk(a,b){this.g=a;this.e=b};function Ok(a,b,c){var d=new T;if(Rh(a,"inc"))if(null===Qh(a,"title"))b={},b.docId=Yh(a),c.U(Error("Not creating document without title"),b),d.errback(void 0);else{c={newDocId:Yh(a),title:Qh(a,"title")};var e=Sh(a,"ic");e&&(c.initialCommands=se(e));(e=Qh(a,"fact"))&&(c.folder=e);(a=Qh(a,"odocid"))&&(c.sourceDocId=a);a=jj(kj(Fj(Pk(gj(b,"/create")),c),function(a){return d.e(a)}),function(a){return d.errback(a)});x(2)&&hj(a,2);ij(a)}else d.e(void 0);return d};function Qk(a,b){this.e=[];this.g=b;for(var c=!0,d=a.length-1;0<=d;d--){var e=a[d]|0;c&&e==b||(this.e[d]=e,c=!1)}}var Rk={};function Sk(a){if(-128<=a&&128>a){var b=Rk[a];if(b)return b}b=new Qk([a|0],0>a?-1:0);-128<=a&&128>a&&(Rk[a]=b);return b}function Tk(a){if(isNaN(a)||!isFinite(a))return Uk;if(0>a)return Vk(Tk(-a));for(var b=[],c=1,d=0;a>=c;d++)b[d]=a/c|0,c*=4294967296;return new Qk(b,0)}var Uk=Sk(0),Wk=Sk(1),Xk=Sk(16777216);
function Yk(a){if(-1==a.g)return-Yk(Vk(a));for(var b=0,c=1,d=0;d<a.e.length;d++){var e=Zk(a,d);b+=(0<=e?e:4294967296+e)*c;c*=4294967296}return b}q=Qk.prototype;q.toString=function(a){a=a||10;if(2>a||36<a)throw Error("radix out of range: "+a);if($k(this))return"0";if(-1==this.g)return"-"+Vk(this).toString(a);for(var b=Tk(Math.pow(a,6)),c=this,d="";;){var e=al(c,b);c=bl(c,cl(e,b));var f=((0<c.e.length?c.e[0]:c.g)>>>0).toString(a);c=e;if($k(c))return f+d;for(;6>f.length;)f="0"+f;d=f+d}};
function Zk(a,b){return 0>b?0:b<a.e.length?a.e[b]:a.g}function $k(a){if(0!=a.g)return!1;for(var b=0;b<a.e.length;b++)if(0!=a.e[b])return!1;return!0}q.cb=function(a){if(this.g!=a.g)return!1;for(var b=Math.max(this.e.length,a.e.length),c=0;c<b;c++)if(Zk(this,c)!=Zk(a,c))return!1;return!0};function dl(a,b){a=bl(a,b);return-1==a.g?-1:$k(a)?0:1}function Vk(a){for(var b=a.e.length,c=[],d=0;d<b;d++)c[d]=~a.e[d];return(new Qk(c,~a.g)).add(Wk)}
q.add=function(a){for(var b=Math.max(this.e.length,a.e.length),c=[],d=0,e=0;e<=b;e++){var f=d+(Zk(this,e)&65535)+(Zk(a,e)&65535),g=(f>>>16)+(Zk(this,e)>>>16)+(Zk(a,e)>>>16);d=g>>>16;f&=65535;g&=65535;c[e]=g<<16|f}return new Qk(c,c[c.length-1]&-2147483648?-1:0)};function bl(a,b){return a.add(Vk(b))}
function cl(a,b){if($k(a)||$k(b))return Uk;if(-1==a.g)return-1==b.g?cl(Vk(a),Vk(b)):Vk(cl(Vk(a),b));if(-1==b.g)return Vk(cl(a,Vk(b)));if(0>dl(a,Xk)&&0>dl(b,Xk))return Tk(Yk(a)*Yk(b));for(var c=a.e.length+b.e.length,d=[],e=0;e<2*c;e++)d[e]=0;for(e=0;e<a.e.length;e++)for(var f=0;f<b.e.length;f++){var g=Zk(a,e)>>>16,l=Zk(a,e)&65535,k=Zk(b,f)>>>16,p=Zk(b,f)&65535;d[2*e+2*f]+=l*p;el(d,2*e+2*f);d[2*e+2*f+1]+=g*p;el(d,2*e+2*f+1);d[2*e+2*f+1]+=l*k;el(d,2*e+2*f+1);d[2*e+2*f+2]+=g*k;el(d,2*e+2*f+2)}for(e=0;e<
c;e++)d[e]=d[2*e+1]<<16|d[2*e];for(e=c;e<2*c;e++)d[e]=0;return new Qk(d,0)}function el(a,b){for(;(a[b]&65535)!=a[b];)a[b+1]+=a[b]>>>16,a[b]&=65535,b++}
function al(a,b){if($k(b))throw Error("division by zero");if($k(a))return Uk;if(-1==a.g)return-1==b.g?al(Vk(a),Vk(b)):Vk(al(Vk(a),b));if(-1==b.g)return Vk(al(a,Vk(b)));if(30<a.e.length){if(-1==a.g||-1==b.g)throw Error("slowDivide_ only works with positive integers.");for(var c=Wk;0>=dl(b,a);)c=fl(c,1),b=fl(b,1);var d=gl(c,1),e=gl(b,1);b=gl(b,2);for(c=gl(c,2);!$k(b);){var f=e.add(b);0>=dl(f,a)&&(d=d.add(c),e=f);b=gl(b,1);c=gl(c,1)}return d}for(c=Uk;0<=dl(a,b);){d=Math.max(1,Math.floor(Yk(a)/Yk(b)));
e=Math.ceil(Math.log(d)/Math.LN2);e=48>=e?1:Math.pow(2,e-48);f=Tk(d);for(var g=cl(f,b);-1==g.g||0<dl(g,a);)d-=e,f=Tk(d),g=cl(f,b);$k(f)&&(f=Wk);c=c.add(f);a=bl(a,g)}return c}q.and=function(a){for(var b=Math.max(this.e.length,a.e.length),c=[],d=0;d<b;d++)c[d]=Zk(this,d)&Zk(a,d);return new Qk(c,this.g&a.g)};q.or=function(a){for(var b=Math.max(this.e.length,a.e.length),c=[],d=0;d<b;d++)c[d]=Zk(this,d)|Zk(a,d);return new Qk(c,this.g|a.g)};
q.xor=function(a){for(var b=Math.max(this.e.length,a.e.length),c=[],d=0;d<b;d++)c[d]=Zk(this,d)^Zk(a,d);return new Qk(c,this.g^a.g)};function fl(a,b){var c=b>>5;b%=32;for(var d=a.e.length+c+(0<b?1:0),e=[],f=0;f<d;f++)e[f]=0<b?Zk(a,f-c)<<b|Zk(a,f-c-1)>>>32-b:Zk(a,f-c);return new Qk(e,a.g)}function gl(a,b){var c=b>>5;b%=32;for(var d=a.e.length-c,e=[],f=0;f<d;f++)e[f]=0<b?Zk(a,f+c)>>>b|Zk(a,f+c+1)<<32-b:Zk(a,f+c);return new Qk(e,a.g)};bl(fl(Wk,32),Wk);Sk(65535);bl(fl(Wk,128),Wk);F("Macintosh")||Hc()||F("iPad")||F("iPod");function hl(a){switch(a){case 3:case 2:case 4:case 5:return 2;case 1:return 1;case 0:return 0;default:throw Error("No such access level.");}};function il(a,b,c){this.e=a;this.g=b;this.Ia=c}il.prototype.na=n("e");il.prototype.getRequestId=n("g");function jl(a,b,c,d,e,f){Kh.call(this,"pendingQueue",c);this.k=d;this.i=e.concat();this.g=f.concat();S(this,"docId",a);S(this,"documentType",b);S(this,"revision",-1);R(this,"undeliverable",!1);R(this,"unsavedChanges",!1);this.n=this.j=!1}E(jl,Kh);var kl=["revisionAccessInfo","unsentBundleMetadata","selection","sentBundlesSavedRevision","snapshotBundleIndex"];q=jl.prototype;q.Da=6;q.Cb=null;q.jb=null;q.kb=null;q.qa=null;function ll(a){return a.e.docId}function ml(a,b){R(a,"undeliverable",b)}
function nl(a,b){S(a,"sentBundlesSavedRevision",b)}function Hk(a,b,c){S(a,"revision",b);S(a,"revisionAccessInfo",c?[c.e]:null)}q.Q=function(){return this.e.revision};function ol(a,b){S(a,"selection",b)}function Ik(a,b){R(a,"unsavedChanges",b)}function pl(a,b){S(a,"unsentBundleMetadata",b)}function Ek(a){return Ph(a,"snapshotBundleIndex")}
function Fk(a,b){if(null!=b){var c=a.i.length+a.g.length-1;if(0>b||b>c)throw Error(b+" is not a valid snapshot bundle index. The last bundle index: "+c);}S(a,"snapshotBundleIndex",b)}q.L=function(){return this.j?!0:0==this.g.length&&0==this.i.length};function ql(a){if(!a.g.length)throw Error("Cannot call mark sent without unsent commands.");if(1==a.g.length){var b=a.g[0];a.qa=new rl(b.getRequestId(),b.Ia);a.i.push(b);a.g=[];Gk(a,5)}else Za(a.i,a.g),sl(a,a.i,[]);nl(a,null)}
function tl(a){ml(a,!1);Ik(a,!1);nl(a,null);ol(a,null);Fk(a,null);a.i=[];a.g=[];Gk(a,2)}function sl(a,b,c){a.kb=c.length?c.concat():null;a.jb=b.concat();a.Cb=null;a.qa=null;a.i=b.concat();a.g=c.concat();Gk(a,7)}function Gk(a,b){if(a.n&&7!=b&&6!=a.Da)sl(a,a.i,a.g);else{ul(a);if(!a.n&&6!=a.Da)throw Error("Multiple pending queue operations between writes. Current operation: "+a.Da+". Pending operation: "+b);a.Da=b}}
function ul(a){if(a.j)throw Error("The queue is in a state that does not allow any operation until switchToStorageIfNeeded() is called.");}q.ra=function(){return 6!=this.Da||jl.F.ra.call(this)};function vl(a){return a.j?[]:a.i}function wl(a){return a.j?[]:a.g}function xl(a){if(a.j)return[];for(var b=[],c=0;c<a.g.length;c++)Za(b,a.g[c].na());return b}function yl(a){return a.j?!1:!!a.g.length}function Lk(a){return a.j?!1:!!a.i.length}
q.sb=function(){ul(this);jl.F.sb.call(this);this.Cb&&this.Cb.length&&this.k++;this.jb&&(this.k+=this.jb.length);this.kb&&(this.k+=this.kb.length);this.Da=6;this.qa=this.kb=this.jb=this.Cb=null};q.vb=function(){return new Eh(ll(this),2)};function rl(a,b){this.requestId=a;this.sessionId=b};function zl(a,b,c,d,e){G.call(this);this.Hc=Ui();this.C=null;this.I=Gg("jobset");this.D=O(M(),"fatra");this.Ua=this.Y=null;this.Tb=!1;this.Jc=this.A=this.K=this.Xa=this.Oa=this.Va=null;this.td=c||null;this.ua=d||null;this.V=this.zd=this.Qa=this.n=this.k=null;this.$=0;this.l=null;this.qd=!1;this.g=this.Pa=this.e=this.Sa=this.Ic=this.X=null;this.j=this.v=!1;this.Ta=Ui();b=(e||[]).concat();b.push(this.Hc);this.$e=Vi(b);this.i=a;this.w=new jh;this.za=this.G=this.P=this.rd=this.N=this.ya=null;this.db=
!1;this.bb=this.ha=this.ta=this.ma=null;this.Vb=!1;this.xd=null;this.yd=!1;this.o=null;this.Ra=!1}E(zl,G);function Al(a){if(null!==a.N)return a.N;if(!a.e)throw Error("Local store document should exist when revision is null in document writer proxy");return a.e.Q()}
function Bl(a,b){var c=Ui();if(!a.e)return V(c,null),c;if(a.v)return Cl(a,c,!!b,!0),c;Dl(a);var d=a.k&&1!=a.k.e;Cl(a,c,!!b);a.ua&&a.n&&!a.k&&(a.k=rj(a.ua,a.e,a.n),a.n=null);c=[c];if(a.k&&!d){var e=Ui();c.push(e);d=function(){Cl(a,e,!!b)};pi(a.k,d,d)}a.qd&&(a.qd=!1);return Oi(Qi(c,!0),aa(null))}function El(a){var b=a.Ra;b||(a.Ra=!0);var c=Bl(a,!0);a.Ra=b;return c}
function Dl(a){a.V&&(S(a.e,"title",a.V),a.V=null);0<a.$&&(ai(a.e,a.$),a.$=0);a.I&&(S(a.e,"jobset",a.I),a.I=null);null!=a.D&&(R(a.e,"isFastTrack",a.D),a.D=null);var b=a.e;if(b.ra()){var c=D();S(b,"lastSyncedTimestamp",c)}a.l&&(bi(a.e,a.l),a.l=null);null!=a.X&&(R(a.e,"inc",!a.X),a.X=null);null!=a.Ic&&(R(a.e,"pendingCreation",a.Ic),a.Ic=null);null!=a.Y&&(R(a.e,"ips",a.Y),a.Y=null);a.Tb&&(ci(a.e,a.Ua),a.Ua=null,a.Tb=!1);null!==a.K&&(fi(a.e,a.K),a.K=null);null!==a.A&&(gi(a.e,a.A),a.A=null);(b=a.e)&&Rh(b,
"inc")&&a.C?(S(b,"ic",a.C),a.C=null):b&&(a.C=null);null!==a.P&&(R(a.e,"ind",!a.P),a.P=null);null!==a.G&&(R(a.e,"isd",a.G),a.G=null);a.db&&(S(a.e,"defe",a.za),a.za=null,a.db=!1);null!==a.Va&&(S(a.e,"lsst",a.Va),a.Va=null);null!==a.Oa&&(a.e.Fb(a.Oa),a.Oa=null);null!==a.Xa&&(a.e.Gb(a.Xa),a.Xa=null);null!=a.Sa&&(R(a.e,"hpmdo",a.Sa),a.Sa=null);null!=a.o&&(ki(a.e,a.o),a.o=null);if(a.j&&(null!==a.ma&&(ei(a.e,a.ma),a.ma=null),null!=a.ta&&(ii(a.e,a.ta),a.ta=null),null!=a.ha&&(hi(a.e,a.ha),a.ha=null),a.Vb&&
(ji(a.e,a.bb),a.bb=null,a.Vb=!1),a.yd)){b=a.xd;if(0>b)throw Error("Cannot set snapshotVersionNumber to a negative number.");S(a.e,"snapshotVersionNumber",b);a.xd=null;a.yd=!1}}function Cl(a,b,c,d){var e=[];d||e.push(a.e);a.g&&(ul(a.g),e.push(a.g));Fl(a,d);var f=c?C(b.errback,b):a.zd||void 0;a.Pa.ka(e,d?function(){return V(b,null)}:function(){return Gl(a,b,f)},f)}function Gl(a,b,c){if(a.Qa){var d=a.Qa;a.Qa=null;a.Pa.ka(d,function(){return V(b,null)},c)}else V(b,null)}
function Fl(a,b){var c=null,d=null,e=!1,f=!1;if(a.g){c=a.g.L();d=a.g.Q();var g=a.g.l;f=(e=!!g.revision)||!!g.unsentBundleMetadata||!!g.undeliverable||!!g.sentBundlesSavedRevision}g=null;var l=!1,k=!1;a.e&&(g=a.e.Q(),k=a.e.l,l=!!k.rev,k=!!k.pendingQueueState);if(a.g)if(b&&k)a.i.U(Error("pendingQueueState is modified while only writing the pending queue record"));else{if(k||f)f=(f=a.e)?li(f):null,a.g.L()!=(1==f)&&a.i.U(Error("pendingQueueState "+f+" does not match the pending queue record state: empty"))}else k&&
a.i.U(Error("pendingQueueState is modified without a registered pending queue record"));!c&&a.g&&(c={},c.writePendingQueueOnly=!!b,c.hasSwitchedToLocalStorage=a.j,a.g?(c.pendingQueue_isAvailable=!0,c.pendingQueue_revisionModified=e):c.pendingQueue_isAvailable=!1,a.e?(c.localDocument_isAvailable=!0,c.localDocument_revision=g,c.localDocument_revisionModified=l,c.localDocument_commandQueueModified=!a.e.g.L()):c.localDocument_isAvailable=!1,!b&&l&&g!=d&&a.i.U(Error("Local document revision write is out of sync with the pending queue revision."),
c))}function Hl(a){a.v||pi(a.$e,function(){a.e?R(a.e,"hpmdo",!1):a.Sa=!1;var b=a.e;kh(a.w,b.g);a.w=b.g;null!==a.ya&&(Uh(b,"acl",a.Jc,a.ya),a.ya=null);null!==a.N&&$h(a.e,a.N,a.rd);a.td&&a.td.e(!0);a.g&&(a.g.n=!1);a.j=!0;try{var c=Bl(a)}catch(d){c=Xi(d)}Yi(c,a.Ta)},function(b){a.Ta.errback(b)})}function Il(a,b){a.g=b;a.g.H&&a.g.L()&&Kk(a,1);O(M(),"icso")}
function Jl(a){a.e||Kl(a.i,Error("Tried to delete document but no document was registered on DocumentWriterProxy"));Lh(a.e,!0);var b=Ui();a.Pa.ka([a.e],function(){return V(b,null)},function(a){return b.errback(a)});a.e=null;a.v=!0;return b}function Ll(a){a.e?(R(a.e,"inc",!1),a.X=null):a.X=!0}function Ml(a){a.j?(ei(a.e,!1),a.ma=null):a.ma=!1}function Nl(a,b){a.e?(R(a.e,"ips",b),a.Y=null):a.Y=b}function Jk(a){a.e?(ci(a.e,null),a.Ua=null,a.Tb=!1):(a.Ua=null,a.Tb=!0)}
function Ol(a){var b=D();a.e?S(a.e,"lsst",b):a.Va=b}zl.prototype.Gb=function(a){this.e?this.e.Gb(a):this.Xa=a};zl.prototype.Fb=function(a){this.e?this.e.Fb(a):this.Oa=a};function Pl(a){a.j?(ii(a.e,4),a.ta=null):a.ta=4;var b=D();a.j?(hi(a.e,b),a.ha=null):a.ha=b;a.j?(ji(a.e,null),a.bb=null,a.Vb=!1):(a.bb=null,a.Vb=!0)}function Kk(a,b,c){a.e?(ki(a.e,b),a.o=null):c?a.e?(ki(a.e,b),a.o=null):Kl(a.i,Error("Force persisting pending queue state without a document record.")):a.o=b};function Ql(a,b,c){this.e=a;this.k=b;this.q=c}E(Ql,mh);function Rl(a){if(null===a.k)throw Error("Cannot getKey of operation for singleton record.");return a.k};function Sl(a,b){Ql.call(this,"delete-record",a,b)}E(Sl,Ql);function Tl(a,b,c,d){Ql.call(this,d||"update-record",a,b.B);this.i=b.H;this.g={};a=b.l;c=c||[];for(var e in a)this.g[e]=0<=Oa(c,e)?Nh(b,e):b.e[e]}E(Tl,Ql);function Ul(){G.call(this)}E(Ul,G);Ul.prototype.l=function(a){if(!(0<=Oa(this.e(),a.B)))throw Error("Cannot create operations for an unsupported record type "+a.B);return this.g(a)};Ul.prototype.g=function(a,b){var c=this.i(a),d=[];a.xa?d.push(new Sl(c,a.B,a.Jd)):d.push(new Tl(c,a,b));return d};Ul.prototype.i=function(a){throw Error("Key cannot be obtained for record of type "+a.B);};function Vl(a){G.call(this);this.k=a}E(Vl,Ul);Vl.prototype.e=function(){return["document"]};function Wl(a,b,c){return new Xh(b,c,!0,a.k[c])}
Vl.prototype.g=function(a){var b=Vl.F.g.call(this,a,"lastModifiedClientTimestamp lastWarmStartedTimestamp ic odocid relevancyRank rev rai snapshotProtocolNumber snapshotVersionNumber".split(" ")),c=Zh(a);if(!this.k[c])throw Error("No adapter found for this type: "+c);if(a.xa)a=[];else if(c=new jh,kh(a.g,c),c.L())a=[];else{var d=c.g;a=[new oh(Yh(a),Zh(a),lh(c),d)]}return b.concat(a)};Vl.prototype.i=function(a){return Yh(a)};function Xl(a,b){Kh.call(this,"applicationMetadata",b);S(this,"dt",a);this.i=[]}E(Xl,Kh);Xl.prototype.g=!1;Xl.prototype.sb=function(){Xl.F.sb.call(this);this.g=!1};Xl.prototype.ra=function(){return this.g||Xl.F.ra.call(this)};function Yl(a,b,c){Tl.call(this,a,b,void 0,"update-application-metadata");this.j=c}E(Yl,Tl);function Zl(a){G.call(this);this.n=a}E(Zl,Ul);Zl.prototype.e=function(){return["applicationMetadata"]};Zl.prototype.i=function(a){return a.e.dt};Zl.prototype.g=function(a){var b=this.i(a);return[new Yl(b,a,a.g?a.i.concat():null)]};function $l(a,b,c,d,e){Kh.call(this,"documentEntity",e);S(this,"entityId",a);S(this,"documentId",b);S(this,"entityType",c);S(this,"data",d)}E($l,Kh);$l.prototype.getData=function(){return Nh(this,"data")};function am(){G.call(this)}E(am,Ul);am.prototype.e=function(){return["documentEntity"]};am.prototype.i=function(a){return[a.e.documentId,a.e.entityType,a.e.entityId]};function bm(){G.call(this)}E(bm,Ul);bm.prototype.e=function(){return[]};function cm(a,b){this.e="document-lock";this.g=a;this.i=b}E(cm,mh);function dm(a,b){Qd.call(this,"m",b)}E(dm,Qd);function em(){};function fm(){G.call(this)}E(fm,Ul);fm.prototype.e=function(){return[]};function gm(a,b,c,d,e,f,g,l,k){Kh.call(this,"blobMetadata",k);S(S(S(S(S(S(S(S(this,"d",a),"p",b),"u",c),"ou",d),"f",e),"c",f),"s",g),"oc",l);this.g=Ui();this.i=Ui();"awaiting-original-url"!=g&&V(this.i,d);"failed"==g?this.g.errback():c&&V(this.g,c)}E(gm,Kh);var hm=["c","oc","ou","u"];q=gm.prototype;q.oa=function(){return this.e.p};q.getUrl=function(){return Qh(this,"u")};q.getFileName=function(){return this.e.f};q.ub=function(){return Qh(this,"c")};q.ea=function(){return this.e.s};
function im(a,b){S(a,"s",b);"awaiting-original-url"==b||1!=a.i.e||V(a.i,Qh(a,"ou"));"failed"!=b||1!=a.g.e||a.g.errback()}q.vb=function(){return new Eh(this.e.d,2)};q.cb=function(a){return this==a?!0:this.oa()==a.oa()&&this.getUrl()==a.getUrl()&&Qh(this,"ou")==Qh(a,"ou")&&this.getFileName()==a.getFileName()&&this.ub()==a.ub()&&this.ea()==a.ea()&&Qh(this,"oc")==Qh(a,"oc")};function jm(){G.call(this)}E(jm,Ul);jm.prototype.e=function(){return["blobMetadata"]};jm.prototype.g=function(a){return jm.F.g.call(this,a,hm)};jm.prototype.i=function(a){return[a.e.d,a.oa()]};function km(a){Tl.call(this,ll(a),a,kl,"pq-clear")}E(km,Tl);function lm(a){Tl.call(this,ll(a),a,kl,"pq-clear-sent-bundle");if(a.j)throw Error("The queue is in a state that does not allow commands");this.j=0<a.g.length||1<a.i.length}E(lm,Tl);function mm(a){Tl.call(this,ll(a),a,kl,"pq-clear-sent")}E(mm,Tl);function nm(a,b){this.e="pq-delete-commands";this.g=a;this.i=b}E(nm,mh);function om(a){Tl.call(this,ll(a),a,kl,"pq-mark-sent");this.j=[];this.l=!1;var b=a.k;if(7==a.Da){this.l=!0;a=a.jb;for(var c=0;c<a.length;c++)b++,this.j.push(new pm(a[c].Ia,a[c].getRequestId(),b))}else this.j.push(new pm(a.qa?a.qa.sessionId:null,a.qa?a.qa.requestId:null,b))}E(om,Tl);function pm(a,b,c){this.sessionId=a;this.requestId=b;this.lastEntryIndex=c};function qm(a,b,c){this.e="pq-write-commands";this.j=a;this.i=b;this.g=c}E(qm,mh);qm.prototype.na=n("i");function rm(a,b){this.k=a;this.g=b}rm.prototype.e=function(){return["pendingQueue"]};rm.prototype.i=function(a){return ll(a)};function sm(a,b){if(a=a.k[b])return a;throw Error("No document adapter available for type "+b);}
rm.prototype.l=function(a){if(a.xa)throw Error("Cannot delete pending queues.");sm(this,a.e.documentType);var b=a.Da,c=[];switch(b){case 7:b=ll(a);var d=a.k,e=a.jb;c=[];for(var f,g=0;g<e.length;g++){d++;f=tm(this,e[g].na(),ll(a),d,!0);if(!f)throw Error("Unexpected null operation");c.push(f)}d=a.k+c.length;e=a.kb?a.kb:[];f=[];g=[];for(var l=0;l<e.length;l++){var k=tm(this,e[l].na(),b,d+1);k&&(g.push(k),f.push(new um(e[l].getRequestId(),e[l].Ia,d+1)),d++)}pl(a,vm(f));c.push(new om(a));Za(c,g);0<=a.k&&
c.push(new nm(b,a.k));break;case 1:c=a.k+1;d=ll(a);b=[];e=a.Cb;g=a.qa?a.qa.requestId:null;l=a.qa?a.qa.sessionId:null;f=wm(Mh(a,"unsentBundleMetadata"));if(null===g||null===l){if(!f.length)throw Error("Bundles and metadata do not match!");g=f[f.length-1];f[f.length-1]=new um(g.requestId,g.sessionId,c)}else f.push(new um(g,l,c));e&&pl(a,vm(f));vb(a.l)||b.push(new Tl(d,a,kl));(a=tm(this,e,d,c))&&b.push(a);c=b;break;case 5:pl(a,null);c.push(new om(a));break;case 2:pl(a,null);c.push(new km(a));break;case 3:c.push(new mm(a));
break;case 4:c.push(new lm(a));break;case 6:c.push(new Tl(ll(a),a,kl));break;default:throw Error("Unknown Pending Queue operation type: "+b);}return c};function tm(a,b,c,d,e){if(!(e||b&&0!=b.length))return null;e=[];if(b){for(var f="",g=0;g<b.length;g++){var l=ik(b[g]);e.push(l);f+=Vg(l.toString())}0<f.length&&a.g.U(Error("Serializing commands containing malformed surrogate characters"),{command_malformedText:f})}return new qm(c,e,d)}
function wm(a){if(!a)return[];for(var b=[],c=0;c<a.length;c++)b.push(new um(a[c].rid,a[c].sid,a[c].lei));return b}function vm(a){if(!a.length)return null;for(var b=[],c=0;c<a.length;c++){var d=a[c],e={};e.rid=d.requestId;e.sid=d.sessionId;e.lei=d.lastEntryIndex;b.push(e)}return b}function um(a,b,c){this.requestId=a;this.sessionId=b;this.lastEntryIndex=c};function xm(){G.call(this);this.n={};this.G=new P;H(this,this.G)}E(xm,G);function ym(a,b){for(var c=b.e(),d=0;d<c.length;d++){var e=c[d];if(a.n[e])throw Error("Record type "+e+"already handled by another capability.");a.n[e]=b}}q=xm.prototype;q.dd=aa(null);q.Nb=aa(null);q.lc=aa(null);q.$a=aa(null);q.kc=aa(null);q.ab=aa(null);function zm(a,b,c){Kh.call(this,"syncObject",a);S(this,"keyPath",b);S(this,"state",c)}E(zm,Kh);zm.prototype.getData=function(){return this.e.data};function Am(a){a=Mh(a,"state");if(!a)throw Error("SyncObject not allowed to have null state.");return a};function Bm(){G.call(this)}E(Bm,Ul);Bm.prototype.e=function(){return["syncObject"]};Bm.prototype.i=function(a){return Th(a)};function Cm(a,b,c,d){this.e="append-template-commands";this.k=a;this.g=b;this.i=c;this.j=d}E(Cm,mh);function Dm(){G.call(this)}E(Dm,G);function Em(a,b,c,d,e,f,g,l,k,p,r,u,w,B,z,y,N){Kh.call(this,"templateMetadata",N);S(this,"id",a);S(this,"title",b);S(this,"style",c);S(this,"category",d);S(this,"locale",e);S(this,"creator",f);S(this,"thumbnailUrl",g);S(this,"documentType",l);S(this,"lastModifiedTimestamp",k);S(this,"fontFamilies",p);S(this,"brandedAuthor",r);S(this,"brandedUrl",u);S(this,"masterTemplate",w);R(this,"isThumbnailReady",B);R(this,"isReady",z);R(this,"isDirty",y)}E(Em,Kh);function Fm(a){G.call(this);this.n=a}E(Fm,Ul);Fm.prototype.e=function(){return["templateCreationMetadata","templateMetadata"]};Fm.prototype.i=function(a){return"templateCreationMetadata"==a.B?[a.i()]:[a.e.id]};Fm.prototype.g=function(a){var b=Fm.F.g.call(this,a);if("templateCreationMetadata"==a.B){Gm(this,a.g());var c=lh(a.j());b=b.concat(a.xa||0==c.length?[]:[new Cm(a.i(),a.g(),c,!0)])}return b};function Gm(a,b){a=a.n[b];if(!a)throw Error("No adapter found for this type: "+b);return a};function Hm(a,b){Kh.call(this,"user",b);S(this,"id",a);R(this,"fastTrack",!0)}E(Hm,Kh);function Im(){G.call(this)}E(Im,Ul);Im.prototype.e=function(){return["user"]};function Jm(a){var b=Ui();fk(a,function(a){return V(b,a)});return Oi(b,function(a){if(1>a.length)throw new th("Expected an offline user in localstore");return a[0]})}Im.prototype.g=function(a,b){if(a.xa)throw Error("User deletion is not implemented.");return Im.F.g.call(this,a,b)};Im.prototype.i=function(a){return a.e.id};function Km(a,b,c,d,e,f,g){Kh.call(this,"fontMetadata",g);this.g=a;this.i=b;b="latin"==b?a:a+"|"+b;a=O(M(),"docs-ofmpp");c=R(R(S(S(this,"fontFamily",b),"version",c),"domainFont",d),"inkedSpace",e);d=[];for(e=0;e<f.length;e++){b=f[e];var l=b.e;g=[];for(var k=0;k<l.length;k++){var p=l[k],r={};r.format=p.e;r.isSystemFont=p.i;r.url=p.g;g.push(r)}l=Lm;k={};k[l.$b]=b.g;k[l.rb]=b.k;k[l.ac]=b.i;k[l.Od]=g;k[l.bc]=b.j;k[l.dc]=b.q;d.push(k)}S(c,"fontFaces",d,a)}E(Km,Kh);Km.prototype.getFontFamily=n("g");
Km.prototype.M=n("i");Km.prototype.wb=function(){for(var a=this.e.fontFaces,b=[],c=0;c<a.length;c++){for(var d=a[c],e=[],f=d.source,g=0;g<f.length;g++){var l=f[g];e.push(new Mm(l.format,l.isSystemFont,l.url))}f=Lm;b.push(new Nm(d[f.$b],x(d[f.rb])?d[f.rb]:"latin",d[f.ac],d[f.bc],d[f.dc],e))}return b};function Nm(a,b,c,d,e,f){this.g=a;this.k=b;this.i=c;this.j=d;this.q=e;this.e=f}var Lm={$b:"fontFamily",rb:"subset",ac:"isMenuFont",Od:"source",bc:"style",dc:"weight"};Nm.prototype.getFontFamily=n("g");
Nm.prototype.M=n("k");function Mm(a,b,c){this.e=a;this.i=b;this.g=c}Mm.prototype.eb=n("e");Mm.prototype.getUrl=n("g");function Om(a){a=a.split("|");return new Pm(a[0],1<a.length?a[1]:"latin")}function Pm(a,b){this.e=a;this.g=b};function Qm(a){a=Om(a);this.i=a.e;this.j=a.g;this.e=null}
Qm.prototype.get=function(){if(!this.e){var a=this.g,b=X(a,"fontFamily"),c=X(a,"version"),d=!!X(a,"domainFont"),e=!!X(a,"inkedSpace");a=Rm(X(a,"fontFaces"));for(var f=0;f<a.length;f+=1);f=Om(b);b=f.e;f=f.g;for(var g=[],l=0,k;k=a[l];l++){for(var p=k.source,r=[],u=0,w;w=p[u];u++)r.push(new Mm(w.format,w.isSystemFont,w.url));p=Lm;g.push(new Nm(k[p.$b],x(k[p.rb])?k[p.rb]:"latin",k[p.ac],k[p.bc],k[p.dc],r))}c=new Km(b,f,c,d,e,g,!1);c.q=!1;this.g=null;this.e=c}return this.e};
Qm.prototype.getFontFamily=n("i");Qm.prototype.M=n("j");function Sm(){G.call(this)}E(Sm,Ul);Sm.prototype.e=function(){return["fontMetadata"]};Sm.prototype.i=function(a){return a.e.fontFamily};function Tm(a){G.call(this);this.e=a;this.i=new P;H(this,this.i);this.g=!1}E(Tm,G);Tm.prototype.ka=function(a,b,c){if(!this.g)throw Error("Cannot write to read-only local store.");var d=Um(a);a=Vm(this,a);0==a.length?b():Wm(this.e,a,C(function(){Q(this.i,d);b()},this),c)};function Um(a){for(var b=[],c=0;c<a.length;c++)b.push(new em);return new dm(b)}
function Vm(a,b){for(var c=[],d=null,e=0;e<b.length;e++){var f=b[e];if(f.ra()||f.xa){var g=a.e.n[f.B]||null;if(g){g=g.l(f);c=c.concat(g);if((g=f.vb())&&d){if(d.e!=g.e)throw Error("Cannot compare two requirements with different doc id.");d=d.g>g.g?d:g}else d=d||g;f.sb();f.ra()}else throw Error("No Capability for record :"+f.B);}}d&&c.unshift(new cm(d.e,d.g));return c};function Xm(a,b,c){this.e=a;this.g=b;this.i=c}function Ym(a,b,c){Zm(a.i.e.g,a.e,C(a.j,a,b),c)}Xm.prototype.j=function(a,b){b?a(b):a(new jl(this.e,this.g,!0,-1,[],[]))};function $m(a,b,c){this.g=a;this.e=b;this.i=c}$m.prototype.Q=n("g");function an(a,b){G.call(this);this.K=a;this.i=b;this.l=null;this.C=-1;this.N=new P;H(this,this.N);this.Y=new P;H(this,this.Y);this.I=new P;H(this,this.I);this.w=new P;H(this,this.w);this.P=new P;H(this,this.P);this.$=new P;H(this,this.$);this.v=new P;H(this,this.v);this.o=new P;H(this,this.o);this.za=new P;H(this,this.za);this.ha=new P;H(this,this.ha);this.X=new P;H(this,this.X)}E(an,G);q=an.prototype;q.od=!1;q.Ib=!1;function bn(a){a.l=null;ol(a.e,null)}
q.na=function(){for(var a=vl(this.e),b=[],c=0;c<a.length;c++)Za(b,a[c].na());Za(b,xl(this.e));return b};q.L=function(){return!cn(this)&&!(Lk(this.e)&&this.j)};function vk(a){return cn(a)&&!Bk(a)}function dn(a){Ck(a);return a.e.Q()}
function wk(a){Ck(a);var b=xl(a.e).length,c=x(void 0)?void 0:b;if(0>c||c>b)throw Error("Invalid number of unsent commands requested for dequeue");b=Ui();if(cn(a)){var d=b;a.K&&(b=Oi(b,function(b){for(var c=b.Q(),d=b.e,e=[],k=0;k<d.length;k++){var p=d[k],r=a.K.e(p.na());e[k]=r?new il(r,p.getRequestId(),p.Ia):p}return new $m(c,e,b.i)}));en(a,c,d)}else V(b,new $m(dn(a),[],a.l)),a.l=null;return b}function fn(a){a.Ib||(a.Ib=!0,Q(a.$,null))}
function gn(a){a.Ib=!1;var b=Ui();a.i.U(Error("Pending queue cleared from mobilenative.LocalStorePendingQueueClearer"));a.j=!1;a.A=!1;null!==Ek(a.e)?Yi(Jl(a.g),b):(Jk(a.g),Kk(a.g,1),tl(a.e),Yi(hn(a,!0),b));a.l=null;Q(a.P,null);a.L()&&Q(a.w,null);return b}function Ck(a){if(!a.od)throw Error("Attempting to use an uninitialized queue.");}q.fc=n("Ib");function Nk(a){var b=Ui();Bk(a)?V(b,null):(ml(a.e,!0),Kk(a.g,0,!a.A),Yi(hn(a),b));Q(a.I,null);return b}
function Mk(a,b){b=jn(a,b);Mi(b,function(){Q(a.Y,null)})};function kn(a,b,c,d,e,f,g,l,k,p,r,u,w){an.call(this,g,e);this.g=a;this.ya=c;this.V=f;this.n=Ui();this.e=b;this.k=l;this.A=this.j=!1;this.G={};this.ua=u;this.D=!1;this.e?(Il(this.g,this.e),V(this.n,this)):Ym(new Xm(k,p,d),C(this.ta,this,w),C(this.ma,this));Mi(this.g.Ta,function(){this.e&&!this.e.L()&&Q(this.v,null)}.bind(this))}t(kn,an);kn.prototype.ta=function(a,b){a&&a.g("pqr");this.e=b;Il(this.g,b);V(this.n,this)};kn.prototype.ma=function(a){this.n.errback(a);this.V(a)};
function hn(a,b){var c=null;c=(void 0===b?0:b)?El(a.g):Bl(a.g,!0);Ni(c,function(b){return a.V(b)});return c}
function en(a,b,c){if(yl(a.e)){if(Lk(a.e)&&a.j&&null===Ph(a.e,"sentBundlesSavedRevision"))throw Error("Dequeue should not be called before the previous sent bundles are marked as saved on the server");if(0<b){var d=xl(a.e);if(b==d.length)ql(a.e);else{if(1!=b)throw Error("Num unsent can only be 1");throw Error("When requesting to send a single command it has to be null");}}}a.j=!0;b=vl(a.e).concat();fn(a);d=null;yl(a.e)||(d=a.l,bn(a));var e=new $m(dn(a),b,d);pi(hn(a),function(){V(c,e)},C(c.errback,
c))}kn.prototype.fc=function(){return an.prototype.fc.call(this)||!this.e.L()};function cn(a){return yl(a.e)||!a.j&&Lk(a.e)}function Dk(a){var b=a.k,c;!(c=a.C>a.e.Q())&&(c=null!==b)&&(a=Ph(a.e,"accessLevel"),a=null===a?3:a,b=hl(b),a=hl(a),c=b!=a);return c}function Bk(a){var b=a.g.e;b=b?li(b):null;null===b?(a=a.e,a=!a.j&&(null==Nh(a,"undeliverable")?!1:""!=a.e.undeliverable)):a=0==b;return a}function jn(a,b){if(!Lk(a.e))return Wi(null);nl(a.e,b);yl(a.e)||Kk(a.g,3,!a.D);return hn(a)}
function ln(a){var b=a.i;b.g.pendingQueue_startedEmpty=a.D.toString();mn(b,"pendingQueue_startedAnachronistic",Dk(a).toString());b.g.pendingQueue_initialRevision=a.e.Q().toString();b.g.pendingQueue_initialModelRevision=a.C.toString();mn(b,"pendingQueue_initialBundleInfo",nn(a));var c=a.g.e;b.g.localStoreDoc_id=Yh(c);var d=c?li(c):null;b.g.pendingQueue_initialState=null===d?"null":d.toString();on(b,"pendingQueue_isEmpty",function(){return this.e.L().toString()}.bind(a));on(b,"pendingQueue_revision",
function(){return this.e.Q().toString()}.bind(a));on(b,"pendingQueue_hasDequeued",function(){return this.j.toString()}.bind(a));on(b,"pendingQueue_hasEnqueued",function(){return this.A.toString()}.bind(a));on(b,"pendingQueue_bundleInfo",function(){return nn(this)}.bind(a));on(b,"pendingQueue_isPersistent",function(){return(!0).toString()}.bind(a));on(b,"pendingQueue_isAnachronistic",function(){return Dk(this).toString()}.bind(a));on(b,"localStoreDoc_revision",function(){return c.Q().toString()}.bind(a));
on(b,"localStoreDoc_isCreated",function(){return(!Rh(c,"inc")).toString()}.bind(a));on(b,"localStoreDoc_isPendingCreation",function(){return(!!Rh(c,"pendingCreation")).toString()}.bind(a));on(b,"localStoreDoc_lastModifiedClientTimestamp",function(){return Oh(c,"lastModifiedClientTimestamp").toString()}.bind(a));on(b,"localStoreDoc_lastModifiedServerTimestamp",function(){return Oh(c,"lastModifiedServerTimestamp").toString()}.bind(a))}
function nn(a){var b="",c=vl(a.e);a=c.concat(wl(a.e));for(var d=0;d<a.length;d++){var e=d<c.length?"sent":"unsent";e={sid:a[d].Ia,rid:a[d].getRequestId(),type:e};b+=JSON.stringify(e)+"\n"}return b};function pn(a,b,c,d,e,f,g,l){return c.e.g?(new kn(a,null,b,c,d,e,null,null,f,g,l,null,null)).n:null};function qn(){};function rn(){};function sn(){};function tn(){};function un(){};function vn(){G.call(this);this.v=new P;H(this,this.v);this.N=new P;H(this,this.N);this.A=new P;H(this,this.A);this.w=new P;H(this,this.w);this.k=new P;H(this,this.k);this.C=new P;H(this,this.C);this.$=new P;H(this,this.$)}E(vn,G);function wn(a,b,c){this.e=a;this.g=b;this.i=c};function xn(a,b){this.e=a;this.message=b};function yn(a,b,c,d,e,f,g,l,k,p,r,u,w,B,z,y,N,oa){this.n=a;this.H=b;this.B=c;this.j=d;this.e=e;this.g=f;this.o=g;this.w=l;this.v=k;this.k=p;this.l=r;this.C=u;this.A=w;this.q=B;this.i=x(z)?z:null;this.D=x(oa)?oa:null;this.G=y;this.I=N}yn.prototype.Q=n("n");function zn(a){return 2>a.length?null:"documents"==a[0]?a[1]:null};function An(a){this.e=a};function Bn(a,b,c,d,e,f,g,l,k,p,r){vn.call(this);this.D=a;this.ha=b;this.e=c;this.I=d||null;this.G=e||null;this.Y=f||{};this.n=0;this.o=this.j=null;this.V=!!g;this.X=!!l;this.g=k||null;this.l=p||null;this.K=r||null;this.i=new P;H(this,this.i)}t(Bn,vn);
function Cn(a,b){if(!a.g||!a.g.e())if(b)if(0==a.n&&!a.j||!a.V&&a.n!=a.j.D)Q(a.i,new xn(1,"Missing chunks"));else if(a.e){b=a.e;var c=a.j.o;if(b.e&&b.ua){if(b.k)throw Error("Cannot process startup hints twice for the same document.");b.k=rj(b.ua,b.e,c);b.n=null}else if(b.ua){if(b.n)throw Error("Startup hints were already set.");b.n=c}if((b=a.j.w)&&a.G&&a.I){c=a.G;var d=a.D,e={},f=[];for(g in b)c.e(d,g,b[g],e,f);a.e.Qa=f;var g=wb(e);zb(g,a.Y);b=C(a.P,a);Dn(a.I.e,g,["documents",a.D],!0,b)}else Q(a.k,
null)}else Q(a.k,null);else Q(a.i,new xn(3,"Document not accessible"))}Bn.prototype.P=function(a){0<a.pb||0<a.Za?Q(this.i,new xn(2,"File sync failed")):Q(this.k,null)};function En(){}En.prototype.stringify=function(a){return v.JSON.stringify(a,void 0)};En.prototype.parse=function(a){return v.JSON.parse(a,void 0)};var Fn=new En;function Gn(a,b){b=(void 0===b?null:b)||Fn;return a&&b.parse(a.replace(/^[^[{]+/,""))||null};function Hn(a,b,c,d,e){this.k=a;this.B=b;this.g=c;this.j=d;this.q=e;this.e=0;this.i=null}
function In(a,b){a.i&&(wf.clearTimeout(a.i),a.i=null);for(var c=a.k();;){if(0==a.e)if(c&&5<=c.length)if(0==c.lastIndexOf(")]}'\n",0))a.e+=5;else{a.g("Safety prefix not present.");break}else break;if(5==a.e)if(c.length>=a.e+2)if("0&"==c.substring(a.e,a.e+2))a.e+=2;else{a.g("Chunked version marker not present.");break}else break;var d=c.indexOf("&",a.e);if(0>d){b&&a.j();break}var e=+c.substring(a.e,d);if(isNaN(e)){a.g("Invalid chunk size.");break}e=e+d+1;if(c.length<e)break;a.e=e;d=c.substring(d+1,
e);try{var f=Gn(d)}catch(g){a.g("Error parsing chunk.");break}if(f)a.B(f);else{a.g("Received a blank chunk.");break}if(!a.q){a.i=zf(C(a.l,a,b));break}}}Hn.prototype.l=function(a){this.i=null;In(this,a)};function Jn(a,b,c,d,e,f){this.n=a;this.j=b;this.H=d;this.l=e;this.g=this.k=0;this.q=new Hn(this.n,C(this.o,this),C(this.B,this),C(this.v,this),c);this.e=!1;this.i=f||null}
Jn.prototype.o=function(a){if(0==this.k){this.i&&wh(this.i,"mmr",this.g);var b=a.me,c=b.rat;var d=new yn(a.r,c?new Vh(c):null,a.mv,a.fv,b.al,b.dkd,b.sh,a.eo,b.t,!!b.ft,b.js,b.lm,!!b.d,!!b.sd,b.defe||null,a.slm||null,a.spd||null,a.mc);b=this.j;a=D();b.j=d;var e=d.Q();b.o=e;var f=d.H,g=d.B,l=d.j;Q(b.A,new sn);if(!b.g||!b.g.e()){var k=d.e;c=d.g;Q(b.v,new qn);Q(b.N,new un);Q(b.w,new rn);if(b.l){var p=d.G;if(p){var r=b.l,u;for(u in p)wh(r,u,p[u])}}b.K&&(u=d.I)&&b.K.e(u);if(b.e){var w=d.k;p=d.l;u=d.C;var B=
d.A,z=d.q;r=d.i;var y=b.e;d=d.v;y.e?(S(y.e,"title",d),y.V=null):y.V=d;d=b.e;d.e?(R(d.e,"isFastTrack",w),d.D=null):d.D=w;d=b.e;(w=d.e)?(R(w,"ind",!B),d.P=null):d.P=B;d=b.e;(B=d.e)?(R(B,"isd",z),d.G=null):d.G=z;z=b.e;z.e?(S(z.e,"defe",r),z.za=null,z.db=!1):(z.za=r,z.db=!0);p&&(r=b.e,r.e?(S(r.e,"jobset",p),r.I=null):r.I=p);u&&(p=b.e,null!=u&&(p.e?(ai(p.e,u),p.$=0):p.$=u));u=b.e;u.e?(fi(u.e,g),u.K=null):u.K=g;g=b.e;g.e?(gi(g.e,l),g.A=null):g.A=l;l=b.e;l.j&&$h(l.e,e,f);l.N=e;l.rd=f;b.X||Ll(b.e);e=Number(k);
isNaN(e)||(f=b.e,(k=f.e)?Uh(k,"acl",f.Jc,e):f.ya=e);c&&(e=b.e,e.e?(bi(e.e,c),e.l=null):e.l=c)}b.l&&wh(b.l,"mml",D()-a)}}else if(1==this.k&&this.i&&wh(this.i,"fmpdr",this.g),b=this.j,f=new wn(a.si,a.sci,a.sc),!b.g||!b.g.e()){if(null==b.o)throw Error("Revision was not defined");k=b.ha;e=b.o;a=b.e||void 0;l=f.e;l=(c=""==l)?k.e:k.g+l;k=f.g;D();f=Mg(f.i);D();if(a)if(e=new Pg(e,f,l,k),c=c&&0==k,a.v)!a.w||a.i.log(Error("If the proxy has been discarded, the command queue must be null"));else{if(e.Q()!=Al(a))throw Error("Expected batch revision of "+
Al(a)+", but got "+e.Q());a=a.w;c&&(a.e=[],a.g=!0);a.e.push(e)}Q(b.C,new tn);b.n++}this.k++};Jn.prototype.B=function(){this.e=!0;this.H()};Jn.prototype.v=function(){this.e||(Cn(this.j,!0),this.l())};function Kn(a,b,c){switch(a){case 3:var d="Request returns too much data";break;case 2:d="Missing chunks";break;default:d="Unknown server error"}b&&(d+=": "+b);Ia.call(this,d);this.e=a;this.g=!!c}E(Kn,Ia);Kn.prototype.docs_permanent_error_checker_817115=!0;Kn.prototype.Gc=n("g");function Ln(a){this.e=a?wb(a):{};this.g=null}function Mn(){var a=M().get("info_params");A(a)?a=JSON.parse(a):(a=M(),a=Hg(a,"info_params"));return new Ln(a)};function Nn(a){K.call(this);this.P=new Pb;this.A=a||null;this.g=!1;this.w=this.e=null;this.G="";this.j=0;this.k=this.D=this.o=this.C=!1;this.n=0;this.v=null;this.l="";this.K=this.N=!1}E(Nn,K);var On=/^https?$/i,Pn=["POST","PUT"],Qn=[];q=Nn.prototype;q.Rd=function(){this.aa();Va(Qn,this)};
q.R=function(a,b,c,d){if(this.e)throw Error("[goog.net.XhrIo] Object is active with another request="+this.G+"; newUri="+a);b=b?b.toUpperCase():"GET";this.G=a;this.j=0;this.C=!1;this.g=!0;this.e=this.A?this.A.g():La.g();this.w=this.A?Ka(this.A):Ka(La);this.e.ib=C(this.ud,this);try{this.D=!0,this.e.open(b,String(a),!0),this.D=!1}catch(f){Rn(this);return}a=c||"";var e=this.P.S();d&&Vb(d,function(a,b){e.set(b,a)});d=Ta(e.la());c=v.FormData&&a instanceof v.FormData;!(0<=Oa(Pn,b))||d||c||e.set("Content-Type",
"application/x-www-form-urlencoded;charset=utf-8");e.forEach(function(a,b){this.e.Id(b,a)},this);this.l&&(this.e.Xf=this.l);"withCredentials"in this.e&&this.e.jf!==this.N&&(this.e.jf=this.N);try{Sn(this),0<this.n&&((this.K=Tn(this.e))?(this.e.timeout=this.n,this.e.ontimeout=C(this.jd,this)):this.v=zf(this.jd,this.n,this)),this.o=!0,this.e.R(a),this.o=!1}catch(f){Rn(this)}};function Tn(a){return Lc&&ad(9)&&pa(a.timeout)&&x(a.ontimeout)}function Ua(a){return"content-type"==a.toLowerCase()}
q.jd=function(){"undefined"!=typeof goog&&this.e&&(this.j=8,qe(this,"timeout"),this.Fa(8))};function Rn(a){a.g=!1;a.e&&(a.k=!0,a.e.Fa(),a.k=!1);a.j=5;Un(a);Vn(a)}function Un(a){a.C||(a.C=!0,qe(a,"complete"),qe(a,"error"))}q.Fa=function(a){this.e&&this.g&&(this.g=!1,this.k=!0,this.e.Fa(),this.k=!1,this.j=a||7,qe(this,"complete"),qe(this,"abort"),Vn(this))};q.z=function(){this.e&&(this.g&&(this.g=!1,this.k=!0,this.e.Fa(),this.k=!1),Vn(this,!0));Nn.F.z.call(this)};
q.ud=function(){this.q()||(this.D||this.o||this.k?Wn(this):this.Lc())};q.Lc=function(){Wn(this)};function Wn(a){if(a.g&&"undefined"!=typeof goog&&(!a.w[1]||4!=Xn(a)||2!=a.ea()))if(a.o&&4==Xn(a))zf(a.ud,0,a);else if(qe(a,"readystatechange"),4==Xn(a)){a.g=!1;try{Yn(a)?(qe(a,"complete"),qe(a,"success")):(a.j=6,Un(a))}finally{Vn(a)}}}function Vn(a,b){if(a.e){Sn(a);var c=a.e,d=a.w[0]?ta:null;a.e=null;a.w=null;b||qe(a,"ready");try{c.ib=d}catch(e){}}}
function Sn(a){a.e&&a.K&&(a.e.ontimeout=null);a.v&&(wf.clearTimeout(a.v),a.v=null)}function Yn(a){var b=a.ea();a:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break a;default:c=!1}if(!c){if(b=0===b)a=String(a.G).match(Xb)[1]||null,!a&&v.Oc&&v.Oc.location&&(a=v.Oc.location.Xb,a=a.substr(0,a.length-1)),b=!On.test(a?a.toLowerCase():"");c=b}return c}function Xn(a){return a.e?a.e.sa:0}q.ea=function(){try{return 2<Xn(this)?this.e.Qc:-1}catch(a){return-1}};
function Zn(a){try{return a.e?a.e.Eb:""}catch(b){return""}}function $n(a){try{if(!a.e)return null;if("response"in a.e)return a.e.Fd;switch(a.l){case "":case "text":return a.e.Eb;case "arraybuffer":if("mozResponseArrayBuffer"in a.e)return a.e.Mf}return null}catch(b){return null}}q.Sb=function(a){if(this.e&&4==Xn(this))return a=this.e.Sb(a),null===a?void 0:a};q.Rb=function(){return this.e&&4==Xn(this)?this.e.Rb()||"":""};Jd(function(a){Nn.prototype.Lc=a(Nn.prototype.Lc)});function ao(a,b,c,d,e,f,g,l,k,p,r,u,w,B,z,y,N){G.call(this);this.I=a;this.C=b;this.k=d;this.i=new qk(this);this.j=x(w)?w:null;this.n=l;this.G=k;this.l=r;this.A=p;this.o=B||null;if(null!=this.j&&!this.o)throw Error("Must supply revision HMAC when fetching at revision.");this.v=z||null;this.D=g;this.K=Mn();a=pa(y)?y:6E4;this.e=u?u():new Nn;this.g="";0<a&&(this.e.n=Math.max(0,a));this.N=e;this.i.ia(this.e,"readystatechange",this.lf);this.i.ia(this.e,"complete",this.kf);e=C(this.be,this);u=C(this.Ud,
this);a=C(this.aa,this);this.w=new Jn(e,c,f,u,a,N)}E(ao,G);q=ao.prototype;q.lf=function(){if(!this.q())if(null!==this.n&&Zn(this.e).length>this.n){I(this.e);var a=new Kn(3,void 0,!0);this.k(a);this.aa()}else this.N&&3==Xn(this.e)&&Yn(this.e)&&200==this.e.ea()&&(this.g=Zn(this.e),a=this.w,a.g=D(),a.e||In(a.q,!1))};
q.kf=function(){if(!this.q()){this.g=Zn(this.e);var a=this.w,b=this.e.ea(),c="last error code: "+this.e.j;a.e||(404==b||410==b||403==b?(Cn(a.j,!1),a.l()):200!=b?(b="Model XHR failed with status: "+b,c&&(b+=", "+c),a.B(b)):(a.g=D(),a.e||In(a.q,!0)))}};
q.Ud=function(){var a=this.e.ea(),b=this.e.j;a:{if(6==b){if(202==a||401==a||403==a||409==a||421==a||429==a||500<=a&&599>=a&&503!=a&&550!=a||0>=a||405==a||503==a){var c=!1;break a}if(400<=a&&499>=a||550==a){c=!0;break a}}c=!1}var d=new Kn(1,void 0,c);if(6==b&&a)switch(a){case 413:d=new Kn(3,a.toString(),!0);break;default:d=new Kn(1,a.toString(),c)}this.k(d);this.aa()};q.be=n("g");q.z=function(){delete this.g;I(this.i);I(this.e);ao.F.z.call(this)};function bo(a,b,c,d){G.call(this);this.j=a;this.k=b;this.l=c;this.i=d||null;this.e=0;this.g=new P;H(this,this.g)}E(bo,G);function co(a,b){a.e++;a.k.ka(b,C(a.n,a),a.i||void 0)}bo.prototype.n=function(){this.e--;0==this.e&&Q(this.g,null)};function eo(){};Fa(h().prototype,Kd.prototype);function fo(a,b,c){var d=this;G.call(this);this.k=b;this.A=c;this.e={};this.g={};this.j={};this.i={};this.l={};for(b=0;b<a.length;b++)go(this,a[b]);a=new Bj;H(this,a);Cj(a,this.k.g,function(){mk(d)||Q(d.n,null)});this.n=new P;H(this,this.n);this.o=new P;H(this,this.o);this.w=new P;H(this,this.w);this.v=new P;H(this,this.v)}E(fo,G);fo.prototype.add=function(a){go(this,a);co(this.k,[a]);Q(this.o,null)};
function go(a,b){var c=b.oa(),d=b.ub(),e=Qh(b,"oc");if(a.i[c]||d&&a.i[d]||e&&a.i[e])throw Error("Adding existing blob metadata.");a.i[c]=b;d&&(a.i[d]=b);e&&(a.i[e]=b);switch(b.ea()){case "awaiting-original-url":case "pending":a.e[c]=b;break;case "saved":a.j[c]=b;a.l[c]=d;ho(a,d,c,b.ea());break;case "failed":a.j[c]=b;a.l[c]="FAILED_IMAGE_UPLOAD";break;default:throw Error("Adding unknown blob type "+b.ea());}}function mk(a){return!vb(a.e)||!vb(a.g)||0<a.k.e}
function nk(a,b,c){var d=a.g[b];if(!d)throw Error("markAsSaved for blob that was not sending.");S(d,"c",c);im(d,"saved");a.i[c]=d;ho(a,c,b,d.ea());io(a,d,c);Q(a.w,new eo)}function ok(a,b){b=a.g[b]||a.e[b];if(!b)throw Error("markAsFailed for blob that was not in the queue.");im(b,"failed");io(a,b,"FAILED_IMAGE_UPLOAD");Q(a.v,new eo)}function io(a,b,c){var d=b.oa();a.j[d]=b;a.l[d]=c;a.g[d]&&delete a.g[d];a.e[d]&&delete a.e[d];co(a.k,[b]);mk(a)||Q(a.n,null)}
function yk(a){if(mk(a))throw Error("getResolvedBlobIdMap called when there are pending writes.");return wb(a.l)}function jo(a){var b=[];Za(b,tb(a.e));Za(b,tb(a.g));Za(b,tb(a.j));return b}function ho(a,b,c,d){0==b.indexOf("PLACEHOLDER_")&&ko(a.A,Error("Resolved Cosmo ID "+b+" for placeholder ID "+c+" is still a placeholder. Status: "+d))};function lo(a,b,c,d){var e=Ui(),f=mo(b,a,d);f?no(b.e.kc(),a,function(a){V(e,new fo(a,f,c))},d):V(e,null);return e}function mo(a,b,c){var d=a.e.kc();return d?new bo(b,a,d,c):null};function oo(a){this.g=a;this.e=new En}function po(a,b,c,d,e){if(0==b.length)throw Error("Cannot send an empty message to the server.");if(!pa(d)||0>d)throw Error("Cannot send an invalid revision number to the server: "+d);d=["rev",d];if(0<b.length){for(var f=[],g=0;g<b.length;g++)f.push(qo(a.g,b[g]));d.push("bundles");d.push(a.e.stringify(f))}vb(c)||(d.push("blobIdMap"),d.push(a.e.stringify(c)));e&&(d.push("syncReason"),d.push(e));return d};function ro(a,b,c){Qd.call(this,a,c);this.g=b}E(ro,Qd);function so(a,b,c){ro.call(this,"c",a,c)}E(so,ro);function to(){K.call(this)}E(to,K);function uo(a,b,c){Qd.call(this,"d",c);this.g=a}E(uo,Qd);function vo(a,b){Qd.call(this,"n");this.i=a;this.g=b}E(vo,Qd);function wo(){G.call(this);this.e=xo;this.i=new P;H(this,this.i);this.g=new P;H(this,this.g)}E(wo,G);function yo(a,b,c,d){var e=a.e;b!=e&&(a.e=b,Q(a.g,new vo(e,b,c,d)))}function zo(a,b){this.g=a;this.e=b}
var xo=new zo("IDLE",1),Ao=new zo("BUSY",1),Bo=new zo("RECOVERING",2),Co=new zo("OFFLINE",3),Do=new zo("SERVER_DOWN",3),Eo=new zo("FORBIDDEN",4),Fo=new zo("AUTH_REQUIRED",4),Go=new zo("SESSION_LIMIT_EXCEEDED",4),Ho=new zo("INCOMPATIBLE_SERVER",5),Io=new zo("CLIENT_ERROR",5),Jo=new zo("SAVE_ERROR",5),Ko=new zo("BATCH_SAVE_ERROR",3);zo.prototype.toString=n("g");function Lo(a,b,c,d,e,f,g,l,k){K.call(this);this.w=a;this.l=b;this.n=c;this.k=f;this.o=x(g)?g:3;this.j=k;this.v=l||Jo}E(Lo,to);Lo.prototype.g=!1;Lo.prototype.e=!0;
function xk(a,b,c,d,e){if(a.g)return!1;a.g=!0;a.e=0<b.length;b=po(a.k,b,c,d,e);c=a.e?fb(a.v):ib;b=Mo(hj(No(Oo(jj(kj(Po(fj(gj(a.n,"/save"),"id",a.l),b),function(b){b=lj(b);a.g=!1;if(b&&!vb(b)){a.e=!1;var c=b.revisionRanges;if(!c||!va(c)||0>=c.length)throw Error("processCommandBatchesRequestSuccessResponse_: response did not include a non-empty array of revision ranges "+c);for(var d=[],e=-1,f=0;f<c.length;f++){var r=c[f];if(!r||2!=r.length)throw Error("processCommandBatchesRequestSuccessResponse_: invalid  revision range "+
r);var u=r[0];r=r[1];if(null==u)throw Error("processCommandBatchesRequestSuccessResponse_: range did not include a start");if(null==r)throw Error("processCommandBatchesRequestSuccessResponse_: range did not include an end");if(r<u)throw Error("processCommandBatchesRequestSuccessResponse_: expected range end ("+r+") < expected range start ("+u+")");if(u<=e||r<=e)throw Error("processCommandBatchesRequestSuccessResponse_: out of order ranges or overlapping "+c);e=r;d.push(new Ug(u,r))}qe(a,new uo(d,
b.additionalInfo))}else{if(a.e)throw Error("handleCommandBatchesRequestSuccess_: Got unexpected empty response after sending command batches.");qe(a,"d")}}),function(b){a.g=!1;var c=a.e;a.e=!1;qe(a,new so(b,c))}),c)),a.o));if(a.w){if(!b.H)throw Error("Cannot add session data to request when session data not defined.");b.g=ec(b.g,b.H.e())}null!=a.j&&b.setTimeout(a.j);ij(b);return!0};function Qo(a){this.e=a;this.g=O(M(),"docs-localstore-epqwr")}function qo(a,b){var c=b.na(),d=[];for(var e=0;e<c.length;e++)d.push(ik(c[e]));if(a.g){e={};for(var f=0;f<d.length;f++){var g=c[f].e,l=e,k=JSON.stringify(d[f]);if(k=Vg(k))l[g]||(l[g]=""),l[g]+=k}if(!vb(e)){c={};f="{";for(var p in e)f+='"'+p+'": "'+e[p]+'" ; ';c.malformedCommands=f+"}";a.e.U(Error("Malformed characters exist in command bundle after being serialized"),c)}}a={};a.commands=d;a.sid=b.Ia;a.reqId=b.getRequestId();return a};function Ro(a,b,c,d,e,f,g,l,k,p,r,u,w,B,z,y,N,oa,ha,Ra,sa,xa,pc,mb,ke,db,Ut,Vt){ek.call(this,a,b,Yh(p));this.Oa=c;this.Sa=d;if(null==f)throw Error("Must specify a session ID in order to save changes.");this.K=e;this.Ta=f;this.I=new hk;this.ma=new oo(new Qo(this.n));this.n=g;this.Ra=l;this.k=k;this.g=p;this.P=Ui();this.e=new zl(g,Yh(p),void 0,Vt,[this.P]);this.e.Ra=!0;a=C(this.Na,this);this.e.zd=a;this.db=Ra;this.ya=sa||null;O(M(),"docos-eos");this.ua=pc||null;this.G=!!mb;this.C=new Bj;H(this,this.C);
this.v=this.l=null;this.Pa=y;this.ta=ha;if(!db)throw Error("We can't deliver local changes without a blob transporter");this.ha=db||null;this.j=null;this.w=r;this.V=u;if(null!=this.w&&!this.V)throw Error("Must supply revision HMAC when syncing at revision.");this.A=w;this.$=B;this.N=z;this.Va=ke;this.Qa=Ut||null;this.D=!1;this.Ua=N;this.za=oa}E(Ro,ek);q=Ro.prototype;
q.df=function(a){if(0>=a.length)this.ja(8,"Could not read local store: No opted in user.");else{var b=this.e,c=this.g;a=a[0].e.id;b.Pa=this.k;b.e=c;b.Jc=a;Hl(this.e);b=this.e;1==b.Hc.e&&(b.g&&(c=b.g,a=b.i,c.j&&(c.j=!1,a.U(Error("Clearing already saved pending queue."),{sentBundlesSavedRevision:Ph(c,"sentBundlesSavedRevision"),queueRevision:c.Q()}),tl(c)),b.g.L()&&Kk(b,1)),V(b.Hc,null));Bl(this.e);b=this.o;null!=this.w?this.Ab():So(this.k.e.v,b,C(this.ze,this),C(this.Na,this))}};
q.ze=function(a){1!=a?this.ja(3,"Unable to acquire the storage lock"):this.A?zi(Ok(this.g,this.K,this.n),C(this.pe,this),C(this.re,this)):Rh(this.g,"inc")?this.ja(11,"Skipping document because it is not known to exist on the server"):this.Ab()};q.re=function(){this.ja(7,"Could not create document.")};q.pe=function(){var a=C(this.Xe,this);Rh(this.g,"inc")?(Ll(this.e),Mi(Bl(this.e),a)):a()};
q.Xe=function(){var a=this;Mi(lo(this.o,this.k,this.n,C(this.Na,this)),function(b){var c=C(a.Ad,a,C(a.Sd,a),C(a.Ab,a));b?(a.j=b,U((new lk(a.j,a.ha,a.n)).R(),c)):c()})};q.Ad=function(a,b){var c=this,d=pn(this.e,this.Ta,this.k,this.n,C(this.Be,this),Yh(this.g),Zh(this.g),this.I);d?pi(d,function(b){c.l=b;a()},function(a){a?c.Na(a):c.ja(9,"Could not retrieve pending command queue.")}):b&&b()};q.Be=h();
q.Ab=function(){var a=this,b=this.o,c=new Bn(b,this.Ra,this.e,this.ya||void 0,this.ua||void 0,To(this));Cj(this.C,c.k,function(){return Uo(a)});Cj(this.C,c.i,function(b){switch(b.e){case 1:a.md(new Kn(2));break;case 2:a.ja(2,"Entity sync failed");break;case 3:a.$?Vo(a,!1):a.ja(13,"Server model fetch failed");break;default:a.ja(7,"Unknown server document loader error")}});var d=new ao(this.Oa+"/d/"+b,this.Sa,c,C(this.md,this),!1,!0,this.N,this.Qa,this.Ua,this.ta,this.za,this.db,null==this.w?void 0:
this.w,this.V||void 0,void 0,this.Va);this.D=!0;Ol(this.e);Mi(Bl(this.e),function(){var a=v.location.href.match(Xb),b={};b.reason=d.D;b.smv=d.G;null!==d.l&&(b.fcs=d.l);d.v&&(b.sid=d.v);null!=d.j&&(b.osr=d.j,b.rhmac=d.o);d.A&&(b.mmv=1);zb(b,d.K.e);b=cc(b);d.e.R(Wb(a[1],void 0,a[3],a[4],d.I+d.C,b))})};function To(a){if(!a.j)return{};var b=yk(a.j),c={},d;for(d in b)b=a.j,(b.e[d]||b.g[d]||b.j[d]||null).getUrl()&&(c[d]=new nj(d,null,"image"));return c}
q.Sd=function(){var a=this.l;if(Bk(a))this.ja(5,"pending command queue is undeliverable.");else if(vk(a)){a.e||Kl(a.i,Error("Cannot initialize queue without a record"));var b=a.e.Q();0>b&&(ln(a),Kl(a.i,Error("Cannot initialize queue without a real pending queue revison.")));var c=Sh(a.e,"revisionAccessInfo");var d=Wh(c);a.od=!0;a.C=b;a.e||Kl(a.i,Error("Cannot initialize queue without a record"));var e=a.e.Q();a.D=a.e.L();ln(a);if(e==b){if(Mh(a.e,"selection")&&a.ua)throw bg("Unexpected call - fromCommand").e;
}else ol(a.e,null);b<e&&!a.e.L()&&Kl(a.i,Error("Can't apply pending changes because local pending queue revision is ahead of model revision with a non-empty queue"));c=O(M(),"icso");var f=li(a.g.e);f=null!==f&&3==f;var g=!1;c||!f||a.e.L()||(b>e?g=a.e.j=!0:b==e&&a.i.U(Error("Model revision is equal to queue revision while warm starting with a non-empty saved queue")));a.i.g.pendingQueue_forcedEmptyInMemory=g.toString();a.e.L()&&(Hk(a.e,b,d),null!==a.k&&S(a.e,"accessLevel",a.k));b>e&&c&&!a.e.L()&&(b=
Error("Model revision is ahead of queue revision while cold starting with a non-empty queue"),Bk(a)?a.i.U(b):Kl(a.i,b));b=!1;c&&f&&!a.e.L()&&(b=!0,fn(a));a.i.g.pendingQueue_setWaitingForAck=b.toString();a.G[a.ya]=!0;c=vl(a.e).concat(wl(a.e));for(b=0;b<c.length;b++)a.G[c[b].Ia]=!0;Q(a.N,null);Dk(a)||Q(a.o,null);this.v=new uk(this.l,this.j,new Lo(!1,Yh(this.g),this.K,this.I,new Og,this.ma,2,Ko),this.N);zi(this.v.R(),C(this.Ab,this),C(this.Ce,this))}else this.Ab()};
q.Ce=function(a){var b=this;if(this.G&&!Bk(this.l)){var c=function(){Wo(b,a)};pi(Nk(this.l),c,c)}else Wo(this,a)};function Wo(a,b){b.g?a.ja(5,"Permanent failure while delivering the pending command queue"):b.e?a.Na(b.e):a.ja(6,"Temporary failure while delivering the pending command queue")}function Uo(a){var b=[];a.v&&Ak(a.v);Nl(a.e,!0);Ml(a.e);Pl(a.e);V(a.P,null);var c=Hi(a.e.Ta);b.push(c);b.push(Xo(a));U(new jk(b),C(a.ye,a));(b=a.k.e.dd())&&Yo(b,[a.o],C(h(),a),C(function(a){this.n.log(a)},a))}
function Xo(a){if(!a.A||!a.j||!jo(a.j).length)return Fi();var b=new T,c=jo(a.j),d=a.j;a=C(a.Ye,a,b,c);d.e={};d.g={};d.j={};d.l={};d.i={};d=d.k;Zo(d.l,d.j,a,d.i||void 0);return b}q.Ye=function(a,b){for(var c=[],d=0;d<b.length;d++){var e=Qh(b[d],"ou");e&&c.push(tj(this.Pa,e))}pi(Qi(c,!1),function(){return a.e(null)},function(b){return a.errback(b)})};q.md=function(a){if(this.G)Vo(this,!0);else switch(a.e){case 3:this.ja(14,a.message);break;default:this.ja(a.Gc()?12:7,a.message)}};
function Vo(a,b){var c=a.e;c.v=!0;c.l=null;c.C=null;c.w=null;a.A?$o(a,b):a.Ad(C(a.Se,a,b))}q.Se=function(a){var b=this;vk(this.l)?pi(Nk(this.l),ap(this,a),function(a){b.Na(a)}):Bk(this.l)||$o(this,a)};function $o(a,b){b=ap(a,b);a.g.H?b():(Lh(a.g),a.k.ka([a.g],b,C(a.Na,a)))}function ap(a,b){return b?C(a.ja,a,7,"Server model fetch failed"):C(a.Ld,a)}q.ye=function(){this.Ld()};
q.Na=function(a){if(2==a.type){var b=3;a="Write failed due to lock steal: "+$f.prototype.i.call(a)}else b=Bh(a),(b=!!b&&"QuotaExceededError"==b.name)||(b=Bh(a),b=1==a.type&&!!b&&"UnknownError"==b.name),b=b?8:9,a="Could not write document to local store: "+$f.prototype.i.call(a);this.ja(b,a)};q.ja=function(a,b){gf(bp(this),function(){this.q()||this.Xa(new dk(this.o,a,b))}.bind(this))};
function bp(a){return a.D?new Ue(C(function(a,c){cp(this.k.e.e,Yh(this.g),C(function(b){b?(b.Gb(!1),b.Fb(D()),this.k.ka([b],a,c)):a()},this),c)},a)):Ze()}q.Ld=function(){this.e.e.xa?this.X():(Nl(this.e,!1),this.D&&(this.e.Gb(!0),this.e.Fb(D())),Mi(Bl(this.e),C(this.X,this)))};q.z=function(){I(this.v);Ro.F.z.call(this)};function dp(a,b,c,d,e,f,g,l,k,p,r,u,w,B,z,y,N){G.call(this);this.D=a;this.e=b;this.w=d;this.n=(this.G=e)?N||new oj:null;this.i=f;this.g=g;this.v=l;this.k=k;this.j=p;this.K=r;this.A=u;this.o=w;this.l=B;this.C=z;this.I=y}E(dp,G);
function ep(a,b,c,d){var e=[];"ritz"==Zh(d)&&e.push(new pj);a.i&&e.push(new aj(a.i));e=e.length?new qj(e):void 0;var f=Yh(d),g=new sj(a.v);f=new Pj(f,a.k,a.j,new bj(f,a.e,a.j),a.e,a.g);return new Ro(b,c,a.D,"/model",a.e,Rg(),a.g,new Qg(a.C,a.I),a.w,d,null,null,!0,!0,2,g,a.A,a.o,a.l,void 0,a.G||void 0,void 0,a.n||void 0,void 0,6E5,f,a.K?Fg("docs-offline-mobile-mms")||void 0:void 0,e)};function fp(a,b,c,d){this.e=a;this.j=b;this.g=c||-1;this.i=d||""}fp.prototype.getRequestId=n("e");fp.prototype.getSyncResult=n("j");fp.prototype.getMessageType=n("g");fp.prototype.getMessage=n("i");function gp(a,b){this.g=a;this.e=b}function hp(a){var b=df(),c=a.g.e.ab();c||b.e("Could not get TemplateCapability");ip(c,a.e,function(a){b.resolve(a)},function(a){b.e(Ah(a))});return b.g};function ak(a){Vj(this,a,0,jp)}E(ak,Tj);var jp=[11,12,22,20];function kp(a){Vj(this,a,0,lp)}E(kp,Tj);var lp=[1,2];function mp(a,b,c){G.call(this);this.j=a;this.k=b;this.e=c?c():new Nn;this.i=new qk(this);this.i.ia(this.e,"readystatechange",this.l);this.g=df()}E(mp,G);function np(a){var b=v.location.href.match(Xb);a.e.R(Wb(b[1],void 0,b[3],b[4],a.j+"/templatemetadata",a.k?"ulmi=1":void 0));return a.g.g}mp.prototype.l=function(){4==Xn(this.e)&&(Yn(this.e)?this.g.resolve(Zj(new kp(Gn(Zn(this.e))))):this.g.e("Failed fetching server templates"))};mp.prototype.z=function(){I(this.i);I(this.e);mp.F.z.call(this)};function op(a,b,c){G.call(this);this.k=a;this.l=b;this.e=c?c():new Nn;this.g=new qk(this);this.g.ia(this.e,"readystatechange",this.n);this.j=df()}E(op,G);op.prototype.i=function(){var a=v.location.href.match(Xb),b=bc(["templateid",this.k]);this.e.R(Wb(a[1],void 0,a[3],a[4],this.l+"/templatemodeldata",b));return this.j.g};op.prototype.n=function(){4==Xn(this.e)&&Yn(this.e)&&200==this.e.ea()&&this.j.resolve(Zn(this.e))};op.prototype.z=function(){I(this.e);I(this.g);op.F.z.call(this)};function pp(a,b){this.g=a;this.e=b}pp.prototype.i=function(){return new Ue(function(a,b){""!=this.e.e.isThumbnailReady?a():qp(this.g,new nj(this.e.e.id,this.e.e.thumbnailUrl,"thumbnail"),C(function(c){0<c.pb||0<c.Za?b("Thumbnail syncing failed"):(R(this.e,"isThumbnailReady",!0),a())},this))},this)};function rp(a,b,c,d){G.call(this);this.j=a;this.i=b;this.k=c;this.e=d}E(rp,G);function sp(a,b){var c=a.e.H?a.g(!1):Ze();c=c.then(function(){return(new pp(this.i,this.e)).i()},void 0,a);b&&(c=c.then(a.l,void 0,a));return c.then(C(a.g,a,b))}rp.prototype.l=function(){var a=new op(this.e.e.id,this.k);H(this,a);return a.i().then()};rp.prototype.g=function(a){a&&(R(this.e,"isReady",!0),R(this.e,"isDirty",!1));return new Ue(function(a,c){this.j.ka([this.e],a,c)},this)};function tp(a,b,c,d){this.g=a;this.l=b;this.i=c;this.e=d}function up(a){return vp(a).then(C(a.q,a)).then(C(a.j,a)).then(C(a.k,a))}function vp(a){return new Ue(function(a,c){R(this.e,"isReady",!1);this.g.ka([this.e],a,c)},a)}tp.prototype.q=function(){return new Ue(function(a,b){wp(this.l,[["templates"],"thumbnail"],this.e.e.id,a,b)},this)};
tp.prototype.j=function(){return new Ue(function(a,b){if(this.i){var c=this.i,d=["templates",this.e.e.id];a=new xp(a);b=new yp(C(c.tb,c,b));c.e.removeDirectory(zn(d),d,a,b)}else a()},this)};tp.prototype.k=function(){return new Ue(function(a,b){zp(this.g.e.ab(),this.e.e.id,a,b)},this)};function Ap(a,b,c,d,e,f,g,l,k,p){G.call(this);this.g=a;this.w=[b,c];this.o=d;this.v=e;this.j=new mp(e,!!p);this.i=new gp(a,f);this.n=f;this.l=g;this.e=x(k)?k:null}E(Ap,G);Ap.prototype.k=function(){return Bp(this)};function Bp(a){var b=np(a.j),c=hp(a.i);return cf([b,c]).then(function(a){for(var b=0;b<a.length;b++)if(!a[b].hd)return!1;return Cp(this,a[0].value,a[1].value).then(hb,gb)},gb,a)}
function Cp(a,b,c){for(var d=[],e=[],f=0;f<b.length;f++){var g=W(b[f],5);if(c[g]){var l=c[g];W(b[f],6)>l.e.lastModifiedTimestamp&&(null==a.e||a.e>=W(b[f],19))?(Dp(a,l,b[f]),e.push(l)):""!=l.e.isThumbnailReady||e.push(l);delete c[g]}else(null==a.e||a.e>=W(b[f],19))&&e.push(Ep(a,b[f]))}for(f=0;f<e.length;f++)d.push(sp(new rp(a.g,a.o,a.v,e[f]),!1));d.push(bf(a.w).then(function(a){var b=[],d;for(d in c)b.push(up(new tp(this.g,a[0],a[1],c[d])));return cf(b).then(function(){return bf(b)})},void 0,a));return cf(d).then(function(){return bf(d).then()})}
function Ep(a,b){var c=W(b,5),d=W(b,1),e=Yj(b,2),f=Yj(b,3),g=W(b,4),l=W(b,7),k=400>=a.l?W(b,8):W(b,9),p=W(b,6),r=Xj(b,12),u=W(b,14),w=W(b,15);b=W(b,17);return new Em(c,d,e,f,g,l,k,a.n,p,r,u,w,b,!1,!1,!0,!0)}
function Dp(a,b,c){var d=W(c,1);S(b,"title",d);d=Yj(c,2);S(b,"style",d);d=Yj(c,3);S(b,"category",d);d=W(c,4);S(b,"locale",d);d=W(c,7);S(b,"creator",d);a=400>=a.l?W(c,8):W(c,9);S(b,"thumbnailUrl",a);a=W(c,6);S(b,"lastModifiedTimestamp",a);a=Xj(c,12);S(b,"fontFamilies",a);a=W(c,14);S(b,"brandedAuthor",a);a=W(c,15);S(b,"brandedUrl",a);c=W(c,17);S(b,"masterTemplate",c);R(b,"isThumbnailReady",!1);R(b,"isDirty",!0)}Ap.prototype.z=function(){I(this.i);I(this.j);Ap.F.z.call(this)};function Fp(){G.call(this)}E(Fp,G);Fp.prototype.k=function(){return Ze(!0)};function Gp(a,b){this.g=a;this.e=b}q=Gp.prototype;q.S=function(){return new Gp(this.g,this.e)};q.Pd=function(){return this.g*this.e};q.L=function(){return!this.Pd()};q.ceil=function(){this.g=Math.ceil(this.g);this.e=Math.ceil(this.e);return this};q.floor=function(){this.g=Math.floor(this.g);this.e=Math.floor(this.e);return this};q.round=function(){this.g=Math.round(this.g);this.e=Math.round(this.e);return this};function Hp(a,b,c,d,e,f,g,l,k,p,r,u,w,B){G.call(this);this.i=a;this.l=b;this.A=c;this.G=d;this.e=e;this.g=f;this.w=g;this.k=l;this.n=k;this.j=p;this.v=r;this.C=u;this.o=w;this.D=B}E(Hp,G);q=Hp.prototype;q.syncEditorMetadata=function(a,b){var c=C(this.Ke,this,a),d=this.A;a=this.i;if(a.e.$a()){var e=b||null;b=d.g;var f=C(d.i,d,a,c,e);d=C(d.i,d,a,c,e,null);(c=a.e.$a())?(a=C(b.k,b,a,f,d),f=C(b.i,b,d),c.k.getUnusedDocumentIdCount(b.e,new Ip(a),Jp(f))):f(0)}else c(0,!0)};
q.Ke=function(a,b,c){b=c&&null!=b;this.e.onSyncResult2(new fp(a,b?0:1,null,b?null:"Error syncing metadata."))};q.syncSyncObjects=function(a){if(this.k)this.k.i(C(this.Le,this,a));else this.e.onSyncResult2(new fp(a,0,null,null))};q.Le=function(a,b,c){this.e.onSyncResult2(new fp(a,c?1:0,null,c||null))};
q.syncWebFonts=function(a,b,c,d){if(this.w){var e=this.w,f=C(this.nd,this,a);a=C(this.Me,this,a);for(var g=[],l={},k=$g(),p=0;p<c.length;p++){var r=gh(c[p],k);g.push(r);l[r.e]=!0}c=[];for(k=0;k<g.length;k++)c.push(new Kp(g[k].e,g[k].g));Lp(c);O(M(),"docs-emfms")&&(g=Mp(ub(l),"menu"),Za(c,g));b?Np(e.g,C(e.e.bd,e.e,c,d,f,a),a):e.e.bd(c,d,f,a)}else this.nd(a)};q.nd=function(a){this.e.onSyncResult2(new fp(a,0,null,null))};q.Me=function(a,b){this.e.onSyncResult2(new fp(a,1,null,b.message))};
q.syncDocument=function(a,b){b=C(this.ef,this,b,a);cp(this.l,a,b)};q.ef=function(a,b,c){c||(c=Wl(this.l,b,this.g),R(c,"hpmdo",!0));var d=ep(this.G,function(){d&&d.aa();this.e.onSyncResult2(new fp(a,0,null,null))}.bind(this),function(b){d&&d.aa();var c=b.Gc()?2:1,e={};e["document-sync-error-type"]=b.Cc;e["document-sync-error-message"]=b.message;this.C.U(Error("Document sync error"),e);this.e.onSyncResult2(new fp(a,c,b.Cc,b.message))}.bind(this),c);d.i()};
function Op(a,b,c,d){var e=1,f=1;b=new Gp(b,c);switch(a.g){case "kix":e=d?4:3;f=d?5:4;break;case "punch":case "ritz":e=d?4:2,f=d?5:4}return Math.ceil(Math.max(Math.min(b.g,b.e)/e,Math.max(b.g,b.e)/f))}q.syncTemplatesWithThumbnails=function(a,b,c,d){Pp(this,a,b,c,d)};q.syncTemplatesWithThumbnailsAtModelVersion=function(a,b,c,d,e,f){Pp(this,a,b,c,d,f)};
function Pp(a,b,c,d,e,f){Qp(a)?(c=Op(a,c,d,e),f=new Ap(a.i,Ze(a.n),Ze(null),a.j,a.v,a.g,c,a.o,f,a.D)):f=new Fp;a=C(function(a,b,c){Rp(this,a,c);b.aa()},a,b,f);f.k().then(a)}q.syncTemplateModelAndResources=function(a,b){Qp(this)?Sp(this.i.e.ab(),b,C(function(a,b){b?(b=new rp(this.i,this.j,this.v,b),sp(b,!0).then(hb,gb).then(C(function(a,b,c){Rp(this,a,c);b.aa()},this,a,b))):Rp(this,a,!1,"Template does not exist")},this,a),C(function(a,b){Rp(this,a,!1,Ah(b))},this,a)):Rp(this,a,!1,"Localstore does not support templates")};
function Rp(a,b,c,d){a.e.onSyncResult2(new fp(b,c?0:1,null,d||null))}function Qp(a){return!(!(a.j&&a.o&&a.n)||"kix"!=a.g&&"punch"!=a.g&&"ritz"!=a.g)}q.z=function(){Ld(this.i,this.A,this.k);Hp.F.z.call(this)};function Tp(){}Tp.prototype.e=function(){if(window.sf("This error has been reported to Google and we'll look into it as soon as possible. Please reload this page to continue.")){var a=window;a.Pf=ta;a.location.Wf()}};function Up(a){Ia.call(this,a)}E(Up,Ia);Fa(h().prototype,Kd.prototype);function Vp(){this.g=0;this.e=[]}q=Vp.prototype;q.add=function(a){var b=this.e[this.g];this.e[this.g]=a;this.g=(this.g+1)%50;return b};q.get=function(a){a=Wp(this,a);return this.e[a]};q.set=function(a,b){a=Wp(this,a);this.e[a]=b};q.W=function(){return this.e.length};q.L=function(){return 0==this.e.length};q.O=function(){var a=this.W(),b=this.W(),c=[];for(a=this.W()-a;a<b;a++)c.push(this.get(a));return c};q.la=function(){for(var a=[],b=this.W(),c=0;c<b;c++)a[c]=c;return a};
function Xp(a){return 0==a.W()?null:a.get(a.W()-1)}function Wp(a,b){if(b>=a.e.length)throw Error("Out of bounds exception");return 50>a.e.length?b:(a.g+Number(b))%50};function Yp(a){this.i=a;this.g=Math.floor(a/50);this.e=new Vp}Yp.prototype.get=function(a){return Zp(this,a,function(a,c){return a+c.g})};function Zp(a,b,c){b=b||D();$p(a,b);var d=0;b=a.g*(Math.floor(b/a.g)+1)-a.i;for(var e=a.e.W()-1;0<=e;--e){var f=a.e.get(e);if(f.e<=b)break;d=c(d,f)}return d}function $p(a,b){var c=Xp(a.e);c&&b<c.e-a.g&&(a=a.e,a.e.length=0,a.g=0)}function aq(a){this.e=a}aq.prototype.g=0;aq.prototype.min=Number.MAX_VALUE;aq.prototype.max=Number.MIN_VALUE;function bq(a,b,c){G.call(this);this.i=a;this.g=b;this.e=new Yp(1E3*c)}E(bq,G);function cq(a,b){b=null!=b?b:1;return(a.e.get()+b)/(a.e.i/1E3)<=a.g}function dq(a,b){b=null!=b?b:1;if(!cq(a,b))throw new Up(Nb("Query would cause ",a.i," to exceed ",a.g," qps."));a=a.e;var c=D();$p(a,c);var d=Xp(a.e);if(!d||c>=d.e)d=new aq(a.g*(Math.floor(c/a.g)+1)),a.e.add(d);d.g+=b;d.min=Math.min(b,d.min);d.max=Math.max(b,d.max)};function eq(a){G.call(this);this.g=new Nn;this.o=new Gj(this.l,3E4,this);this.C=new bq("errorsender",1,8);H(this,this.C);this.A=!1;this.w=new Set;this.v=new qk(this);this.K=a||10;this.v.ia(this.g,"complete",this.G);this.v.ia(this.g,"ready",this.l)}E(eq,G);eq.prototype.R=function(a,b,c,d){var e=U(U(this.gb(),function(e){e>=this.K||(e={},e.u=a,e.m=b,e.c=c,e.h=d,this.Mb(e))},this),this.l,this);Ai(e,function(){this.w.delete(e)},this);this.w.add(e)};
eq.prototype.l=function(){0!=this.o.e||this.g.e||this.A||fq(this)};function fq(a){U(a.fb(),function(a){if(!this.g.e&&0==this.o.e&&!this.A&&a)if(4E3<a.u.length)this.Ha();else try{dq(this.C,1),this.g.R(a.u,a.m,a.c,a.h)}catch(c){if(c instanceof Up)this.A=!0;else throw c;}},a)}eq.prototype.G=function(){var a=this.g.ea();Yn(this.g)||400<=a&&500>=a?this.Ha():(a=this.o,Hj(a),a.e=zf(a.i,x(void 0)?void 0:a.k))};eq.prototype.z=function(){Ld(this.v,this.o,this.g);this.w.clear();eq.F.z.call(this)};function gq(a,b,c,d,e){eq.call(this,e);this.n=b;this.j=b+"-f";this.i=b+"-n";this.k=c;this.D=a;this.e=null;this.I=d||hq;a=this.I.open("DocsErrors",1);a.Ue=C(this.qe,this);a.Sf=C(this.Ne,this);a.wd=C(this.kd,this);a.Qf=C(this.kd,this)}E(gq,eq);var hq=v.If||v.dg;q=gq.prototype;
q.qe=function(a){var b=a.ga.Gd,c=iq(b,"readwrite");U(new jk([jq(this.j,c),jq(this.i,c)]),function(a){null==a[0][1]||null==a[1][1]?(a=c.Kc("Errors"),a.wa({key:this.j,value:"1"}),a.wa({key:this.i,value:"1"}),c.vd=C(this.Zc,this,b)):this.Zc(b)},this)};q.Zc=function(a){this.e=a;this.l()};q.Ne=function(a){a.ga.ff.yf.wf("Errors",{keyPath:"key"})};
q.kd=function(a){this.e&&(this.e.close(),this.e=null);var b=a.ga.error,c=b&&b.name;b=b&&b.message||a.ga.webkitErrorMessage;a.ga.docs_internalAbort&&(b="Internal abort: "+b);ko(this.D,Error("IdbErrorSender: "+(c+" ("+b+")")))};q.Mb=function(a){if(!this.e)return this.k.Mb(a);var b=iq(this.e,"readwrite"),c=new T;U(jq(this.i,b),function(d){if(d){var e=b.Kc("Errors");e.wa({key:this.i,value:String(d+1)});e.wa({key:this.n+"-e-"+d,value:se(a)});b.vd=C(c.e,c)}else c.e()},this);return c};
q.Ha=function(){if(!this.e)return this.k.Ha();var a=iq(this.e,"readwrite"),b=new T;U(new jk([jq(this.j,a),jq(this.i,a)]),function(c){var d=c[0][1];c=c[1][1];if(!d||c<=d)b.e();else{var e=a.Kc("Errors");e["delete"](this.n+"-e-"+d);d++;e.wa({key:this.j,value:String(d)});U(kq(this,a),function(c){0==c&&(e.wa({key:this.j,value:"1"}),e.wa({key:this.i,value:"1"}));a.vd=C(b.e,b)},this)}},this);return b};
q.fb=function(){if(!this.e)return this.k.fb();var a=iq(this.e,"readonly");return U(new jk([jq(this.j,a),jq(this.i,a)]),function(b){var c=b[0][1];return!c||1>b[1][1]-c?null:U(lq(this.n+"-e-"+c,a),function(a){return a&&(a=JSON.parse(a))?a:U(this.Ha(),this.fb,this)},this)},this)};q.gb=function(){if(!this.e)return this.k.gb();var a=iq(this.e,"readonly");return kq(this,a)};function kq(a,b){return U(new jk([jq(a.j,b),jq(a.i,b)]),function(a){return a[1][1]-a[0][1]})}
function jq(a,b){return U(lq(a,b),function(a){a=parseInt(a,10);return 0>a||isNaN(a)?null:a})}function lq(a,b){b=b.Kc("Errors");var c=new T;b.get(a).Ue=function(a){a.ga.Gd?c.e(a.ga.Gd.value):c.e(null)};return c}function iq(a,b){var c=["Errors"];try{return a.ff(c,b)}catch(f){b=a.Of;for(var d=[],e=0;e<b.length;e++)d.push(b.Kf(e));throw gd(f,{databaseName:a.name,databaseObjectStores:d.toString(),databaseVersion:a.ag.toString(),transactionObjectStores:c.toString()});}}
q.z=function(){this.e&&(this.e.close(),this.e=null);gq.F.z.call(this)};function mq(){try{var a=v.Re;if(a&&(Rj||Sj||Lc)&&(a.Ea("test","test"),"test"==a.Fc("test")&&(a.Cd("test"),null==a.Fc("test"))))return!0}catch(b){}return!1};function nq(){G.call(this);this.e={}}E(nq,G);nq.prototype.Ga=function(a,b,c){if(ya(a))c&&(a=C(a,c));else if(a&&"function"==typeof a.Ba)a=C(a.Ba,a);else throw Error("Invalid listener argument");c=new oq;a=zf(C(this.g,this,a,c),b);this.e[a]=!0;return c.e=a};nq.prototype.g=function(a,b){b=b.e;null===b||delete this.e[b];a()};nq.prototype.z=function(){for(var a in this.e)wf.clearTimeout(Number(a));nq.F.z.call(this)};function oq(){this.e=null};function pq(a,b){eq.call(this,b);this.n=a;this.k=a+"-v";this.j=a+"-f";this.i=a+"-n";this.e=v.Re;mq();a=qq(this,this.k);if(!a||1>a)this.e.Ea(this.k,"1"),this.e.Ea(this.j,"1"),this.e.Ea(this.i,"1");this.l();this.D=new nq;H(this,this.D);this.D.Ga(this.Vd,3E4,this)}E(pq,eq);q=pq.prototype;q.Mb=function(a){var b=qq(this,this.i);if(!b||1!=qq(this,this.k))return Fi();try{this.e.Ea(this.i,String(b+1)),this.e.Ea(this.n+"-e-"+b,se(a))}catch(c){}return Fi()};
q.Ha=function(){var a=qq(this,this.j);if(!a||1!=qq(this,this.k))return Fi();this.e.Cd(this.n+"-e-"+a);a++;this.e.Ea(this.j,String(a));return U(this.gb(),function(a){0==a&&(this.e.Ea(this.j,"1"),this.e.Ea(this.i,"1"))},this)};q.fb=function(){var a=qq(this,this.j);return a&&1==qq(this,this.k)?U(this.gb(),function(b){if(1>b)return null;try{var c=this.e.Fc(this.n+"-e-"+a);if(c){var d=JSON.parse(c);if(d)return d}}catch(e){}return U(this.Ha(),this.fb,this)},this):Fi(null)};
q.gb=function(){return Fi(qq(this,this.i)-qq(this,this.j))};function qq(a,b){return(a=a.e.Fc(b))?rq(a):null}function rq(a){a=parseInt(a,10);return 0>a||isNaN(a)?null:a}q.Vd=function(){if(qq(this,this.i)&&1==qq(this,this.k))for(var a=this.n+"-e-",b=0,c=this.e.length;b<c;++b){var d=this.e.Ka(b);if(d&&0==d.lastIndexOf(a,0)){var e=rq(d.substring(a.length)),f=qq(this,this.i);f&&e&&e>=f&&this.e.Cd(d)}}};q.z=function(){pq.F.z.call(this)};function sq(a){eq.call(this,a);this.e=[]}E(sq,eq);q=sq.prototype;q.Mb=function(a){this.e.push(a);return Fi()};q.Ha=function(){this.e.shift();return Fi()};q.fb=function(){return Fi(x(this.e[0])?this.e[0]:null)};q.gb=function(){return Fi(this.e.length)};q.z=function(){delete this.e;sq.F.z.call(this)};function tq(a,b){A(b)&&/[:]/.test(b);this.i=a;this.g=b;this.constructor.Xc||(this.constructor.Xc={});this.constructor.Xc[this.toString()]=this}tq.prototype.toString=function(){this.e||(this.e=this.i.e+":"+this.g);return this.e};function uq(a,b){tq.call(this,a,b)}E(uq,tq);function vq(a){/[^0-9a-zA-Z._]/.test(a);this.e=a}new vq("lib");var wq=new vq("fva");new uq(wq,1);function xq(a){G.call(this);this.g=a}E(xq,G);xq.prototype.e=function(a){return yq(this,a)};function zq(a,b){return(b?"__wrapper_":"__protected_")+(a[Aa]||(a[Aa]=++Ba))+"__"}function yq(a,b){var c=zq(a,!0);b[c]||((b[c]=Aq(a,b))[zq(a,!1)]=b);return b[c]}
function Aq(a,b){function c(){if(a.q())return b.apply(this,arguments);try{return b.apply(this,arguments)}catch(d){if(!(d&&"object"===typeof d&&d.message&&0==d.message.indexOf("Error in protected function: ")||"string"===typeof d&&0==d.indexOf("Error in protected function: ")))throw a.g(d),new Bq(d);}finally{}}c[zq(a,!1)]=b;return c}
function Cq(a,b){var c=ra("window"),d=c[b];c[b]=function(b,c){A(b)&&(b=Ea(Ga,b));arguments[0]=b=yq(a,b);if(d.apply)return d.apply(this,arguments);var e=b;if(2<arguments.length){var f=Array.prototype.slice.call(arguments,2);e=function(){b.apply(this,f)}}return d(e,c)};c[b][zq(a,!1)]=d}xq.prototype.z=function(){var a=ra("window");var b=a.setTimeout;b=b[zq(this,!1)]||b;a.setTimeout=b;b=a.setInterval;b=b[zq(this,!1)]||b;a.setInterval=b;xq.F.z.call(this)};
function Bq(a){Ia.call(this,"Error in protected function: "+(a&&a.message?String(a.message):String(a)));(a=a&&a.stack)&&A(a)&&(this.stack=a)}E(Bq,Ia);function Dq(a,b,c){K.call(this);this.k=b||null;this.j={};this.l=Eq;this.o=a;if(!c)if(this.e=null,Lc&&!ad("10"))dd(C(this.g,this));else{this.e=new xq(C(this.g,this));Cq(this.e,"setTimeout");Cq(this.e,"setInterval");a=this.e;b=ra("window");c=["requestAnimationFrame","mozRequestAnimationFrame","webkitAnimationFrame","msRequestAnimationFrame"];for(var d=0;d<c.length;d++){var e=c[d];c[d]in b&&Cq(a,e)}a=this.e;Id=!0;b=C(a.e,a);for(c=0;c<Gd.length;c++)Gd[c](b);Hd.push(a)}}E(Dq,K);
function Fq(a,b){Qd.call(this,"q");this.Aa=a;this.g=b}E(Fq,Qd);function Eq(a,b,c,d){var e=new Nn;Qn.push(e);e.hb("ready",e.Rd);e.R(a,b,c,d)}
Dq.prototype.g=function(a,b){a=a.Aa||a;b=b?wb(b):{};a instanceof Error&&zb(b,a.__closure__error__context__984382||{});var c=ra("window.location.href");if(A(a))a={message:a,name:"Unknown error",lineNumber:"Not available",fileName:c,stack:"Not available"};else{var d=!1;try{var e=a.lineNumber||a.Qe||"Not available"}catch(p){e="Not available",d=!0}try{var f=a.fileName||a.Ja||a.sourceURL||v.$googDebugFname||c}catch(p){f="Not available",d=!0}a=!d&&a.lineNumber&&a.fileName&&a.stack&&a.message&&a.name?a:
{message:a.message||"Not available",name:a.name||"UnknownError",lineNumber:e,fileName:f,stack:a.stack||"Not available"}}if(this.k)try{this.k(a,b)}catch(p){}f=a.message.substring(0,1900);e=a.stack;try{var g=dc(this.o,"script",a.fileName,"error",f,"line",a.lineNumber);vb(this.j)||(g=ec(g,this.j));f={};f.trace=e;if(b)for(var l in b)f["context."+l]=b[l];var k=cc(f);pa(null)&&(k=k.substring(0,null));this.l(g,"POST",k,this.n)}catch(p){}try{qe(this,new Fq(a,b))}catch(p){}};
Dq.prototype.z=function(){I(this.e);Dq.F.z.call(this)};function Gq(a,b,c,d,e,f,g,l){K.call(this);this.n={};this.e=null;this.g={};this.w=new qk(this);this.C=!!a;this.A=!!e;this.o=f||new Tp;this.k=null;var k;b&&mq()?k=new pq(b,c):k=new sq(c);b&&hq&&Rj&&g?(this.k=new gq(this,b,k,void 0,c),H(this,k)):this.k=k;a=l?l:Gg("docs-sup")+"/jserror";(b=Gg("jobset"))&&(a=dc(a,"jobset",b));if(Hq)throw Error("ErrorReporter already installed.");Hq=!0;b=C(this.We,this);this.e=new Dq(a,b,void 0);this.e.n={"X-Same-Domain":"1","X-No-Abort":"1"};a=C(this.bf,this);this.e.l=
a;this.w.ia(this.e,"q",this.le);this.l=!1;this.v=!0;this.j=!1}E(Gq,K);var Hq=!1;function Iq(a,b){a.o=b}function on(a,b,c){a.n[b]=c}function mn(a,b,c){a.g[b]=c}function Kl(a,b,c){a.j=!1;Jq(b);if(!a.e){if(b instanceof th)throw b.ba();throw b;}a.e.g(b,Kq("fatal",c))}function ko(a,b){a.j=!1;Jq(b);a.e&&a.e.g(b,Kq("warning",void 0))}q=Gq.prototype;q.U=function(a,b,c){this.j=!!c;Jq(a);this.e&&this.e.g(a,Kq("incident",b))};
q.log=function(a,b,c){this.j=!!c;Jq(a);if(!this.e){if(a instanceof th)throw a.ba();throw a;}this.e.g(a,Kq("incident",b))};function Lq(a,b,c){return C(function(a){a:{var d=arguments;if(this.e){try{var f=b.apply(c,d);break a}catch(g){Kl(this,g)}f=void 0}else f=b.apply(c,d)}return f},a)}function Kq(a,b){b=b?wb(b):{};b.severity=a;return b}q.le=function(a){var b=a.g.severity;(b="fatal"==b||"postmortem"==b)&&!this.A&&(this.C?this.o.e(a):this.o.e());qe(this,new Mq(b?"r":"s",a.Aa,a.g))};
q.We=function(a,b){a=this.l;try{for(var c in this.n)try{b[c]=this.n[c]()}catch(l){}zb(b,this.g);var d=b.severity||"fatal",e=Gg("docs-jern");e&&(b.reportName=e+"_"+d);a:{for(var f in Array.prototype){var g=!1;break a}g=!0}b.isArrayPrototypeIntact=g.toString();this.l?(this.v=this.j||!O(M(),"docs-spfe"),"fatal"==d?d="postmortem":"incident"==d&&(d="warningafterdeath")):"fatal"==d&&(this.l=!0);this.j=!1;b.severity=d}catch(l){throw a&&(this.v=!1),this.l=!0,b.provideLogDataError=l.message,b.severity||(b.severity=
"fatal"),l;}};q.bf=function(a,b,c,d){this.v&&this.k.R(a,b,c,d)};function Jq(a){a instanceof th&&a.ba()}q.z=function(){Hq=!1;Ld(this.w,this.e,this.k);Gq.F.z.call(this)};function Nq(a){var b=wb(a.Aa);a.Aa.propertyIsEnumerable("message")||(b.message=a.Aa.message);zb(b,a.g);return se(b)}function Mq(a,b){Qd.call(this,a);this.Aa=b}E(Mq,Qd);function Oq(a,b){this.g=C(a,b||null)}Oq.prototype.e=function(a){a?this.g(Nq(a)):this.g()};function Pq(a){this.e=a};function Qq(a){this.e=a}function Rq(a,b){var c=[];if(O(M(),"docs-evnli")){for(var d=[],e=0;e<b.length;e++)d.push(b[e].e);ab(d);for(e=0;e<d.length;e++)c.push(new fh(d[e],"menu",400))}a=a.e.filter(Xa(c,b));b=[];for(c=0;c<a.length;c++)d=a[c],b.push(new Pq(new ah(d.e,d.g)));return b};function Sq(a,b,c){G.call(this);this.g=a;this.e=b;this.i=c}E(Sq,G);function qi(a,b){b=Rq(a.g,b);b=Tq(a.e,b);Mi(b,function(b){return a.i.e(b)});return b};function Uq(a){var b=new Vq;this.e=a;this.g=b}Uq.prototype.filter=function(a){for(var b=[],c=0;c<a.length;c++){var d=a[c],e=!this.g.e(d);!this.e.e[d.e.toLowerCase()]&&e&&b.push(d)}return b};function Wq(a,b,c,d,e,f){this.e=a;this.j=b;this.g=c;this.i=d;this.k=e;this.ob=f}Wq.prototype.getFontFamily=n("e");Wq.prototype.M=n("j");Wq.prototype.S=function(){return new Wq(this.e,this.j,this.g,this.i,this.k,Qa(this.ob,function(a){return a.S()}))};function Xq(a,b,c){this.g=a;this.yb=b;this.e=c}Xq.prototype.getUrl=n("g");Xq.prototype.eb=n("e");Xq.prototype.S=function(){return new Xq(this.g,this.yb,this.e)};function Yq(a,b,c,d,e,f,g){this.k=a;this.q=b;this.i=c;this.e=d;this.B=!!e;this.l=!!f;this.g=null;this.j=g;O(M(),"docs-ofmpp")||(this.g=Zq(this))}function $q(a,b,c,d,e,f,g){return new Yq(a,b,c,d,e,f,g)}var ar={truetype:".ttf","embedded-opentype":".eot",svg:".svg",swf:".swf",woff:".woff",woff2:".woff2"};q=Yq.prototype;q.getFontFamily=n("k");q.M=n("q");q.wb=n("i");function br(a){a.g||(a.g=Zq(a));return a.g}
function Zq(a){for(var b={},c=0,d;d=a.i[c];c++)for(var e=0,f;f=d.ob[e];e++)if(!f.yb){var g=f.getUrl(),l=ar[f.eb()],k;O(M(),"docs-ofmpp")?k=ic(g,"kit"):k=(new jc(g)).i.get("kit");k||(k=a.e+"\\/([^/.&]+)"+l+"$",k=(k=g.match(k))&&2==k.length?k[1]:null);k||(k="(persistent\\/docs\\/fonts\\/)([^/.]+)("+l+")?$",k=(k=g.match(k))&&4==k.length?k[2]:null);if(!k&&(-1!=g.indexOf("file:///")||-1!=g.indexOf("LOCALFILE:"))){var p=g.split("/");p=p[p.length-1].split(".");2==p.length&&"."+p[1]==l&&(k=p[0])}b[g]=k?k+
(l||""):null;l||a.j.log(Error("Missing font file extension for format "+f.eb()))}return b}q.cb=function(a){return this==a?!0:!!a&&a instanceof Yq&&this.e==a.e};q.S=function(){return $q(this.k,this.q,Qa(this.i,function(a){return a.S()}),this.e,this.B,this.l,this.j)};function Kp(a,b){this.e=a;this.g=b}Kp.prototype.getFontFamily=n("e");Kp.prototype.M=n("g");function Mp(a,b){for(var c=[],d=0;d<a.length;d++)c.push(new Kp(a[d],b));return c}function Lp(a){ab(a,void 0,function(a){return a.getFontFamily()+"|"+a.M()})};function cr(){this.e={};this.g=0}cr.prototype.set=function(a,b,c){a=a+"|"+b;this.e[a]||(this.e[a]={},this.g++);this.e[a]=c};cr.prototype.get=function(a,b){return this.e[a+"|"+b]||null};function dr(a){var b=[],c;for(c in a.e)a=c.split("|"),2==a.length&&b.push(new Kp(a[0],a[1]));return b}cr.prototype.O=function(){var a=[],b;for(b in this.e)a.push(this.e[b]);return a};cr.prototype.W=n("g");function er(a,b){for(var c=0;c<b.length;c++){var d=b[c].getFontFamily();a.set(d,b[c].M(),!0)}};function fr(a){this.e=a}fr.prototype.get=n("e");fr.prototype.getFontFamily=function(){return this.e.getFontFamily()};fr.prototype.M=function(){return this.e.M()};function gr(){this.e=new cr}gr.prototype.get=function(a,b){return(a=this.e.get(a,b))?a.get():null};gr.prototype.add=function(a){a=new fr(a);this.e.set(a.getFontFamily(),a.M(),a)};function hr(a,b,c){this.e=a;this.i=b;this.g=c};function ir(a,b){this.g=a;this.j=b;this.e=new gr}
ir.prototype.i=function(a){var b=a.i,c=Zg().e||"latin"==b.M();if(!this.g.g||!c)return Wi(a);c=[b];"menu"!=b.M()&&O(M(),"docs-evnli")&&(b=b.getFontFamily(),b=this.e.get(b,"menu"),c.push(b));b={};for(var d=Ui(),e=0;e<c.length;e++)for(var f=c[e].wb(),g=br(c[e]),l=0;l<f.length;l++)for(var k=f[l].ob,p=0;p<k.length;p++){var r=k[p];if(!r.yb){var u=g[r.getUrl()];if(!u)return d.errback(new th("Bad url "+r.getUrl())),d;b[u]=new nj(u,r.getUrl(),"")}}a=C(this.k,this,a,d,c);Dn(this.j,b,["fonts"],!1,a);return d};
ir.prototype.k=function(a,b,c,d){if(0<d.pb||0<d.Za||0<d.pb||0<d.Za)V(b,a);else{for(var e=[],f=0;f<c.length;f++)e.push(c[f].S());a=a.e;c=[];for(f=0;f<e.length;f++){for(var g=e[f],l=g.wb(),k=br(g),p=0;p<l.length;p++)for(var r=l[p].ob,u=0;u<r.length;u++){var w=r[u],B=k[w.getUrl()];if(!w.yb&&B){B=d.j[B];if(!B)throw Error("Null local url for font file");r[u]=new Xq(B,!1,w.eb())}}c.push(jr(g))}this.g.ka(c,C(this.q,this,a,b,e),C(b.errback,b,new th("Failed to write updated fontMetadata for "+a.getFontFamily())))}};
ir.prototype.q=function(a,b,c){for(var d=0;d<c.length;d++)this.e.add(c[d]);V(b,new hr(a,c[0],"sync-not-needed"))};function jr(a){for(var b=[],c=a.wb(),d=0;d<c.length;d++){for(var e=c[d],f=[],g=0;g<e.ob.length;g++){var l=e.ob[g];f.push(new Mm(l.eb(),l.yb,l.getUrl()))}b.push(new Nm(e.getFontFamily(),e.M(),e.g,e.i,e.k,f))}return new Km(a.getFontFamily(),a.M(),a.e,a.B,a.l,b,!0)};function kr(a){for(var b=a.sources,c=[],d=0;d<b.length;d++)c.push(new Xq(b[d].url,!!b[d].isLocal,b[d].format));return new Wq(a.fontFamily,a.subsetValue,!!a.menuFont,a.style,a.weight,c)};function lr(a,b){a:{var c=mr;for(var d in c)if(c[d]==a[0]){c=!0;break a}c=!1}if(!c)throw Error("The keyPath should contain a valid type in its first field.");this.e=a;this.i=b}var mr={pf:"syncMap"};function nr(a,b,c){lr.call(this,a,b);if("syncMap"!=a[0])throw Error("SyncMap constructed with wrong type.");this.g=c}E(nr,lr);nr.prototype.get=function(a){return this.g[a]};nr.prototype.set=function(a,b){this.g[a]=b};function or(a,b,c){this.e=a;this.i=b;this.g=c}or.prototype.ka=function(a,b,c){if(this.e.g){for(var d=[],e=0;e<a.length;e++){var f=a[e],g=new zm(!0,f.e,f.i),l=g;a:switch(f.e[0]){case "syncMap":f=f.g;break a;default:throw Error("Unsupported sync object type: "+f.e[0]);}S(l,"data",f);d.push(g)}this.e.ka(d,b,c)}};
or.prototype.j=function(a,b){for(var c=[],d=0;d<b.length;d++){var e=b[d],f=Th(e)[0];switch(f){case "syncMap":c.push(new nr(Th(e),Am(e),e.getData()));break;default:this.g.log(Error("Unsupported sync object type in database: "+f))}}a(c)};function pr(a,b,c){this.e=a;this.g=b;this.i=c};function qr(a){this.g=void 0;this.e={};if(a){var b=Ub(a);a=Tb(a);for(var c=0;c<b.length;c++)this.set(b[c],a[c])}}q=qr.prototype;q.set=function(a,b){rr(this,a,b,!1)};q.add=function(a,b){rr(this,a,b,!0)};function rr(a,b,c,d){for(var e=0;e<b.length;e++){var f=b.charAt(e);a.e[f]||(a.e[f]=new qr);a=a.e[f]}if(d&&void 0!==a.g)throw Error('The collection already contains the key "'+b+'"');a.g=c}
q.get=function(a){a:{for(var b=this,c=0;c<a.length;c++)if(b=b.e[a.charAt(c)],!b){a=void 0;break a}a=b}return a?a.g:void 0};q.O=function(){var a=[];sr(this,a);return a};function sr(a,b){void 0!==a.g&&b.push(a.g);for(var c in a.e)sr(a.e[c],b)}q.la=function(a){var b=[];if(a){for(var c=this,d=0;d<a.length;d++){var e=a.charAt(d);if(!c.e[e])return[];c=c.e[e]}tr(c,a,b)}else tr(this,"",b);return b};function tr(a,b,c){void 0!==a.g&&c.push(b);for(var d in a.e)tr(a.e[d],b+d,c)}q.S=function(){return new qr(this)};
q.W=function(){var a=this.O();return a.W&&"function"==typeof a.W?a.W():wa(a)||A(a)?a.length:sb(a)};q.L=function(){return void 0===this.g&&vb(this.e)};function ur(a){this.j=a;this.g=null;this.i=new qr;this.e=new T;U(this.e,C(this.q,this))}ur.prototype.q=h();ur.prototype.get=function(a){var b=[];a=this.i.la(vr(a));for(var c=0;c<a.length;c++)b.push(this.i.get(a[c]));return b};function wr(a,b){var c=b.e[0];switch(c){case "syncMap":return c=b.e,b=new nr(c,b.g,b.i),a.i.set(vr(c),b),b;default:throw Error("Unknown sync object type: "+c);}}function vr(a){return 0<a.length?a.join("|")+"|":""}
ur.prototype.k=function(a){for(var b=0;b<a.length;b++){var c=a[b];this.i.set(vr(c.e),c)}this.e.e()};var xr=["syncMap","applicationFonts"],yr=["syncMap","domainFonts"],zr=["syncMap","preferences"].concat(["docs-fonts"]);function Ar(a){if("syncMap"!=a.e[0])return[];var b=a.e,c=[];bb(xr,b.slice(0,xr.length))||bb(yr,b.slice(0,yr.length))?c=a.get("value")||[]:bb(zr,b.slice(0,zr.length))&&(c=a.get("hasTransitioned")?a.get("transitionedFamilyList")||[]:a.get("familyList")||[]);return c}var Br=/\/fonts\/([^/]+)$/;function Cr(){var a=M();a=Hg(a,"dffm");return tb(a)};var Dr="Arial;Comic Sans MS;Courier New;Georgia;Impact;Times New Roman;Trebuchet MS;Verdana".split(";");function Vq(){}Vq.prototype.e=gb;function Er(a,b){for(var c={},d=0;d<a.length;d++)c[bh(a[d].e)]=!0;for(d=0;d<b.length;d++)if(c[bh(b[d])])throw Error("A fetch request can not be both successful and unsuccessful.");this.e=a;this.g=b};function Fr(a,b){var c={};this.i=a;this.g=b;this.e=new gr;if(c){a=Gr(c,this.g).e;for(var d in a)for(var e in a[d])this.e.add(a[d][e])}}
function Hr(a,b){for(var c=[],d=[],e=[],f=0;f<b.length;f++){var g=b[f].e;c.push(g);var l=g.getFontFamily(),k=a.e.get(l,g.M());k?e.push(new hr(g,k,"sync-needed")):d.push(l)}b=Ui();d.length?a.i&&(f=["families",d.join(",")],Zg().e&&(f=f.concat("useAllSubsets",!0)),(g=Zg().i)&&(f=f.concat("format",g)),a=ej(jj(kj(hj(gj(a.i,"/font/getmetadata"),2),C(a.j,a,b,c,e)),C(a.k,a,b,d)),bc(f)),ij(a)):V(b,new Er(e,[]));return b}
Fr.prototype.j=function(a,b,c,d){if(d=lj(d)){var e=Gr(d,this.g).e;d={};for(var f=0;f<b.length;f++){var g=b[f];d[bh(g)]=!1;var l=e[g.getFontFamily()];for(p in l){var k=l[p];this.e.add(k);p==g.M()&&c.push(new hr(g,k,"sync-needed"))}}for(f=0;f<c.length;f++)d[bh(c[f].e)]=!0;var p=[];for(f=0;f<b.length;f++)d[bh(b[f])]||p.push(b[f]);V(a,new Er(c,p))}else a.errback(new th("No font response object."))};
Fr.prototype.k=function(a,b,c){a.errback(new th("Error fetching font metadata, http status code:"+c.g+", fonts: "+b.join(",")))};function Ir(a){this.e=a}
function Gr(a,b){var c={};a=a.fontMetadataMap||{};for(var d in a){var e=a[d],f=[];var g=e.fontFaces;for(var l=0;l<g.length;l++)f.push(kr(g[l]));g=f;f={};for(l=0;l<g.length;l++){var k=g[l],p=k.M();null!=f[p]||(f[p]=[]);f[p].push(k)}null!=f.menu&&(g=f.menu[0],null!=f.latin&&f.latin.push(g),null!=f["*"]&&f["*"].push(g),delete f.menu);c[d]={};for(p in f)c[d][p]=$q(d,p,f[p],e.version,!!e.restrictedDomainFont,!!e.hasInkedWhitespace,b)}return new Ir(c)};var Jr="Arial;Comic Sans MS;Courier New;Georgia;Impact;Times New Roman;Trebuchet MS;Verdana".split(";");function Kr(a){this.e={};for(var b=0;b<a.length;b++){var c=a[b];this.e[c.toLowerCase()]=c}};function Lr(a,b){this.g=a;this.e=b}function Mr(a,b,c,d){for(var e=[],f=0;f<b.length;f++)Za(e,Ar(b[f]));ab(e);e.length?(b=eh(e),a=qi(a.g,ih(b,a.e)),Mi(a,c),d&&Ni(a,function(a){return d(a.ba())})):c()};function Nr(a){this.e={};if(a)for(var b=0;b<a.length;b++)this.e[Or(a[b])]=null}var Pr={};function Or(a){return a in Pr||32==String(a).charCodeAt(0)?" "+a:a}function Qr(a){return 32==a.charCodeAt(0)?a.substr(1):a}q=Nr.prototype;q.add=function(a){this.e[Or(a)]=null};q.S=function(){var a=new Nr,b;for(b in this.e)a.e[b]=null;return a};q.cb=function(a){return Rr(this,a)&&Rr(a,this)};q.forEach=function(a,b){for(var c in this.e)a.call(b,Qr(c),void 0,this)};
q.W=Object.keys?function(){return Object.keys(this.e).length}:function(){var a=0,b;for(b in this.e)a++;return a};q.O=Object.keys?function(){return Object.keys(this.e).map(Qr,this)}:function(){var a=[],b;for(b in this.e)a.push(Qr(b));return a};q.L=function(){for(var a in this.e)return!1;return!0};function Rr(a,b){for(var c in a.e)if(!(c in b.e))return!1;return!0}q.Kb=function(){return pb(this.O())};function Sr(a,b){this.e=a;this.g=b}function Np(a,b,c){b=C(a.i,a,b,c);Tr(a.e.e.lc(),b,function(a){return c(a.ba())})}Sr.prototype.i=function(a,b,c){Ur(this,a,b,Qa(c,function(a){return a.get()}))};function Ur(a,b,c,d){for(var e=0;e<d.length;e++)Lh(d[e]);a.e.ka(d,b,function(a){return c(a.ba())})};var Y="Amatic SC;Caveat;Comfortaa;EB Garamond;Lobster;Lora;Merriweather;Montserrat;Nunito;Oswald;Pacifico;Playfair Display;Roboto;Roboto Mono;Spectral".split(";"),Vr="Baloo;Eczar;Hind;Kalam;Khand;Martel;Modak;Poppins;Tillana;Yantramanav;Yatra One".split(";"),Wr="Alef;Amatic SC;Assistant;David Libre;Frank Ruhl Libre;Miriam Libre;Rubik;Suez One;Varela Round".split(";"),Xr={af:Y,ar:"Amiri;Aref Ruqaa;Cairo;Changa;El Messiri;Harmattan;Lemonada;Mada;Scheherazade".split(";"),az:Y,bg:Y,ca:Y,cs:Y,da:Y,de:Y,
el:"Crimson Text;Fira Mono;Fira Sans;Fira Sans Condensed;Fira Sans Extra Condensed;GFS Didot;Ubuntu;Ubuntu Condensed;Ubuntu Mono".split(";"),en:Y,es:Y,et:Y,fa:["Jomhuria","Katibeh","Lalezar","Mirza"],fi:Y,fil:Y,fr:Y,he:Wr,hi:Vr,hr:Y,hu:Y,id:Y,"in":Y,is:Y,it:Y,iw:Wr,kk:Y,lt:Y,lv:Y,mn:Y,mr:Vr,ms:Y,nb:Y,ne:Vr,nl:Y,no:Y,pl:Y,pt:Y,ro:Y,ru:Y,sk:Y,sl:Y,sr:Y,sv:Y,sw:Y,th:"Athiti Chonburi Itim Kanit Maitree Mitr Pattaya Pridi Prompt Sriracha Taviraj Trirong".split(" "),tr:Y,uk:Y,vi:Y};
function Yr(a){a=(a=a.match(/^\w{2,3}([-_]|$)/))?a[0].replace(/[_-]/g,""):"";return Xr[a]||[]};function Zr(){G.call(this)}E(Zr,G);Zr.prototype.Qb=function(a,b){var c=[],d=new T,e=new T;Bi(d,e);U(d,Ea(b,c));$r(this,a,"file",function(b){if(b)for(var e=0;e<b.length;e++)c.push(new as(b[e],a));d.e()});$r(this,a,"directory",C(function(b){if(b&&b.length)for(var d=b.length,f=0;f<b.length;f++)this.Qb(a.concat(b[f]),function(a){d--;Za(c,a);0==d&&e.e()});else e.e()},this))};function as(a,b){this.e=a;this.g=b};function bs(a,b,c,d,e,f,g,l,k,p,r){this.n=a;this.H=b;this.i=c;this.o=d;this.B=e;this.j=f;this.e=g;this.l=l;this.q=k;this.g=p;this.k=r}q=bs.prototype;q.bd=function(a,b,c,d){var e=this;cs(this).then(function(f){ds(e,a,f,b,c,d)},function(a){a instanceof th?d(ed(a.ba())):d(ed(a))})};function ds(a,b,c,d,e,f){var g=new cr;er(g,b);er(g,c);b=eb(a.e,function(b){return Mp(a.j,b)});er(g,b);a.g&&es(a,g);d=C(a.ue,a,e,f,g,d);$r(a.l,["fonts"],"file",d)}
function cs(a){switch(a.k){case "locale":return fs(a);case "coreLocale":return fs(a);case "core":return Ze(eb(a.e,function(a){return Mp(Y,a)}));default:return Ze([])}}function fs(a){return Ii(Jm(a.H)).then(function(b){var c=(b=Qh(b,"locale"))?Yr(b):[];return eb(a.e,function(a){return Mp(c,a)})})}function es(a,b){var c=gs(a,xr);er(b,c);c=gs(a,yr);er(b,c);a=gs(a,zr);er(b,a)}
function gs(a,b){b=a.g.get(b);for(var c=[],d=0;d<b.length;d++)Za(c,Ar(b[d]));ab(c);return eb(a.e,function(a){return Mp(c,a)})}q.ue=function(a,b,c,d,e){e=e||[];Tr(this.n,C(this.ge,this,a,b,c,d,e),function(a){return b(a.ba())})};
q.ge=function(a,b,c,d,e,f){f=hs(f);if(d)for(var g=dr(f),l=g.length-1;0<=l&&!(60<=c.W());l--){var k=g[l].getFontFamily(),p=g[l].M();c.get(k,p)||c.set(k,p,!0)}else er(c,dr(f));g=dr(c);l=[];for(var r=0;r<g.length;r++)k=g[r].getFontFamily(),p=g[r].M(),l.push(new Pq(new ah(k,p)));pi(Hr(this.o,l),C(this.ve,this,a,b,c,d,e,f),function(a){b(Zi(a))})};
q.ve=function(a,b,c,d,e,f,g){g=g.e;for(var l=new cr,k=0;k<g.length;k++){var p=g[k].i,r=g[k].e;l.set(r.getFontFamily(),r.M(),p)}r=new Nr(e);p=[];k=[];g=new cr;for(var u=dr(f),w=0;w<u.length;w++){var B=u[w],z=B.getFontFamily();B=B.M();var y=f.get(z,B);if(d&&!c.get(z,B))p.push(y),y=f,z=z+"|"+B,y.e[z]&&(delete y.e[z],y.g--);else{for(var N=this.q,oa=y.getFontFamily(),ha=y.wb(),Ra=[],sa=0;sa<ha.length;sa++){for(var xa=ha[sa],pc=[],mb=0;mb<xa.e.length;mb++){var ke=xa.e[mb];pc.push(new Xq(ke.getUrl(),ke.i,
ke.eb()))}Ra.push(new Wq(xa.getFontFamily(),xa.M()||"latin",xa.i,xa.j,xa.q,pc))}y=$q(oa,y.M()||"latin",Ra,y.e.version,""!=y.e.domainFont,""!=y.e.inkedSpace,N);g.set(z,B,y);y=br(y);for(var db in y)if(y=db.match(Br),!(Or(y?y[1]:null)in r.e)){z=dh(z);k.push(new fh(z.e,B,z.g));break}}}d=new T;Ur(this.i,C(d.e,d),C(d.errback,d),p);c=l.O();for(f=0;f<c.length;f++)db=c[f],p=db.getFontFamily(),l=db.M(),r=g.get(p,l),r&&r.cb(db)||(db=dh(p),k.push(new fh(db.e,l,db.g)));k=qi(this.B,k);f=[];f.push(Hi(k),d);k=kk(f);
d=new cr;for(f=0;f<c.length;f++)l=c[f].getFontFamily(),d.set(l,c[f].M(),c[f]);g=g.O();for(c=0;c<g.length;c++)f=g[c].getFontFamily(),d.set(f,g[c].M(),g[c]);zi(k,C(this.$d,this,a,b,d,e),b)};q.$d=function(a,b,c,d){var e=this.i;if(d){var f=[];c=c.O();for(var g=0;g<c.length;g++){var l=br(c[g]),k;for(k in l)f.push(l[k])}d=new Nr(d);for(k=0;k<f.length;k++)delete d.e[Or(f[k])];f=d.O();d=[];for(k=0;k<f.length;k++)c=new T,wp(e.g,["fonts"],f[k],C(c.e,c),C(c.errback,c)),d.push(c);zi(kk(d),a,b)}else b(Error("No filesystem font files provided."))};
function hs(a){for(var b=new cr,c=0;c<a.length;c++){var d=a[c].get(),e=d.getFontFamily();b.set(e,d.M()||"latin",d)}return b};function is(a,b){this.e=a;this.g=b};function js(a,b,c,d,e){G.call(this);this.e=a;this.g=b;this.l=d;this.n=e;this.j={};this.i=c;this.k=sb(this.g)}E(js,G);q=js.prototype;q.Md=0;q.pb=0;q.ic=0;q.ad=0;q.Za=0;q.Ze=function(a){if(a){for(var b=[],c=0;c<a.length;c++){var d=a[c];this.g[d.e]||b.push(d)}if(b.length)for(this.ic+=b.length,a=0;a<b.length;a++)c=b[a],wp(this.e,c.g,c.e,C(this.Yd,this),C(this.Xd,this))}ks(this)};
function ks(a){if(0==a.k)ls(a);else{var b=O(M(),"docs-localstore-sefr"),c;for(c in a.g){var d=a.g[c];if(d.g)if(b&&d.j){var e=a.e,f=a.i.concat(d.e),g=c;d=C(a.te,a,c,d);d=new ms(C(e.xe,e,g,f,d));e.e.getFileUrl(zn(f),f,g,d)}else ns(a,c,d);else a.Ec(c,null)}}}q.te=function(a,b,c){c?this.Ec(a,c):ns(this,a,b)};function ns(a,b,c){var d=a.e,e=a.i.concat(c.e);c=c.g;var f=C(a.Ec,a,b),g=C(a.Zd,a);a=new os(f);f=C(d.fe,d,b,e,c,f,g);f=new yp(C(d.tb,d,f));d.e.addFile(zn(e),e,b,c,a,f)}
q.Ec=function(a,b){this.j[a]=b;this.Md++;ls(this)};q.Zd=function(){this.pb++;ls(this)};q.Yd=function(){this.ad++;ls(this)};q.Xd=function(){this.Za++;ls(this)};function ls(a){var b=a.ad+a.Za;a.k==a.Md+a.pb&&a.ic==b&&a.n(a)}q.z=function(){js.F.z.call(this);delete this.e;delete this.g};function ps(a){this.e=a}function qp(a,b,c){var d={};d[b.i]=b;Dn(a,d,["templates"],!1,c)}function Dn(a,b,c,d,e){a=new js(a.e,b,c,d,e);a.l?a.e.Qb(a.i,C(a.Ze,a)):ks(a)};function Rm(a){return JSON.parse(a)};function qs(a){this.type=a};function rs(a,b,c){this.type=9;this.documentId=a;this.nativeCommandBatches=b;this.isStaged=!1;this.shouldReplace=c}E(rs,qs);function ss(a,b,c){this.type=12;this.templateId=a;this.nativeCommandBatches=b;this.shouldReplace=c}E(ss,qs);function ts(a,b,c,d,e){this.partId=a;this.revision=b;this.chunkIndex=c;this.timestamp=d;this.serializedCommands=e};function us(a){switch(a.e){case "append-commands":var b=a.i;b=vs(b);return new rs(a.k,b,a.j);case "append-template-commands":return b=a.i,b=vs(b),new ss(a.k,b,a.j);default:throw Error("Operation type "+a.e+" not supported.");}}function vs(a){for(var b=[],c=0;c<a.length;c++){var d=a[c],e=null;null==e&&(e=-1);for(var f=[],g=d.na(),l=0;l<g.length;l++)f.push(ik(g[l]));b.push(new ts(String(d.j),d.Q(),d.e,e,JSON.stringify(f)))}return b};function yp(a){this.e=a}yp.prototype.callback=function(a,b){this.e(a,b)};function ws(a){switch(a){case 1:return 2;default:return 1}};function xs(a,b){Dh.call(this,a,b)}t(xs,Dh);xs.prototype.z=function(){Dh.prototype.z.call(this)};function ys(){}function zs(a,b){for(var c=Ya(b);255<a.length;){c.length==b.length&&(a="+"+a);var d=255;265>a.length&&(d=a.length-10);var e=a.substring(0,d);a=a.substring(d);c.push(e)}return new As(a,c)}function Bs(a){var b=a.g,c;a:{for(c=0;c<b.length;c++)if(0==b[c].indexOf("+"))break a;c=-1}if(-1==c)return a;for(var d="",e=c;e<b.length;e++){var f=b[e];e==c&&(f=f.substring(1));d+=f}d+=a.e;return new as(d,$a(b,0,c))}function As(a,b){this.Ja=a;this.e=b};function os(a){this.e=a}os.prototype.callback=function(a,b){this.e(b)};function ms(a){this.e=a}ms.prototype.callback=function(a){this.e(a)};function xp(a){this.e=a||null}xp.prototype.callback=function(){this.e&&this.e()};function Cs(a){this.e=a}Cs.prototype.callback=function(a){this.e(a)};function Ds(a){G.call(this);this.e=a}E(Ds,Zr);function $r(a,b,c,d){a:switch(c){case "all":c=0;break a;case "directory":c=1;break a;case "file":c=2;break a;default:throw Error("Unexpected content type: "+c);}a.e.getDirectoryContents(zn(b),b,c,new Cs(d))}q=Ds.prototype;q.fe=function(a,b,c,d,e,f){var g=zs(a,b);g.Ja==a?e(f):(a=new os(d),e=new yp(C(this.tb,this,e)),this.e.addFile(zn(b),g.e,g.Ja,c,a,e))};q.xe=function(a,b,c,d){var e=zs(a,b);d||a==e.Ja?c(d):this.e.getFileUrl(zn(b),e.e,e.Ja,new ms(c))};
function wp(a,b,c,d,e){e=C(a.Fe,a,c,b,d,e);d=new xp(e);e=new yp(C(a.tb,a,e));a.e.removeFile(zn(b),b,c,d,e)}q.Fe=function(a,b,c,d,e){var f=zs(a,b);a==f.Ja?e?d(e):c():(c=C(this.Ge,this,c,d,e),a=new xp(c),c=new yp(C(this.tb,this,c)),this.e.removeFile(zn(b),f.e,f.Ja,a,c))};q.Ge=function(a,b,c,d){c&&d?b(c):a()};q.Qb=function(a,b){b=C(this.we,this,b);Ds.F.Qb.call(this,a,b)};q.we=function(a,b){for(var c=[],d=0;d<b.length;d++)c.push(Bs(b[d]));a(c)};
q.tb=function(a,b,c){a(Error("FileStorageAdapter error:"+b+", "+c))};function Es(a,b){this.type=a;this.recordKey=b}E(Es,qs);function Fs(a){Es.call(this,1,a)}E(Fs,Es);function Gs(a){this.e=a}Gs.prototype.callback=function(a){this.e(a)};function Hs(a){this.recordType=a};function Is(a){this.recordType=1;this.docId=a}E(Is,Hs);function Js(){this.e={}}Js.prototype.setStringProperty=function(a,b){this.e[a]=b};Js.prototype.setNumberProperty=function(a,b){this.e[a]=b};Js.prototype.setSerializedObjectProperty=function(a,b){this.e[a]=b};Js.prototype.setNullProperty=function(a){this.e[a]=null};function X(a,b){a=Ks(a,b);return A(a)?a:null}function Ls(a,b){a=Ks(a,b);return pa(a)?a:null}function Ks(a,b){a=a.e[b];return null!=a?a:null};function Ms(a){this.g=new Is(a);this.e={}}E(Ms,Js);function Ns(a,b){this.propertyType=a;this.propertyName=b};function Os(a){Ns.call(this,3,a)}E(Os,Ns);function Ps(a,b){Ns.call(this,0,a);this.numberValue=b}E(Ps,Ns);function Qs(a,b){Ns.call(this,2,a);this.serializedObjectValue=b}E(Qs,Ns);function Rs(a,b){Ns.call(this,1,a);this.stringValue=b}E(Rs,Ns);function Ss(a){var b=[],c;for(c in a){if(!c)throw Error("Invalid localStore modifications. Property cannot be null.");var d=a[c];if(pa(d))b.push(new Ps(c,d));else if(A(d))b.push(new Rs(c,d));else if("boolean"==typeof d)b.push(new Rs(c,d?"true":""));else if(za(d))b.push(new Qs(c,JSON.stringify(d)));else if(null===d)b.push(new Os(c));else throw Error("Invalid localStore modifications.");}return b};function Ts(a,b,c,d){Es.call(this,d||0,a);this.isNew=c;this.modifications=b;b=this.e();switch(a.recordType){case 1:if("document"!=b)throw Error("Must use DOCUMENT subtype for updating DOCUMENT records");break;case 0:if("application-metadata"!=b)throw Error("Must use APPLICATION_METADATA subtype for updating APPLICATION_METADATA records");}}E(Ts,Es);function Us(a,b,c){Ts.call(this,new Is(a),Ss(b),c);this.hasLastModifiedServerTimestampModification=!1;this.lastModifiedServerTimestampModification=-1;this.hasJobsetModification=!1;this.jobsetModification=null;this.hasFontFamiliesModification=this.isNotCreatedModification=this.hasIsNotCreatedModification=this.isFastTrackModification=this.hasIsFastTrackModification=!1;this.fontFamiliesModification=null;this.hasSnapshotStateModification=!1;this.snapshotStateModification=-1;this.hasSnapshotProtocolNumberModification=
!1;this.snapshotProtocolNumberModification=-1;this.isModelResyncRequiredModification=this.hasIsModelResyncRequiredModification=!1;"lastModifiedServerTimestamp"in b&&(this.hasLastModifiedServerTimestampModification=!0,this.lastModifiedServerTimestampModification=b.lastModifiedServerTimestamp);"jobset"in b&&(this.hasJobsetModification=!0,this.jobsetModification=b.jobset);"isFastTrack"in b&&(this.hasIsFastTrackModification=!0,this.isFastTrackModification=!!b.isFastTrack);"inc"in b&&(this.hasIsNotCreatedModification=
!0,this.isNotCreatedModification=!!b.inc);"modelNeedsResync"in b&&(this.hasIsModelResyncRequiredModification=!0,this.isModelResyncRequiredModification=!!b.modelNeedsResync);if("startupHints"in b&&(a=b.startupHints.fontFamilies)){this.hasFontFamiliesModification=!0;try{this.fontFamiliesModification=Rm(a)}catch(d){this.hasFontFamiliesModification=!1}}"snapshotState"in b&&(this.hasSnapshotStateModification=!0,this.snapshotStateModification=b.snapshotState);"snapshotProtocolNumber"in b&&(this.hasSnapshotProtocolNumberModification=
!0,b=b.snapshotProtocolNumber,this.snapshotProtocolNumberModification=null===b?-1:b)}E(Us,Ts);Us.prototype.e=aa("document");function Vs(a,b){Vl.call(this,b);this.n=a}t(Vs,Vl);
function cp(a,b,c,d){a.n.readDocument(b,!1,new Gs(function(b){if(b){var d=new Xh(b.g.docId,X(b,"documentType"),!1);S(d,"title",X(b,"title"));S(d,"lastSyncedTimestamp",Ls(b,"lastSyncedTimestamp"));S(d,"jobset",X(b,"jobset"));R(d,"isFastTrack",!!X(b,"isFastTrack"));var e=X(b,"acl");if(null!=e){e=Rm(e);for(var l in e)Uh(d,"acl",l,e[l])}if(l=X(b,"startupHints")){l=Rm(l);for(var k in l)di(d,k,l[k])}(k=Ls(b,"lastModifiedServerTimestamp"))&&ai(d,k);(k=Ls(b,"lastColdStartedTimestamp"))&&S(d,"lastColdStartedTimestamp",
k);(k=Ls(b,"lastWarmStartedTimestamp"))&&S(d,"lastWarmStartedTimestamp",k);(k=X(b,"docosKeyData"))&&bi(d,Rm(k));k=X(b,"inc");null!=k&&R(d,"inc",!!k);k=Ls(b,"lastModifiedClientTimestamp");null!=k&&ci(d,k);k=X(b,"ic");null!=k&&(k=Rm(k),null!=k&&S(d,"ic",k));k=X(b,"hpmdo");null!=k&&R(d,"hpmdo",!!k);k=X(b,"ips");null!=k&&R(d,"ips",!!k);k=X(b,"fact");null!=k&&S(d,"fact",k);k=X(b,"modelNeedsResync");null!=k&&ei(d,!!k);k=X(b,"ind");null!=k&&R(d,"ind",!!k);k=X(b,"isd");null!=k&&R(d,"isd",!!k);k=Ls(b,"modelVersion");
null!=k&&fi(d,k);k=Ls(b,"featureVersion");null!=k&&gi(d,k);k=Ls(b,"rev");null!==k&&(l=(l=X(b,"rai"))?Wh(Rm(l)):null,$h(d,k,l));k=X(b,"pendingCreation");null!=k&&R(d,"pendingCreation",!!k);k=Ls(b,"lastServerSnapshotTimestamp");null!=k&&hi(d,k);k=Ls(b,"snapshotState");null===k||ii(d,k);k=Ls(b,"pendingQueueState");null===k||ki(d,k);b=X(b,"odocid");null!==b&&S(d,"odocid",b);d.q=!1;if(!a.k[Zh(d)])throw Error("No document adapter found for type: "+Zh(d));c(d)}else c(null)}),d?new yp(function(a,b){d(new zh(ws(a),
b))}):null)}Vs.prototype.j=function(a){switch(a.e){case "update-record":return new Us(Rl(a),a.g,a.i);case "delete-record":return new Fs(new Is(Rl(a)));case "append-commands":if(!this.k[a.g])throw Error("No document adapter found for type:"+a.g);return us(a);default:throw Error("Operation type "+a.e+" not supported.");}};function Ws(a){this.recordType=0;this.documentType=a}E(Ws,Hs);function Xs(){this.e={}}E(Xs,Js);Xs.prototype.setSerializedInitialCommands=h();function Ip(a){this.e=a}Ip.prototype.callback=function(a){this.e(a)};function Ys(a,b,c,d){Ts.call(this,new Ws(a),Ss(b),d);this.serializedInitialCommands=c;this.hasJobsetModification=!1;this.jobsetModification=null;"jobset"in b&&(this.hasJobsetModification=!0,this.jobsetModification=b.jobset)}E(Ys,Ts);Ys.prototype.e=aa("application-metadata");function Zs(a,b){Zl.call(this,a);this.k=b}t(Zs,Zl);function Jp(a){return a?new yp(function(b,c){a(new zh(ws(b),c))}):null}
Zs.prototype.j=function(a){var b=a.e;if("update-application-metadata"==b){b=null;if(null!=a.j){b=Rl(a);if(!this.n[b])throw Error("No adapter found for this type: "+b);b=[];if(a.j)var c=a.j;else throw Error("No new initial commands are available.");for(var d=0;d<c.length;d++)b.push(ik(c[d]))}c=null;b&&(c=JSON.stringify(b));return new Ys(Rl(a),a.g,c,a.i)}throw Error("Operation type "+b+" not supported.");};function $s(a,b,c){this.recordType=3;this.entityId=a;this.entityType=b;this.docId=c}E($s,Hs);function at(){this.e={}}E(at,Js);function bt(a,b,c){Ts.call(this,a,b,c)}E(bt,Ts);bt.prototype.e=aa("simple");function ct(){G.call(this)}t(ct,am);ct.prototype.j=function(a){switch(a.e){case "update-record":var b=Rl(a);return new bt(new $s(b[2],b[1],b[0]),Ss(a.g),a.i);case "delete-record":return a=Rl(a),new Fs(new $s(a[2],a[1],a[0]));default:throw Error("Operation type "+a.e+" not supported.");}};function dt(a){this.e=a}dt.prototype.callback=function(a){this.e(a)};function et(a,b){this.type=11;this.documentId=a;this.lockLevel=b}E(et,qs);function ft(a,b){G.call(this);this.o=a;this.n=b;this.k=new P;H(this,this.k)}t(ft,bm);function So(a,b,c,d){a.o.acquireLock(a.n,b,new dt(function(a){if(0==a)c(1);else if(1==a)c(2);else throw Error("Lock acquisition result unsupported: "+a);}),new yp(function(a,b){d(new zh(ws(a),b))}))}
ft.prototype.j=function(a){var b=a.e;if("document-lock"==b){b=a.g;a=a.i;if(1==a)a=0;else if(2==a)a=1;else throw Error("Document lock requirement level "+a+" not supported by the native document lock capability.");return new et(b,a)}throw Error("Operation type "+b+" not supported by the document lock capability.");};function gt(a){G.call(this);this.j=a}t(gt,fm);function Yo(a,b,c,d){a.j.removeNonSnapshottedDocumentIds(b,new xp(c),d?new yp(function(a,b){d(new zh(ws(a),b))}):null)};function ht(a){this.e=a}ht.prototype.callback=function(a){this.e(a)};function it(a,b){this.recordType=6;this.docId=a;this.placeholderId=b}E(it,Hs);function jt(a,b){this.g=new it(a,b);this.e={}}E(jt,Js);function kt(a){a=new gm(a.g.docId,a.g.placeholderId,X(a,"u"),X(a,"ou"),X(a,"f"),X(a,"c"),X(a,"s"),X(a,"oc"),!1);a.q=!1;return a};function lt(a){G.call(this);this.k=a}t(lt,jm);function no(a,b,c,d){a.k.readAllBlobMetadataForDocument(b,new ht(function(a){for(var b=[],d=0;d<a.length;d++)b.push(kt(a[d]));c(b)}),d?new yp(function(a,b){d(new zh(ws(a),b))}):null)}function Zo(a,b,c,d){a.k.clearBlobMetadataForDocument(b,new xp(c),d?new yp(function(a,b){d(new zh(ws(a),b))}):null)}
lt.prototype.j=function(a){switch(a.e){case "update-record":var b=Rl(a);return new bt(new it(b[0],b[1]),Ss(a.g),a.i);case "delete-record":return a=Rl(a),new Fs(new it(a[0],a[1]));default:throw Error("Operation type "+a.e+" not supported.");}};function mt(a){this.recordType=2;this.docId=a}E(mt,Hs);function nt(a,b,c){Ts.call(this,new mt(a),c,b,2)}E(nt,Ts);nt.prototype.e=aa("pending-queue");function ot(a,b,c,d){Ts.call(this,new mt(a),d,b,4);this.hasCommandsAfterFirstSentBundle=c}E(ot,Ts);ot.prototype.e=aa("pending-queue");function pt(a,b,c){Ts.call(this,new mt(a),c,b,3)}E(pt,Ts);pt.prototype.e=aa("pending-queue");function qt(a,b,c,d){this.docId=a;this.sessionId=b;this.requestId=c;this.lastEntryIndex=d};function rt(a,b){this.type=5;this.documentId=a;this.lastCommandsIndex=b}E(rt,qs);function st(a,b,c,d,e){Ts.call(this,new mt(a),c,b,6);this.bundleMetadataArray=d;this.shouldReplaceOldBundles=e}E(st,Ts);st.prototype.e=aa("pending-queue");function tt(){this.g=this.i=null;this.e={}}E(tt,Js);tt.prototype.setCommandBundleMetadataArray=m("i");tt.prototype.setCommandBatchArray=m("g");function ut(a,b,c){this.type=7;this.documentId=a;this.serializedCommands=b;this.commandsIndex=c}E(ut,qs);function vt(a){this.e=a}vt.prototype.callback=function(a){this.e(a)};function wt(a,b,c){rm.call(this,b,c);this.q=a}t(wt,rm);
function Zm(a,b,c,d){a.q.readPendingQueue(b,new vt(function(b){if(b){var d=b.i,e=b.g;if(!d||!e)throw Error("Command bundle or command batch should not be null");var l=0,k=[],p=[],r=[],u=-1,w=X(b,"documentType"),B=sm(a,w),z=X(b,"unsentBundleMetadata");if(null===z)z=[];else{var y=null;try{y=Rm(z)}catch(xa){Kl(a.g,Error("Unable to parse unsent bundle metadata!"),{unsentBundleMetadata:z})}z=wm(y)}y=!0;for(var N=0;N<e.length;N++){u=e[N];var oa=null;try{oa=Rm(u.serializedCommands)}catch(xa){Kl(a.g,Error("Unable to parse serialized commands!"),
{serializedCommands:u.serializedCommands})}var ha=k,Ra=B.e,sa=oa;oa=D();sa=Mg(sa);oa=D()-oa;Ra.e.j("md",oa);Za(ha,sa);u=u.commandsIndex;l<d.length?(ha=d[l],ha.lastEntryIndex==u&&(p.push(new il(k,ha.requestId,ha.sessionId)),k=[],l++)):l<z.length+d.length&&(ha=z[l-d.length],ha.lastEntryIndex==u&&(y=!1,r.push(new il(k,ha.requestId,ha.sessionId)),k=[],l++))}y&&(z=[]);k.length&&(d=Rg(),r.push(new il(k,0,d)),z.push(new um(0,d,u)));k=new jl(X(b,"docId"),w,!1,u,p,r);p=Ls(b,"accessLevel");null!==p&&S(k,"accessLevel",
p);p=(p=X(b,"revisionAccessInfo"))?Wh(Rm(p)):null;Hk(k,Ls(b,"revision"),p);p=X(b,"selection");null===p||ol(k,Rm(p));ml(k,!!X(b,"undeliverable"));Ik(k,!!X(b,"unsavedChanges"));p=Ls(b,"sentBundlesSavedRevision");null===p||nl(k,p);b=Ls(b,"snapshotBundleIndex");x(b)&&Fk(k,b);k.q=!1;pl(k,vm(z));c(k)}else c(null)}),d?new yp(function(a,b){d(new zh(ws(a),b))}):null)}
wt.prototype.j=function(a){switch(a.e){case "update-record":return new bt(new mt(Rl(a)),Ss(a.g),a.i);case "pq-clear":return new nt(Rl(a),a.i,Ss(a.g));case "pq-clear-sent":return new pt(Rl(a),a.i,Ss(a.g));case "pq-clear-sent-bundle":return new ot(Rl(a),a.i,a.j,Ss(a.g));case "pq-mark-sent":for(var b=a.j,c=[],d=Rl(a),e=0;e<b.length;e++){var f=b[e];c.push(new qt(d,f.sessionId,f.requestId,f.lastEntryIndex))}return new st(d,a.i,Ss(a.g),c,a.l);case "pq-delete-commands":return new rt(a.g,a.i);case "pq-write-commands":return new ut(a.j,
JSON.stringify(a.na()),a.g);default:throw Error("Operation type "+a.e+" not supported.");}};function xt(a){this.recordType=5;this.keyPath=a}E(xt,Hs);function yt(){this.e={}}E(yt,Js);function zt(a){var b=Rm(X(a,"keyPath")),c=Rm(X(a,"state"));a=Rm(X(a,"data"));b=new zm(!1,b,c);b.q=!1;S(b,"data",a);return b};function At(a){this.e=a}At.prototype.callback=function(a){this.e(a)};function Bt(a){G.call(this);this.k=a}t(Bt,Bm);function Ct(a,b,c){a.k.getAllSyncObjects(new At(function(a){for(var c=[],d=0;d<a.length;d++)c.push(zt(a[d]));b(c)}),c?new yp(function(a,b){c(new zh(ws(a),b))}):null)}Bt.prototype.j=function(a){switch(a.e){case "update-record":return new bt(new xt(JSON.stringify(Rl(a))),Ss(a.g),a.i);case "delete-record":return new Fs(new xt(JSON.stringify(Rl(a))));default:throw Error("Operation type "+a.e+" not supported.");}};function Dt(a){this.recordType=8;this.templateId=a[0]}E(Dt,Hs);function Et(){this.e={}}E(Et,Js);function Ft(a){this.recordType=7;this.templateId=a[0]}E(Ft,Hs);function Gt(){this.e={}}E(Gt,Js);function Ht(){G.call(this)}t(Ht,Dm);Ht.prototype.z=function(){Dm.prototype.z.call(this)};function It(a){this.e=a}It.prototype.callback=function(a){this.e(a)};function Jt(a){this.e=a}Jt.prototype.callback=function(a){this.e(a)};function Kt(a,b){Fm.call(this,b);this.k=a}t(Kt,Fm);function ip(a,b,c,d){a.k.readAllTemplateMetadata(b,new It(function(a){for(var b={},d=0;d<a.length;d++){var e=Lt(a[d]);b[e.e.id]=e}c(b)}),new yp(function(a,b){return Mt(d||null,a,b)}))}function Sp(a,b,c,d){a.k.readTemplateMetadata(b,new Jt(function(a){c(a?Lt(a):null)}),new yp(function(a,b){return Mt(d||null,a,b)}))}function zp(a,b,c,d){a.k.deleteTemplate(b,new xp(c),new yp(function(a,b){return Mt(d||null,a,b)}))}
Kt.prototype.j=function(a){switch(a.e){case "update-record":return new bt(Nt(a),Ss(a.g),a.i);case "delete-record":return new Fs(Nt(a));case "append-template-commands":if(!Gm(this,a.g))throw Error("No template adapter found for type: "+a.g);return us(a);default:throw Error("Operation type "+a.e+" not supported.");}};
function Lt(a){var b=X(a,"id"),c=X(a,"title"),d=Ls(a,"style"),e=Ls(a,"category"),f=X(a,"locale"),g=X(a,"creator"),l=X(a,"thumbnailUrl"),k=X(a,"documentType"),p=Ls(a,"lastModifiedTimestamp");var r=Rm(X(a,"fontFamilies"));a=new Em(b,c,d,e,f,g,l,k,p,r,X(a,"brandedAuthor"),X(a,"brandedUrl"),Ls(a,"masterTemplate"),!!X(a,"isThumbnailReady"),!!X(a,"isReady"),!!X(a,"isDirty"),!1);a.q=!1;return a}function Mt(a,b,c){b=new zh(ws(b),c);if(a)a(b);else throw Error(Ah(b));}
function Nt(a){var b=a.q;if("templateMetadata"==b)return new Ft(Rl(a));if("templateCreationMetadata"==b)return new Dt(Rl(a));throw Error("Unsupported record type "+b);};function Ot(a,b){G.call(this);this.j=a;this.k=b}t(Ot,Im);function fk(a,b){var c=new Hm("mobileUser",!1);R(c,"fastTrack",a.j);S(c,"locale",a.k);b([c])}Ot.prototype.g=function(){return[]};function Pt(a){this.e=a}Pt.prototype.callback=function(a){this.e(a)};function Qt(a){this.recordType=4;this.fontFamily=a}E(Qt,Hs);function Rt(){this.e={}}E(Rt,Js);function St(a){Qm.call(this,X(a,"fontFamily"));this.g=a}t(St,Qm);function Tt(a){G.call(this);this.k=a}t(Tt,Sm);function Tr(a,b,c){a.k.readAllFontMetadata(new Pt(function(a){for(var c=D(),d=[],g=0;g<a.length;g++)d.push(new St(a[g]));b(d,c,D()-c)}),c?new yp(function(a,b){c(new zh(ws(a),b))}):null)}Tt.prototype.j=function(a){switch(a.e){case "update-record":return new bt(new Qt(Rl(a)),Ss(a.g),a.i);case "delete-record":return new Fs(new Qt(Rl(a)));default:throw Error("Operation type "+a.e+" not supported.");}};function Wt(a,b,c,d,e,f,g,l,k,p,r,u,w,B,z,y,N){xm.call(this);this.g=new wt(e,a,N);ym(this,this.g);this.e=new Vs(c,a);ym(this,this.e);this.v=new ft(f,g);this.k=new Ot(z,y);ym(this,this.k);this.A=null;d&&(this.A=new lt(d),ym(this,this.A));this.i=null;l&&(this.i=new Zs(a,l),ym(this,this.i));this.w=null;k&&(this.w=new ct(k),ym(this,this.w));this.C=null;p&&(this.C=new gt(p),ym(this,this.C));this.j=null;r&&(this.j=new Bt(r),ym(this,this.j));this.l=null;u&&(this.l=new Tt(u),ym(this,this.l));this.o=null;
B&&w&&(this.o=new Kt(B,w),ym(this,this.o));this.D=b}t(Wt,xm);q=Wt.prototype;q.kc=n("A");q.$a=n("i");q.dd=n("C");q.Nb=n("j");q.lc=n("l");q.ab=n("o");function Wm(a,b,c,d){for(var e=[],f=0;f<b.length;f++){var g=b[f];(g=Xt(a,g).j(g))&&e.push(g)}a.D.executeOperations(e,new xp(c),d?new yp(function(a,b){d(new zh(ws(a),b))}):null)}
function Xt(a,b){var c=b.e;if("update-record"==c||"delete-record"==c){b=b.q;a=a.n[b]||null;if(!a)throw Error("No capability registered for record type "+b);return a}b=b.e;if("pq-clear"==b||"pq-clear-sent"==b||"pq-clear-sent-bundle"==b||"pq-delete-commands"==b||"pq-mark-sent"==b||"pq-write-commands"==b)return a.g;if("document-lock"==b)return a.v;if("append-commands"==b)return a.e;if("update-application-metadata"==b&&a.$a())return a.$a();if("append-template-commands"==b&&a.ab())return a.ab();throw Error("No capability registered for operation type "+
b);}q.z=function(){Ld(this.g,this.e,this.i,this.w,this.v,this.k,this.j,this.l,this.o);xm.prototype.z.call(this)};function Yt(a,b,c,d,e,f,g,l,k,p,r,u,w,B,z,y,N,oa,ha,Ra){G.call(this);this.l=a;this.V=b;this.D=c;this.P=d;this.X=e;this.K=f;this.A=g;this.G=l;this.I=k;this.N=p;this.ha=u;this.Y=r;this.g=w;this.$=B;a=new ys;this.v=z?new Ds(z,a):null;this.i=y;this.w=N;this.C=oa;this.n=new T;this.j=new T;this.o=Ra}E(Yt,G);Yt.prototype.create=function(a){this.e(a);return this.j};
Yt.prototype.e=function(a){var b={},c;for(c in this.l){var d=new xs(c,this.i,this.l[c],a);H(this,d);b[c]=d}d=null;if(this.g)for(c in d={},this.g){var e=new Ht(c,this.i,this.g[c],a);H(this,e);d[c]=e}a=new Wt(b,this.V,this.D,this.P,this.X,this.K,this.A,this.G,this.I,this.N,this.Y,this.ha,d,this.$,this.w,this.C,this.o);H(this,a);a=new Tm(a);H(this,a);this.n.e(a);this.j.e(a);return a};Yt.prototype.k=n("v");function Zt(a){this.e=a}Zt.prototype.clearPendingQueue=function(a){pi(gn(this.e),function(){return a.pendingQueueCleared()},function(){return a.pendingQueueClearFailed()})};function $t(a,b,c){this.docId=a;this.commandsIndex=b;this.serializedCommands=c};function au(a){this.e=null;U(a,C(this.Ae,this))}q=au.prototype;q.Ae=m("e");q.provideDocument=function(a){return new Ms(a)};q.provideDocumentEntity=function(a,b,c){return new at(a,b,c)};q.provideCommandBatch=function(a,b,c,d,e){return new ts(a,b,c,d,e)};q.providePendingQueue=function(a){return new tt(a)};q.providePendingQueueCommandBatch=function(a,b,c){return new $t(a,b,c)};q.providePendingQueueCommandBundleMetadata=function(a,b,c,d){return new qt(a,b,c,d)};q.provideApplicationMetadata=function(a){return new Xs(a)};
q.provideFontMetadata=function(a){return new Rt(a)};q.provideSyncObject=function(a){return new yt(a)};q.provideLocalStorePendingQueueClearer=function(){return new Zt(this.e)};q.provideBlobMetadata=function(a,b){return new jt(a,b)};q.provideTemplateMetadata=function(a){return new Gt([a])};q.provideTemplateCreationMetadata=function(a){return new Et([a])};function bu(){}bu.prototype.create=function(){return Fi(null)};bu.prototype.e=jb("Cannot call #createSynchronously in NoOpLocalStoreFactory");bu.prototype.k=aa(null);function cu(){}q=cu.prototype;q.jc=null;q.Vc=!1;q.cd=null;q.Kd=!1;q.setSystemSupportedFonts=m("jc");q.setNativeFontInstaller=h();q.setMenuFontsEnabled=h();q.setAcceleratedNonLatinEnabled=m("Vc");q.setAcceleratedNonLatinSyncCheck=h();q.setFormat=m("cd");q.setDomainFontsEnabled=h();q.setSubsetExtractionEnabled=m("Kd");q.setIndependentDefaultFonts=h();q.setNonLatinUi=h();q.setJapaneseSystemFontsAsWebfonts=h();q.setKoreanSystemFontsAsWebfonts=h();
function du(a){a.jc||(a.jc=Jr);Yg=new Xg(a.Vc,a.Kd,!0,a.cd)};function eu(){this.e={}}function fu(a,b,c,d){var e=a.e[b];return e?function(a){var b=c.apply(this,arguments);return b?e(b,d):null}:c};function Z(a,b){var c=new eu;this.e(c);for(var d in this)if("constructor"!=d&&ya(a[d])){var e=Lq(b,a[d],a);this[d]=fu(c,d,e,b)}}Z.prototype.e=ta;function gu(a,b){Z.call(this,a||{},b)}E(gu,Z);gu.prototype.readCommands=function(a,b,c,d){d.callback(0,"Native readCommands is not supported")};function hu(a,b){Z.call(this,a||{},b)}E(hu,Z);hu.prototype.readDocument=function(a,b,c,d){d.callback(0,"Native readDocument is not supported")};function iu(a,b){Z.call(this,a||{},b)}E(iu,Z);q=iu.prototype;q.popUnusedDocumentId=function(a,b,c){c.callback(0,"Native popUnusedDocumentId is not supported")};q.pushUnusedDocumentIds=function(a,b,c,d){d.callback(0,"Native pushUnusedDocumentIds is not supported")};q.getUnusedDocumentIdCount=function(a,b,c){c.callback(0,"Native getUnusedDocumentIdCount is not supported")};q.getApplicationMetadata=function(a,b,c){c.callback(0,"Native getApplicationMetadata is not supported")};
q.getAllApplicationMetadata=function(a,b){b.callback(0,"Native getAllApplicationMetadata is not supported")};function ju(a,b){Z.call(this,a||{},b)}E(ju,Z);ju.prototype.readDocumentEntity=function(a,b,c,d,e){e.callback(0,"Native readDocumentEntity is not supported")};ju.prototype.readDocumentEntities=function(a,b,c,d){d.callback(0,"Native readDocumentEntities is not supported")};ju.prototype.readDocumentEntitiesByIds=function(a,b,c,d,e){e.callback(0,"Native readDocumentEntitiesByIds is not supported")};function ku(a,b){Z.call(this,a||{},b)}E(ku,Z);ku.prototype.acquireLock=function(a,b,c,d){d.callback(0,"Native acquireLock is not supported")};ku.prototype.releaseAllLocks=ta;function lu(a,b){Z.call(this,a||{},b)}E(lu,Z);q=lu.prototype;q.addFile=function(a,b,c,d,e,f){f.callback(2,"Native addFile is not supported")};q.getFileUrl=function(a,b,c,d){d.callback(null)};q.getDirectoryContents=function(a,b,c,d){d.callback([])};q.getAllFilesWithUri=jb("Native getAllFilesWithUri is not supported");q.removeFile=function(a,b,c,d,e){e.callback(2,"Native removeFile is not supported")};q.removeDirectory=function(a,b,c,d){d.callback(2,"Native removeDirectory is not supported")};function mu(a,b){Z.call(this,a||{},b)}E(mu,Z);mu.prototype.pushNonSnapshottedDocumentId=function(a,b,c){c.callback(0,"Native non-snapshotted document id push is not supported")};mu.prototype.removeNonSnapshottedDocumentIds=function(a,b,c){c.callback(0,"Native non-snapshotted document id removal is not supported")};function nu(a,b){Z.call(this,a||{},b)}E(nu,Z);nu.prototype.executeOperations=function(a,b,c){c.callback(0,"Native executeOperations is not supported")};function ou(a,b){Z.call(this,a||{},b)}E(ou,Z);ou.prototype.readAllBlobMetadataForDocument=function(a,b,c){c.callback(0,"Native blob metadata for a document is not supported")};ou.prototype.clearBlobMetadataForDocument=function(a,b,c){c.callback(0,"Native clearing of blob metadata for a document is not supported")};function pu(a,b){Z.call(this,a||{},b)}E(pu,Z);pu.prototype.readPendingQueue=function(a,b,c){c.callback(0,"Native readPendingQueue is not supported")};function qu(a,b){Z.call(this,a||{},b)}E(qu,Z);qu.prototype.getAllSyncObjects=function(a,b){b.callback(0,"Native getAllSyncObjects is not supported")};function ru(a,b){Z.call(this,a,b)}E(ru,Z);ru.prototype.readCommands=function(a,b,c,d){d.callback(0,"Native readCommands is not supported")};ru.prototype.addCommands=jb("Native addCommands is not supported");function su(a,b){Z.call(this,a||{},b)}E(su,Z);su.prototype.readAllTemplateMetadata=function(a,b,c){c.callback(0,"Native readAllTemplateMetadata is not supported")};su.prototype.readTemplateMetadata=function(a,b,c){c.callback(0,"Native readTemplateMetadata is not supported")};su.prototype.readTemplateCreationMetadata=function(a,b,c){c.callback(0,"Native readTemplateCreationMetadata is not supported")};su.prototype.deleteTemplate=function(a,b,c){c.callback(2,"Native deleteTemplate is not supported")};function tu(a,b){Z.call(this,a||{},b)}E(tu,Z);tu.prototype.readAllFontMetadata=function(a,b){b.callback(0,"Native readAllFontMetadata is not supported")};tu.prototype.readFontMetadata=function(a,b,c){c.callback(0,"Native readFontMetadata is not supported")};function uu(){this.e=new cu;this.o=!1}E(uu,G);q=uu.prototype;q.oc=null;q.wc=null;q.xc=null;q.rc=null;q.pc=null;q.qc=null;q.uc=null;q.yc=null;q.Bc=null;q.zc=null;q.Ac=null;q.vc=null;q.nc=null;q.tc=null;q.fd=!0;q.pd=null;q.ed=new T;q.setNativeDocumentCapability=m("oc");q.setNativePendingBlobCapability=m("wc");q.setNativePendingQueueCapability=m("xc");q.setNativeDocumentLockCapability=m("rc");q.setNativeDocumentCreationCapability=m("pc");q.setNativeNonSnapshottedDocsCapability=m("uc");
q.setNativeDocumentEntityCapability=m("qc");q.setNativeSyncObjectsCapability=m("yc");q.setNativeWebFontsCapability=m("Bc");q.setNativeTemplateAdapter=m("zc");q.setNativeTemplateCapability=m("Ac");q.setNativeOperationExecutor=m("vc");q.setNativeDocumentAdapter=m("nc");q.setNativeFileStorageAdapter=m("tc");q.setFastTrack=m("fd");q.setLocale=m("pd");q.setFakeLocalStore=function(){this.o=!0};q.getWebFontsBuilder=n("e");q.createLocalStoreObjectProvider=function(){return new au(this.ed)};
function vu(a,b,c,d){if(a.o)return new bu;if(a.nc&&a.vc&&a.oc&&a.xc&&a.rc){var e={};e[c]=new gu(a.nc,d);var f=new nu(a.vc,d),g=new hu(a.oc,d),l=new pu(a.xc,d),k=new ku(a.rc,d),p=null;a.pc&&(p=new iu(a.pc,d));var r=null;a.wc&&(r=new ou(a.wc,d));var u=null;a.qc&&(u=new ju(a.qc,d));var w=null;a.uc&&(w=new mu(a.uc,d));var B=null;a.yc&&(B=new qu(a.yc,d));var z=null;a.Bc&&(z=new tu(a.Bc,d));var y=null;a.zc&&(y={},y[c]=new ru(a.zc,d));c=null;a.Ac&&(c=new su(a.Ac,d));var N=null;a.tc&&(N=new lu(a.tc,d));return new Yt(e,
f,g,r,l,k,!0,p,u,w,B,z,y,c,N,b,a.fd,a.pd,a.ed,d)}return null};function wu(a,b,c){K.call(this);this.g={"X-Same-Domain":"1"};!1===c&&(this.g={});this.j="";this.e=b||Mn();(a=ic((a||v).location.href,"authkey"))&&xu(this,"authkey",a)}E(wu,K);function yu(a,b){var c=b.length-1;0<=c&&b.indexOf("/",c);a.j=b}wu.prototype.k=function(a){xu(this,"tfe",a)};function xu(a,b,c){var d=a.e;if(c){if(d.e[b]=c,d.g&&(b=d.e.token||null))d.g.e(b),d.g=null}else delete d.e[b];qe(a,"u")};function zu(a){K.call(this);this.g=a;this.e=null;this.j=new qk(this);this.j.ia(this.g,"u",this.k)}E(zu,K);zu.prototype.k=function(){this.e&&this.e.j(this.g.e.e)};zu.prototype.z=function(){this.e&&!this.e.q()&&(this.e.l("tfe_changed",this.g.k,this.g),this.e.e(),this.e.k());this.e=null;I(this.j);zu.F.z.call(this)};function Au(a,b){G.call(this);this.e=[];this.k=a;(this.i=b||null)&&H(this,this.i);this.g=this.j=null;this.i&&(this.g=new vf(500),this.j=new qk(this),this.j.ia(this.g,"tick",this.l))}E(Au,G);Au.prototype.reset=function(){this.e=[];this.g&&xf(this.g)};Au.prototype.l=function(){for(;0<this.e.length&&cq(this.i);)dq(this.i),this.k(this.e.shift());0==this.e.length&&this.g&&xf(this.g)};Au.prototype.z=function(){I(this.j);I(this.g);Au.F.z.call(this)};function Bu(a,b){Qd.call(this,"x",a);this.Fd=b}E(Bu,Qd);function Cu(a,b,c,d,e,f,g,l,k,p,r,u,w,B,z,y){K.call(this);this.j=a;this.ha=b;this.n=c;this.k=d;this.v=w||(c?"POST":"GET");this.w=p;this.A=e;this.o=f;this.Y=g;this.G=l;this.P=k;this.$=u;this.N=B;this.g=this.D=this.l=0;this.K=wb(z);this.X=y||3E4}E(Cu,K);var Du=5E3*(.75+.5*Math.random());
Cu.prototype.R=function(a){this.l++;this.D=D();this.e=new Nn;this.C.hb(this.e,"complete",C(this.ma,this));this.e.n=Math.max(0,this.$);"text"!=this.w&&(this.e.l=Eu(this.w));var b=ec(this.ha+this.j,a.e.e),c={};zb(c,this.K,wb(a.g));this.e.R(b,this.v,this.n,c)};Cu.prototype.reset=ta;Cu.prototype.z=function(){qe(this,"y");this.reset();delete this.o;delete this.A;Cu.F.z.call(this)};function Fu(a){Vj(this,a,"er",null)}E(Fu,Tj);Fu.e="er";Fu.prototype.getData=function(){return W(this,4)};function Gu(a){Vj(this,a,"xsrf",null)}E(Gu,Tj);Gu.e="xsrf";function Hu(a){return"text"==a.j&&null!=a.e&&0==(a.e||"").lastIndexOf(")]}'\n",0)&&(a=lj(a),va(a)&&(a=a[0],va(a)&&"er"==a[0]))?new Fu(a):null}function Iu(a){a=Hu(a);if(!a)return null;a=a.getData();return va(a)&&"xsrf"==a[0]?new Gu(a):null};function Ju(a,b,c,d,e,f,g,l){K.call(this);this.G=a;this.k=new wu(b,e,g);this.j=new zu(this.k);this.l=new qk(this);this.v=c||null;c&&this.l.ia(c,"r",this.se);this.e=d||new wo;this.D=l||null;this.A=new nq;this.g=[];this.w=[];this.n=new Au(C(this.cf,this),f);this.o=Io;this.C=new Bj;H(this,this.C);this.l.ia(this.j,"t",this.ke)}E(Ju,K);function gj(a,b){var c=a.G;b=new Ku(a,b,a,a.D,!0);c.e&&(b.q=c.e);b.i=a.k.j;return b}q=Ju.prototype;
q.R=function(a){if(!a.q()){var b=this.g;0<=Oa(b,a)||b.push(a);a:{b=this.n;if(b.i){if(!cq(b.i)||0!=b.e.length){b.e.push(a);yf(b.g);break a}dq(b.i)}b.k(a)}this.l.hb(a,"y",this.He)}};q.cf=function(a){5<=this.e.e.e||(this.e.e==xo&&yo(this.e,Ao),this.l.hb(a,"x",this.ld),a.R(this.k))};
q.ld=function(a){var b=a.ga;a=a.Fd;"SOON"==a.q["x-restart"]&&Q(this.e.i,null);this.v&&Lu(a)&&1!=b.k&&this.v.log(Error("blank JSON response"),Mu(a));if("NOW"==a.q["x-restart"])var c=new pk("j",a.g,a.i);else if(7==a.g)c=null;else{c=a.g;var d=a.i;(0==a.g?0==c&&0==d&&("text"!=a.j||null==a.e):8==c||5==c||6==c&&(0>=d||503==d||405==d||Lc&&12001<=d&&12156>=d))?c="g":(c=a.i,c=6==a.g&&(202==c||401==c||403==c||409==c||429==c||500<=c&&599>=c&&503!=c&&550!=c)||400==c&&null!=Iu(a)||200==c&&(null==a.k||Hu(a)||Lu(a))?
"h":0==a.g?"f":"e");c=new pk(c,a.g,a.i,6==a.g&&500==a.i?Hu(a):null)}if(c){d=!0;if("f"==c.type){try{b.A(a),Nu(this,b)}catch(k){c=new pk("i",c.q,c.g),c.k=k,c.i="f",Nu(this,b,this.o)}b.aa()}else if("g"==c.type||"h"==c.type){var e=c,f=!1;if(200==e.g){var g=Hu(a);g&&"XSRF"==W(g,1)&&(Ou(this,g.getData()),f=!0)}400==e.g&&(a=Iu(a))&&W(a,1)&&(Ou(this,W(a,1)),f=!0);409==e.g&&this.k.k(null);a=5<=this.e.e.e;g="h"==e.type;a||!(f||1!=b.k&&4>b.l)?3==b.k?(a||(null==this.j.e||g?Pu(this,b,!0):this.w.push(b),Qu(this),
yo(this.e,Ru(this,e.g),b.j)),a=2):a=1:(Pu(this,b,!1),a=3);switch(a){case 1:c.i=c.type;c.type="e";break;case 3:d=!1;break;case 2:c.j instanceof Fu&&W(c.j,2)}}else"j"==c.type&&(this.v&&this.v.U(Error("Incompatible server")),Nu(this,b,Ho),d=!1);if("e"==c.type){c.j instanceof Fu&&W(c.j,2);try{if(b.o(c),0==!b.Y&&(d=!1),b.P)Nu(this,b);else{var l=b.G(c)||Ru(this,c.g);Nu(this,b,l)}}catch(k){c=new pk("i",c.q,c.g),c.k=k,c.i="e",Nu(this,b,this.o)}b.aa()}d&&qe(this,c)}};
q.He=function(a){a=a.ga;if(0<=Oa(this.n.e,a)){var b=this.n;Va(b.e,a);0==b.e.length&&b.g&&xf(b.g)}else 0<=Oa(this.g,a)&&(this.l.Zb(a,"x",this.ld),Nu(this,a));Va(this.g,a);Va(this.w,a)};
function Nu(a,b,c){var d=a.e.e,e=d,f=c||Co;c=!c;Va(a.g,b);Va(a.w,b);Oa(a.n.e,b);if(!(5<=d.e))if(5<=f.e)yo(a.e,f,b.j);else{var g=null!=a.j.e||Sa(a.g,function(a){return 3==a.k});if(d==Ao)c||!g?0==a.g.length&&(e=xo):(Qu(a),e=f);else if(c)if(0<a.g.length)e=Bo,Su(a);else{if(null==a.j.e||a.j.e.i())e=xo}else e=f;yo(a.e,e,b.j)}}function Qu(a){null!=a.j.e&&1==a.e.e.e&&(a=a.j,a.e.e(),a.e.g())}q.ea=n("e");
function Pu(a,b,c){var d=Du;c&&0!=b.g&&(d=b.g<b.X?1.5*b.g:b.g);b.g=d;c=Math.max(0,d-(D()-b.D));a.A.Ga(C(a.R,a,b),c)}q.ke=function(a){var b=this.e.e;5<=b.e||(a.i?1!=b.e&&(0<this.g.length?(yo(this.e,Bo),Su(this)):yo(this.e,xo)):yo(this.e,Ru(this,a.g),null,a.g))};function Su(a){var b=a.w.shift();b&&a.R(b)}function Ru(a,b){return 401==b?Fo:403==b?Eo:421==b?Go:202==b||405==b||409==b||429==b||500<=b&&599>=b&&550!=b?Do:400<=b&&499>=b||550==b?a.o:Co}
function Ou(a,b){a=a.k;var c=a.e.e;c.at&&xu(a,"at",b);c.xsrf&&xu(a,"xsrf",b);xu(a,"token",b)}q.se=function(){yo(this.e,this.o)};q.z=function(){Ld(this.g);I(this.j);I(this.k);I(this.A);I(this.n);I(this.l);Ju.F.z.call(this)};function Tu(a){var b=this;G.call(this);this.i=a;this.e=new P;this.g=new Bj;H(this,this.g);Cj(this.g,a.g,function(a){1==a.i.e!=(1==a.g.e)&&Q(b.e,new yj(1==a.g.e))})}E(Tu,G);Tu.prototype.isOnline=function(){return 1==this.i.e.e};var Uu=/\/d\/([^\/]+)/;function Vu(a){a=a.match(Xb)[5]||null;return Uu.test(a)};function Wu(a,b,c){this.g=a;this.H=c;this.i="";this.e=void 0;this.l=null;this.G={};this.B=3;this.w=!1;this.j=ta;this.o=!1;this.k=ib;this.n=ta;this.v=-1;this.A=this.D=!1;this.q=new En}function fj(a,b,c){a.g=fc(a.g,b,c);return a}function Pk(a){a.A=!0;return a}function ej(a,b){a.e=b;return a}function Po(a,b){a.e=b;return a}function Fj(a,b){b=rb(b,function(a){return A(a)?a:se(a)});return ej(a,cc(b))}function No(a){a.w=!0;return a}function jj(a,b){a.j=b;a.o=!1;return a}
function Oo(a,b){a.k=b;return a}function hj(a,b){a.B=b;return a}function kj(a,b){a.n=b;return a}Wu.prototype.setTimeout=function(a){this.v=a;return this};function Mo(a){a.D=!0;return a}
function ij(a){a.D&&(A(a.e)||va(a.e));var b=a.v;0>b&&(b=a.I?4E4:2E4);var c=a.g,d=Xu(a);a:{if(va(a.e)){var e=a.e;try{if(O(M(),"docs-net-cbfd")&&v.FormData){for(var f=new v.FormData,g=0;g<e.length;g+=2)f.append(e[g],e[g+1]);var l=f}else l=bc(e);var k=l;break a}catch(p){if(p instanceof URIError&&"URI malformed"==p.message){b=[];for(c=1;c<e.length;c+=2)if(d=Vg(e[c].toString()))b.push(e[c-1]),b.push(d);e=b.toString().substr(0,100);a=Yu(a).substr(0,100);throw gd(p,{illegal_request_content:e,request_uri:a});
}throw p;}}k=a.e}e=new Zu(c,d,k,a.B,a.n,a.j,a.o,a.k,!1,"text",a.w,b,a.l,a.q,a.G,void 0);if(!a.C)throw Error("Trying to send a request without a request sender for - "+Yu(a));a.C.R(e);return e}function Yu(a){return Xu(a)+a.g}function Xu(a){if(a.A){if(a=a.i,Vu(a)){Vu(a);a=a.match(Xb);var b=a[5];b=b.replace(Uu,"");a=Wb(a[1],a[2],a[3],a[4],b,a[6],a[7])}}else a=a.i;return a};function $u(a,b,c,d,e,f,g,l){this.e=a;this.j=b||"text";this.k=/^[\s\xa0]*$/.test(Mb(c))?null:c;this.i=x(d)?d:200;this.q={};if(f)for(var k in f)this.q[k.toLowerCase()]=f[k];this.g=x(e)?e:0;this.H=g||{};this.B=l||null;this.l=void 0}function lj(a){x(a.l)||(a.l=Gn(a.e||"",a.B));return a.l}
function Mu(a){var b=a.i,c=a.g,d=a.j,e=a.k;if("text"==a.j){var f=a.e||"";f=-1!=f.indexOf("&")?"document"in v?Ib(f):Kb(f):f;50<f.length&&(f=f.substring(0,47)+"...");Hb.test(f)&&(-1!=f.indexOf("&")&&(f=f.replace(Bb,"&amp;")),-1!=f.indexOf("<")&&(f=f.replace(Cb,"&lt;")),-1!=f.indexOf(">")&&(f=f.replace(Db,"&gt;")),-1!=f.indexOf('"')&&(f=f.replace(Eb,"&quot;")),-1!=f.indexOf("'")&&(f=f.replace(Fb,"&#39;")),-1!=f.indexOf("\x00")&&(f=f.replace(Gb,"&#0;")));f+="   (truncated)"}else f="responseObject";b=
{RespStatus:b,RespErr:c,RespType:d,RespContentType:e,RespString:f};zb(b,a.H);return b}function Lu(a){if(200==a.i&&null!=a.k&&!Hu(a)&&"text"==a.j){if(/^[\s\xa0]*$/.test(Mb(a.e)))return!0;if(0==(a.e||"").lastIndexOf(")]}'\n",0))return null==lj(a)}return!1};function Zu(a,b,c,d,e,f,g,l,k,p,r,u,w,B,z,y){Cu.call(this,a,b,c,d,e,f,g,l,k,p,r,u,w,B,z,y);this.e=null;this.C=new qk(this)}E(Zu,Cu);
Zu.prototype.ma=function(){var a=this.e;var b="";var c=null;try{""==a.l?b=Zn(a):b=$n(a),c=a.Sb("Content-Type")}catch(p){}var d=av(a.l),e=a.ea(),f=a.j,g={};a=a.Rb().split("\r\n");for(var l=0;l<a.length;l++)if(!/^[\s\xa0]*$/.test(Mb(a[l]))){var k=a[l].split(": ");2==k.length&&(g[k[0]]=k[1])}b=new $u(b,d,c,e,f,g,{ReqUri:this.j,ReqContent:this.n,ReqMethod:this.v},this.N);this.reset();qe(this,new Bu(this,b))};Zu.prototype.reset=function(){this.e&&(this.e.aa(),this.e=null)};
Zu.prototype.z=function(){I(this.C);Zu.F.z.call(this)};function av(a){switch(a){case "arraybuffer":return"arraybuffer";case "blob":return"blob";case "document":return"document";case "text":return"text";case "":return"text";default:throw Error("Unsupported Xhr Response Type - "+a);}}function Eu(a){switch(a){case "arraybuffer":return"arraybuffer";case "blob":return"blob";case "document":return"document";default:return""}};function Ku(a,b,c,d,e){Wu.call(this,b,c,d);this.C=a;this.I=!!e}E(Ku,Wu);function bv(){this.e=null};function cv(a,b,c,d,e){G.call(this);this.i=a;this.j=b;this.e=c;this.k=e;this.g=new qk(this);H(this,this.g)}E(cv,G);cv.prototype.l=function(a,b){this.e.U(Error(Ah(b)));a()};
cv.prototype.n=function(a,b,c,d){try{var e=lj(d)}catch(k){this.e.U(Error("Could not interpret result of /getappmetadata "+(d.e||"")));c();return}var f=e;if(f&&f.newModelCommands&&f.jobset){d=Mg(f.newModelCommands);e=f.jobset;var g=f.docosKeyData;f=f.version;var l=new Xl(this.i,!0);S(l,"jobset",e);l.i=d.concat();l.g=!0;g&&S(l,"docosKeyData",g);x(f)&&S(l,"version",f);d=l}else d=null;d?a.ka([d],b,C(this.l,this,c)):b()};cv.prototype.z=function(){cv.F.z.call(this);delete this.g;delete this.e};function dv(a,b,c){G.call(this);this.e=a;this.j=b;this.g=c}E(dv,G);dv.prototype.i=function(a,b){this.g.U(Error(Ah(b)));a()};dv.prototype.k=function(a,b,c,d){var e=Fg("docs-offline-nnodi");d<.9*e?(a=ij(hj(jj(kj(fj(gj(this.j,"/getids"),"num",String(e-d)),C(this.l,this,a,b,c)),c),2)),H(this,a)):b(0)};
dv.prototype.l=function(a,b,c,d){try{var e=lj(d)}catch(f){this.g.U(Error("Could not interpret result of /getids: "+(d.e||"")));c();return}e&&0!=e.length?(a=a.e.$a())?(c=C(this.i,this,c),a.k.pushUnusedDocumentIds(this.e,e,new xp(Ea(b,e.length)),Jp(c))):b(e.length):b(0)};function ev(a,b,c,d,e){G.call(this);this.j=a;this.g=new dv(a,b,c);this.e=new cv(a,b,c,d,e)}E(ev,G);ev.prototype.i=function(a,b,c,d){var e=Ea(b,d);b=this.e;d=Ea(e,!0);e=Ea(e,!1);a=hj(jj(kj(fj(gj(b.j,"/getappmetadata"),"smv",String(b.k)),C(b.n,b,a,d,e)),e),2);c&&fj(fj(a,"forcehl","1"),"hl",c);c=ij(a);H(b,c)};ev.prototype.toString=function(){return"EditorMetadataFetcher for "+this.j};ev.prototype.z=function(){I(this.g);delete this.g;I(this.e);delete this.e;ev.F.z.call(this)};Fa(h().prototype,h().prototype);function fv(){this.g=!1}E(fv,oj);fv.prototype.e=function(a,b,c,d,e){"labelpath"==c.entityType?(c=JSON.parse(c.path),a=new $l(b,a,"labelPath",c,!0),e.push(a)):fv.F.e.call(this,a,b,c,d,e)};function gv(a,b){Z.call(this,a||{},b)}E(gv,Z);gv.prototype.onSyncResult=kb(ta,0);gv.prototype.onSyncResult2=function(a){this.onSyncResult(a.getRequestId(),a.getSyncResult())};gv.prototype.fatalError=ta;function hv(a,b){this.g=a;this.i=b}hv.prototype.e=function(){return null!=this.g&&null==this.i};function iv(a){P.call(this);this.value=null;this.value=a}t(iv,P);function jv(a){iv.call(this,a)}t(jv,iv);function kv(){}t(kv,Kf);function lv(a,b,c){var d=this;this.B=a;this.k=null;this.q=b;this.l=c;this.e={};this.i=[];this.H=new jv(!0);Mi(this.q,function(a){d.k=a;a=d.i;d.i=[];mv(d,a)})}
function Tq(a,b){for(var c=[],d=[],e={},f=0;f<b.length;e={Dc:e.Dc},f++){var g=bh(b[f].e),l=a.e[g];l?(e.Dc=b[f].e,l=Oi(l,function(a){return function(b){b.e()&&(b=b.g,b=new hv(new hr(a.Dc,b.i,b.g),null));return b}}(e))):(c.push(b[f]),a.e[g]=l=Ui());d.push(l)}var k=Ui();pi(Qi(d,!1),function(a){for(var b=[],c={},d=0;d<a.length;d++){var e=a[d];if(!e.e)throw Error("Deferred result should always be successful after a whole flight.");e=e.g();e.e()?b.push(e.g):(e=e.i,c[bh(e)]=e)}V(k,new Er(b,tb(c)))},function(a){return k.errback(a)});
nv(a);ov(a,c);return k}function ov(a,b){if(b.length){for(var c=Hr(a.B,b),d=[],e=0;e<b.length;e++)d.push(b[e].e);pi(c,function(b){var c=b.e;b=b.g;b.length&&a.j("Fetch failed",b,"Individual fetches failed.");b=[];for(var d=0;d<c.length;d++){var e=c[d];switch(e.g){case "sync-needed":b.push(e);break;case "sync-needed-non-blocking":b.push(e);a.g(e);break;case "sync-not-needed":a.g(e)}}mv(a,b)},function(b){a.j("Entire fetch failed",d,b?Zi(b):null)})}}
function mv(a,b){if(1!=a.q.e)if(a.k)for(var c={},d=0;d<b.length;c={errback:c.errback,Ob:c.Ob},d++){var e=b[d],f=a.k.i(e);if("sync-needed"==e.g){var g=C(a.g,a);c.errback=C(a.j,a,"Local syncing of remote resource failed",[e.e]);pi(f,g,function(a){return function(b){b?a.errback(b.ba()):a.errback(null)}}(c))}else g=ta,c.Ob=C(a.n,a,"Local non-blocking syncing of remote resource failed",[e.e]),pi(f,g,function(a){return function(b){b?a.Ob(b.ba()):a.Ob(null)}}(c))}else for(c=0;c<b.length;c++)"sync-needed"==
b[c].g&&a.g(b[c]);else a.i=a.i.concat(b)}lv.prototype.g=function(a){var b=bh(a.e),c=this.e[b];c?(delete this.e[b],V(c,new hv(a,null))):(b={resultIdString:b},b.syncStatus=a.g,b.totalDeferreds=Object.keys(this.e).length,this.l.U(Error("Missing deferred for completed fetch result"),b));nv(this)};lv.prototype.n=h();lv.prototype.j=function(a,b){for(a=0;a<b.length;a++){var c=bh(b[a]),d=this.e[c];delete this.e[c];V(d,new hv(null,b[a]))}nv(this)};
function nv(a){var b=a.H;a=!ub(a.e).length;if(!Lf(b.value,a)){var c=b.value;b.value=a;Q(b,new kv(c,a))}};function pv(){}pv.prototype.e=ta;function qv(a,b){this.e=a;this.g=b}qv.prototype.i=function(a){a.errback("Sync update server error");this.e.log(Error("Sync update server error"))};qv.prototype.j=function(a,b){try{var c=Gn(b.e||"")}catch(f){a.errback("Could not interpret result of /sync/get");this.e.log(Error("Could not interpret result of /sync/get"));return}b=[];if(c)for(var d=0;d<c.length;d++){var e=c[d];try{b.push(e)}catch(f){a.errback("Invalid sync update");this.e.log(Error("Invalid sync update"));return}}a.e(b)};function rv(a,b){this.e=a;this.g=b};function sv(a,b,c){this.j=a;this.g=b;this.e=c||[]}sv.prototype.i=function(a){Ct(this.j,C(this.l,this,a||ta),Ea(a||ta,0))};sv.prototype.l=function(a,b){for(var c=[],d=0;d<b.length;d++){var e=new rv(Th(b[d]),Am(b[d])),f={};f.keyPath=e.e;f.state=e.g;c.push(f)}b=[];for(d=0;d<this.g.length;d++)b.push(tv(this.g[d],c));c=kk(b);U(c,C(this.q,this,a));zi(c,null,Ea(a,0),void 0)};
sv.prototype.q=function(a,b){for(var c=[],d=0;d<b.length;d++)c.push.apply(c,b[d]);b=[];for(d=0;d<this.e.length;d++){var e=new T;Mr(this.e[d],c,C(e.e,e),C(e.errback,e));b.push(e)}b=new jk(b);U(b,C(this.k,this,a,c))};sv.prototype.k=function(a,b,c){for(var d=0,e=0;e<c.length;e++)c[e][0]||d++;a(b.length,0<d?d+" post processors failed.":null)};function uv(a,b){this.g=a;this.i=b}function tv(a,b){var c=new T,d=a.g,e=new T;b=["syncStates",se(b)];d=ej(jj(kj(gj(d.g,"/sync/get"),C(d.j,d,e)),C(d.i,d,e)),bc(b));d.l="POST";ij(hj(d,2));U(e,C(a.e,a,c));a=C(c.errback,c);zi(e,null,a,void 0);return c}
uv.prototype.e=function(a,b){var c=this.i;a=C(a.e,a);for(var d=[],e=0;e<b.length;e++){var f=b[e],g=f.keyPath,l=f.state;f=f.data;if(!g||!l||!f)throw Error("Serialized SyncUpdate missing required key.");if(!g.length)throw Error("SyncUpdate key may not be empty.");d.push(wr(c,new pr(g,l,f)))}c.g&&c.g.ka(d,Ea(a,d))};function vv(a,b,c){this.j=b;this.g=a;this.k=c;this.e=!1}vv.prototype.i=function(a){if(!this.e){var b=this.j,c=this.g,d=c?c.e.Nb():null;c&&d?(b.g=new or(c,d,b.j),c=b.g,d=C(b.k,b),b=C(b.e.errback,b.e),Ct(c.i,Ea(c.j,d),b)):b.e.e();this.e=!0}this.k.i(a)};function wv(){uu.call(this);this.v=[];this.l=this.i=null;this.w=!1;this.g=0;this.k=null;this.j=this.n=!1}E(wv,uu);q=wv.prototype;q.buildForKix=function(a,b){return xv(this,"kix",a,b)};q.buildForRitz=function(a,b){return xv(this,"ritz",a,b,"top","chunk",new oj(!0))};q.buildForPunch=function(a,b){return xv(this,"punch",a,b,void 0,void 0,new fv)};q.buildForDrawings=function(a,b){return xv(this,"drawing",a,b,void 0,void 0,new fv)};q.setSupportedFonts=m("v");q.setBlobTransporter=m("i");
q.setSupportsIncrementalXHRRead=m("w");q.setImageUrlRevoker=m("l");q.setSupportedModelVersion=m("g");q.setFirstChunkSize=m("k");q.setNonLatinInfrastructure=function(a,b){this.e.setAcceleratedNonLatinEnabled(a);this.e.setAcceleratedNonLatinSyncCheck(b)};q.setUseLatestTemplateMetadataIos=m("n");q.setEnableModelMetadataVersionParam=m("j");
function xv(a,b,c,d,e,f,g){var l=new hk,k=new Gq(void 0,void 0,void 0,!1);k.g["docs.offline.mobilenative.SyncApplication"]="true";du(a.e);var p=new gv(d,k);Iq(k,new Oq(p.fatalError,p));var r=vu(a,l,b,k);if(!r)throw Error("Incomplete sync application.");var u=new Ju(new bv);yu(u.k,c);d=new ev(b,u,k,l,a.g);var w=r.e(function(){Kl(k,Error("Unexpected sync application localstore error"))});if(w.g)throw Error("Called setWritable on an already writable localstore.");w.g=!0;r=r.k();var B=null,z=null;r&&
(B=new ps(r),z=new An(B));var y=null,N=null,oa=w.e.Nb()?new ur(k):null,ha=w.e.lc(),Ra=[$g()];if(ha&&r&&B){y=new Fr(u,k);var sa=Ui();N=new lv(y,sa,k);var xa=new Qq(new Uq(new Kr(a.v)));N=new Sq(xa,N,new pv);V(sa,new ir(w,B));sa=new Sr(w,r);xa=Cr().concat(Dr);O(M(),"docs-emfms")&&Ra.push("menu");var pc=null;pc=Zg().e?"locale":"core";y=new is(new bs(ha,w.e.k,sa,y,N,xa,Ra,r,k,oa,pc),sa)}sa=ha=null;if(xa=w.e.Nb()){sa=new qv(k,u);var mb;N&&(mb=[new Lr(N,Ra)]);ha=new vv(w,oa,new sv(xa,[new uv(sa,oa)],mb))}mb=
new Tu(new wo);a=new Hp(w,w.e.e,d,new dp(c,u,l,w,z,N,k,a.l,a.i,mb,a.w,a.g,a.k,a.j,e,f,g),p,b,y,ha,r,B,c,k,N,a.n);H(a,w);H(a,d);N&&H(a,N);return a};qa("createApplicationBuilder",function(){return new wv});}).call(this);
