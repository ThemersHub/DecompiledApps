(function(){function g(){return function(){}}function m(a){return function(b){this[a]=b}}function n(a){return function(){return this[a]}}function aa(a){return function(){return a}}var q,ba="function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b},ca;
if("function"==typeof Object.setPrototypeOf)ca=Object.setPrototypeOf;else{var da;a:{var ea={a:!0},fa={};try{fa.__proto__=ea;da=fa.a;break a}catch(a){}da=!1}ca=da?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var ia=ca;
function t(a,b){a.prototype=ba(b.prototype);a.prototype.constructor=a;if(ia)ia(a,b);else for(var c in b)if("prototype"!=c)if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d)}else a[c]=b[c];a.G=b.prototype}
var ja={Jb:function(a){if(null==a)return a+"";if(a instanceof Array)return"Array["+a.length+"]";if("function"==typeof a){a=a.toString();var b=a.indexOf("{");return a.substring(0,b+1).replace("\n"," ")+"...}"}return"object"==typeof a?"["+ModelServices.Gf(a)+"]":a.toString()},Od:function(a){return null==a?ja.Jb(a):a instanceof Array?ja.be(a,10):"function"==typeof a?a.toString():"object"==typeof a?ja.ee(a,10):ja.Jb(a)},be:function(a,b){var c="[";a.length&&(c+="\n");for(var d=0;d<a.length;d++){if(d>b){c+=
"  + "+(a.length-b)+" more...\n";break}c+="  "+ja.Jb(a[d])+"\n"}return c+"]"},ee:function(a,b){var c=ja.Jb(a)+" {",d=Object.keys(a);d.length&&(c+="\n");for(var e=0;e<d.length;e++){if(e>b){c+="  + "+(d.length-b)+" more...\n";break}var f=d[e];c+="  "+f+": "+ja.Jb(a[f])+"\n"}return c+"}"},Db:function(a,b,c){if(0!==c.length){for(var d="",e=0;e<c.length-1;e++)d+=ja.Od(c[e])+" ";d+=ja.Od(c[e]);ModelServices.log(b,a,d)}},log:function(a){ja.Db("console.log",1,arguments)},zf:function(a){ja.Db("console.debug",
1,arguments)},W:function(a){ja.Db("console.info",1,arguments)},fg:function(a){ja.Db("console.warn",2,arguments)},Da:function(a){ja.Db("console.error",3,arguments)}},ka={search:""},la={},ma={},window={};window.location=ka;window.location.href="";window.location.Yb="";window.uf=ja;window.Yf={now:function(){return ModelServices.getTime()}};window.top=window;window.C=window;window.document=ma;ma.location=ka;ma.Df={};ma.wf=function(){return{}};ma.Hf=function(){return[]};
function na(){throw Error("XMLHttpRequest is not supported.");}q=na.prototype;q.open=g();q.Jd=g();q.T=g();q.Ia=g();q.Rb=aa("");q.Sb=aa(null);this.__mobile_docs_flagsData&&(this._docs_flag_initialData=eval("("+this.__mobile_docs_flagsData+")"),window._docs_flag_initialData=this._docs_flag_initialData);window.nf=Function;window.qf=String;var goog=goog||{},v=this;function x(a){return void 0!==a}function A(a){return"string"==typeof a}function pa(a){return"number"==typeof a}function qa(a,b){a=a.split(".");var c=v;a[0]in c||"undefined"==typeof c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)!a.length&&x(b)?c[d]=b:c[d]&&c[d]!==Object.prototype[d]?c=c[d]:c=c[d]={}}function ra(a){a=a.split(".");for(var b=v,c=0;c<a.length;c++)if(b=b[a[c]],null==b)return null;return b}function ta(){}
function ua(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function va(a){return"array"==ua(a)}function wa(a){var b=ua(a);return"array"==b||"object"==b&&"number"==typeof a.length}function ya(a){return"function"==ua(a)}function za(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}var Aa="closure_uid_"+(1E9*Math.random()>>>0),Ba=0;function Ca(a,b,c){return a.call.apply(a.bind,arguments)}
function Da(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function D(a,b,c){Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?D=Ca:D=Da;return D.apply(null,arguments)}
function Ea(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}}function Fa(a,b){for(var c in b)a[c]=b[c]}var E=Date.now||function(){return+new Date};
function Ga(a){if(v.execScript)v.execScript(a,"JavaScript");else if(v.kd){if(null==Ha){try{v.kd("var _evalTest_ = 1;")}catch(b){}if("undefined"!=typeof v._evalTest_){try{delete v._evalTest_}catch(b){}Ha=!0}else Ha=!1}Ha?v.kd(a):v.document.If.removeChild({type:"text/javascript",Af:!1})}else throw Error("goog.globalEval not available");}var Ha=null;
function F(a,b){function c(){}c.prototype=b.prototype;a.G=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.rf=function(a,c,f){for(var d=Array(arguments.length-2),e=2;e<arguments.length;e++)d[e-2]=arguments[e];return b.prototype[c].apply(a,d)}};function Ia(a){if(Error.captureStackTrace)Error.captureStackTrace(this,Ia);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}F(Ia,Error);Ia.prototype.name="CustomError";function Ja(){}Ja.prototype.i=null;function Ka(a){return a.i||(a.i=a.j())};var La;function Ma(){}F(Ma,Ja);Ma.prototype.g=function(){var a=Na(this);return a?new ActiveXObject(a):new na};Ma.prototype.j=function(){var a={};Na(this)&&(a[0]=!0,a[1]=!0);return a};
function Na(a){if(!a.e&&"undefined"==typeof na&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.e=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.e}La=new Ma;var Oa=Array.prototype.indexOf?function(a,b){return Array.prototype.indexOf.call(a,b,void 0)}:function(a,b){if(A(a))return A(b)&&1==b.length?a.indexOf(b,0):-1;for(var c=0;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Pa=Array.prototype.forEach?function(a,b,c){Array.prototype.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=A(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Qa=Array.prototype.map?function(a,b,c){return Array.prototype.map.call(a,b,c)}:function(a,b,c){for(var d=
a.length,e=Array(d),f=A(a)?a.split(""):a,h=0;h<d;h++)h in f&&(e[h]=b.call(c,f[h],h,a));return e},Ra=Array.prototype.some?function(a,b){return Array.prototype.some.call(a,b,void 0)}:function(a,b){for(var c=a.length,d=A(a)?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a))return!0;return!1},Sa=Array.prototype.every?function(a,b,c){return Array.prototype.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=A(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&!b.call(c,e[f],f,a))return!1;return!0};
function Ua(a){a:{var b=Va;for(var c=a.length,d=A(a)?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a)){b=e;break a}b=-1}return 0>b?null:A(a)?a.charAt(b):a[b]}function Wa(a,b){b=Oa(a,b);var c;(c=0<=b)&&Array.prototype.splice.call(a,b,1);return c}function Xa(a){return Array.prototype.concat.apply([],arguments)}function Ya(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}
function Za(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c];if(wa(d)){var e=a.length||0,f=d.length||0;a.length=e+f;for(var h=0;h<f;h++)a[e+h]=d[h]}else a.push(d)}}function ab(a,b,c){return 2>=arguments.length?Array.prototype.slice.call(a,b):Array.prototype.slice.call(a,b,c)}
function bb(a,b,c){function d(a){return za(a)?"o"+(a[Aa]||(a[Aa]=++Ba)):(typeof a).charAt(0)+a}b=b||a;c=c||d;for(var e={},f=0,h=0;h<a.length;){var l=a[h++],k=c(l);Object.prototype.hasOwnProperty.call(e,k)||(e[k]=!0,b[f++]=l)}b.length=f}function cb(a,b,c){if(!wa(a)||!wa(b)||a.length!=b.length)return!1;var d=a.length;c=c||db;for(var e=0;e<d;e++)if(!c(a[e],b[e]))return!1;return!0}function db(a,b){return a===b}function eb(a,b){return Xa.apply([],Qa(a,b,void 0))};function gb(a){return function(){return a}}var hb=gb(!1),ib=gb(!0),jb=gb(null);function kb(a){return function(){throw Error(a);}}function lb(a,b){b=b||0;return function(){return a.apply(this,Array.prototype.slice.call(arguments,0,b))}};function mb(a){return Math.floor(Math.random()*a)};var ob="StopIteration"in v?v.StopIteration:{message:"StopIteration",stack:""};function pb(){}pb.prototype.next=function(){throw ob;};pb.prototype.Ya=function(){return this};function qb(a){if(a instanceof pb)return a;if("function"==typeof a.Ya)return a.Ya(!1);if(wa(a)){var b=0,c=new pb;c.next=function(){for(;;){if(b>=a.length)throw ob;if(b in a)return a[b++];b++}};return c}throw Error("Not implemented");};function rb(a,b,c){for(var d in a)b.call(c,a[d],d,a)}function sb(a,b){var c={},d;for(d in a)c[d]=b.call(void 0,a[d],d,a);return c}function tb(a){var b=0,c;for(c in a)b++;return b}function ub(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function vb(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function wb(a,b){for(var c in a)if(a[c]==b)return!0;return!1}function xb(a){for(var b in a)return!1;return!0}function yb(a){var b={},c;for(c in a)b[c]=a[c];return b}
function zb(a){var b=ua(a);if("object"==b||"array"==b){if(ya(a.R))return a.R();b="array"==b?[]:{};for(var c in a)b[c]=zb(a[c]);return b}return a}var Ab="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Bb(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<Ab.length;f++)c=Ab[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var Cb=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]},Db=/&/g,Eb=/</g,Fb=/>/g,Gb=/"/g,Hb=/'/g,Ib=/\x00/g,Jb=/[\x00&<>"']/;function Kb(a){var b={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'};var c={};return a.replace(Lb,function(a,e){var d=b[a];if(d)return d;"#"==e.charAt(0)&&(e=Number("0"+e.substr(1)),isNaN(e)||(d=String.fromCharCode(e)));d||(c.Lf=a+" ",d=c.Ef.Pf.slice(0,-1));return b[a]=d})}
function Mb(a){return a.replace(/&([^;]+);/g,function(a,c){switch(c){case "amp":return"&";case "lt":return"<";case "gt":return">";case "quot":return'"';default:return"#"!=c.charAt(0)||(c=Number("0"+c.substr(1)),isNaN(c))?a:String.fromCharCode(c)}})}var Lb=/&([^;\s<&]+);?/g,Nb=String.prototype.repeat?function(a,b){return a.repeat(b)}:function(a,b){return Array(b+1).join(a)};function Ob(a){return null==a?"":String(a)}function Pb(a){return Array.prototype.join.call(arguments,"")}
function Qb(a,b){return a<b?-1:a>b?1:0};function Rb(a,b){this.g={};this.e=[];this.j=this.i=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a)if(a instanceof Rb)for(c=a.ma(),d=0;d<c.length;d++)this.set(c[d],a.get(c[d]));else for(d in a)this.set(d,a[d])}q=Rb.prototype;q.P=n("i");q.N=function(){Sb(this);for(var a=[],b=0;b<this.e.length;b++)a.push(this.g[this.e[b]]);return a};q.ma=function(){Sb(this);return this.e.concat()};
q.Ca=function(a){for(var b=0;b<this.e.length;b++){var c=this.e[b];if(Tb(this.g,c)&&this.g[c]==a)return!0}return!1};q.Ma=function(a){if(this===a)return!0;if(this.i!=a.P())return!1;var b=Ub;Sb(this);for(var c,d=0;c=this.e[d];d++)if(!b(this.get(c),a.get(c)))return!1;return!0};function Ub(a,b){return a===b}q.J=function(){return 0==this.i};function Vb(a,b){return Tb(a.g,b)?(delete a.g[b],a.i--,a.j++,a.e.length>2*a.i&&Sb(a),!0):!1}
function Sb(a){if(a.i!=a.e.length){for(var b=0,c=0;b<a.e.length;){var d=a.e[b];Tb(a.g,d)&&(a.e[c++]=d);b++}a.e.length=c}if(a.i!=a.e.length){var e={};for(c=b=0;b<a.e.length;)d=a.e[b],Tb(e,d)||(a.e[c++]=d,e[d]=1),b++;a.e.length=c}}q.get=function(a,b){return Tb(this.g,a)?this.g[a]:b};q.set=function(a,b){Tb(this.g,a)||(this.i++,this.e.push(a),this.j++);this.g[a]=b};q.forEach=function(a,b){for(var c=this.ma(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};q.R=function(){return new Rb(this)};
q.Ya=function(a){Sb(this);var b=0,c=this.j,d=this,e=new pb;e.next=function(){if(c!=d.j)throw Error("The map has changed since the iterator was created");if(b>=d.e.length)throw ob;var e=d.e[b++];return a?e:d.g[e]};return e};function Tb(a,b){return Object.prototype.hasOwnProperty.call(a,b)};function Wb(a){return a.P&&"function"==typeof a.P?a.P():wa(a)||A(a)?a.length:tb(a)}function Xb(a){if(a.N&&"function"==typeof a.N)return a.N();if(A(a))return a.split("");if(wa(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return ub(a)}function Yb(a){if(a.ma&&"function"==typeof a.ma)return a.ma();if(!a.N||"function"!=typeof a.N){if(wa(a)||A(a)){var b=[];a=a.length;for(var c=0;c<a;c++)b.push(c);return b}return vb(a)}}
function Zb(a,b){if(a.forEach&&"function"==typeof a.forEach)a.forEach(b,void 0);else if(wa(a)||A(a))Pa(a,b,void 0);else for(var c=Yb(a),d=Xb(a),e=d.length,f=0;f<e;f++)b.call(void 0,d[f],c&&c[f],a)}function $b(a,b){if("function"==typeof a.every)return a.every(b,void 0);if(wa(a)||A(a))return Sa(a,b,void 0);for(var c=Yb(a),d=Xb(a),e=d.length,f=0;f<e;f++)if(!b.call(void 0,d[f],c&&c[f],a))return!1;return!0};function ac(a,b,c,d,e,f,h){var l="";a&&(l+=a+":");c&&(l+="//",b&&(l+=b+"@"),l+=c,d&&(l+=":"+d));e&&(l+=e);f&&(l+="?"+f);h&&(l+="#"+h);return l}var bc=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function dc(a){a=a.match(bc);return ac(a[1],a[2],a[3],a[4])}
function ec(a,b){if(a){a=a.split("&");for(var c=0;c<a.length;c++){var d=a[c].indexOf("="),e=null;if(0<=d){var f=a[c].substring(0,d);e=a[c].substring(d+1)}else f=a[c];b(f,e?decodeURIComponent(e.replace(/\+/g," ")):"")}}}function fc(a,b){if(!b)return a;var c=a.indexOf("#");0>c&&(c=a.length);var d=a.indexOf("?");if(0>d||d>c){d=c;var e=""}else e=a.substring(d+1,c);a=[a.substr(0,d),e,a.substr(c)];c=a[1];a[1]=b?c?c+"&"+b:b:c;return a[0]+(a[1]?"?"+a[1]:"")+a[2]}
function hc(a,b,c){if(va(b))for(var d=0;d<b.length;d++)hc(a,String(b[d]),c);else null!=b&&c.push(a+(""===b?"":"="+encodeURIComponent(String(b))))}function ic(a,b){var c=[];for(b=b||0;b<a.length;b+=2)hc(a[b],a[b+1],c);return c.join("&")}function jc(a){var b=[],c;for(c in a)hc(c,a[c],b);return b.join("&")}function kc(a,b){var c=2==arguments.length?ic(arguments[1],0):ic(arguments,1);return fc(a,c)}function lc(a,b){b=jc(b);return fc(a,b)}
function mc(a,b,c){c=null!=c?"="+encodeURIComponent(String(c)):"";return fc(a,b+c)}var nc=/#|$/;function oc(a,b){var c=a.search(nc);a:{var d=0;for(var e=b.length;0<=(d=a.indexOf(b,d))&&d<c;){var f=a.charCodeAt(d-1);if(38==f||63==f)if(f=a.charCodeAt(d+e),!f||61==f||38==f||35==f)break a;d+=e+1}d=-1}if(0>d)return null;e=a.indexOf("&",d);if(0>e||e>c)e=c;d+=b.length+1;return decodeURIComponent(a.substr(d,e-d).replace(/\+/g," "))};function qc(a){this.e=this.B=this.j="";this.k=null;this.q=this.g="";this.l=!1;var b;a instanceof qc?(this.l=x(void 0)?void 0:a.l,rc(this,a.j),this.B=a.B,this.e=a.e,sc(this,a.k),this.g=a.g,tc(this,a.i.R()),this.q=a.q):a&&(b=String(a).match(bc))?(this.l=!1,rc(this,b[1]||"",!0),this.B=uc(b[2]||""),this.e=uc(b[3]||"",!0),sc(this,b[4]),this.g=uc(b[5]||"",!0),tc(this,b[6]||"",!0),this.q=uc(b[7]||"")):(this.l=!1,this.i=new vc(null,this.l))}
qc.prototype.toString=function(){var a=[],b=this.j;b&&a.push(wc(b,xc,!0),":");var c=this.e;if(c||"file"==b)a.push("//"),(b=this.B)&&a.push(wc(b,xc,!0),"@"),a.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.k,null!=c&&a.push(":",String(c));if(c=this.g)this.e&&"/"!=c.charAt(0)&&a.push("/"),a.push(wc(c,"/"==c.charAt(0)?yc:zc,!0));(c=this.i.toString())&&a.push("?",c);(c=this.q)&&a.push("#",wc(c,Ac));return a.join("")};
qc.prototype.resolve=function(a){var b=this.R(),c=!!a.j;c?rc(b,a.j):c=!!a.B;c?b.B=a.B:c=!!a.e;c?b.e=a.e:c=null!=a.k;var d=a.g;if(c)sc(b,a.k);else if(c=!!a.g){if("/"!=d.charAt(0))if(this.e&&!this.g)d="/"+d;else{var e=b.g.lastIndexOf("/");-1!=e&&(d=b.g.substr(0,e+1)+d)}e=d;if(".."==e||"."==e)d="";else if(-1!=e.indexOf("./")||-1!=e.indexOf("/.")){d=0==e.lastIndexOf("/",0);e=e.split("/");for(var f=[],h=0;h<e.length;){var l=e[h++];"."==l?d&&h==e.length&&f.push(""):".."==l?((1<f.length||1==f.length&&""!=
f[0])&&f.pop(),d&&h==e.length&&f.push("")):(f.push(l),d=!0)}d=f.join("/")}else d=e}c?b.g=d:c=""!==a.i.toString();c?tc(b,a.i.R()):c=!!a.q;c&&(b.q=a.q);return b};qc.prototype.R=function(){return new qc(this)};function rc(a,b,c){a.j=c?uc(b,!0):b;a.j&&(a.j=a.j.replace(/:$/,""))}function sc(a,b){if(b){b=Number(b);if(isNaN(b)||0>b)throw Error("Bad port number "+b);a.k=b}else a.k=null}function tc(a,b,c){b instanceof vc?(a.i=b,Bc(a.i,a.l)):(c||(b=wc(b,Cc)),a.i=new vc(b,a.l))}
function uc(a,b){return a?b?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function wc(a,b,c){return A(a)?(a=encodeURI(a).replace(b,Dc),c&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function Dc(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var xc=/[#\/\?@]/g,zc=/[#\?:]/g,yc=/[#\?]/g,Cc=/[#\?@]/g,Ac=/#/g;function vc(a,b){this.g=this.e=null;this.i=a||null;this.j=!!b}
function Ec(a){a.e||(a.e=new Rb,a.g=0,a.i&&ec(a.i,function(b,c){a.add(decodeURIComponent(b.replace(/\+/g," ")),c)}))}q=vc.prototype;q.P=function(){Ec(this);return this.g};q.add=function(a,b){Ec(this);this.i=null;a=Fc(this,a);var c=this.e.get(a);c||this.e.set(a,c=[]);c.push(b);this.g=this.g+1;return this};function Gc(a,b){Ec(a);b=Fc(a,b);Tb(a.e.g,b)&&(a.i=null,a.g=a.g-a.e.get(b).length,Vb(a.e,b))}q.J=function(){Ec(this);return 0==this.g};function Hc(a,b){Ec(a);b=Fc(a,b);return Tb(a.e.g,b)}
q.Ca=function(a){var b=this.N();return 0<=Oa(b,a)};q.forEach=function(a,b){Ec(this);this.e.forEach(function(c,d){Pa(c,function(c){a.call(b,c,d,this)},this)},this)};q.ma=function(){Ec(this);for(var a=this.e.N(),b=this.e.ma(),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c};q.N=function(a){Ec(this);var b=[];if(A(a))Hc(this,a)&&(b=Xa(b,this.e.get(Fc(this,a))));else{a=this.e.N();for(var c=0;c<a.length;c++)b=Xa(b,a[c])}return b};
q.set=function(a,b){Ec(this);this.i=null;a=Fc(this,a);Hc(this,a)&&(this.g=this.g-this.e.get(a).length);this.e.set(a,[b]);this.g=this.g+1;return this};q.get=function(a,b){a=a?this.N(a):[];return 0<a.length?String(a[0]):b};
q.toString=function(){if(this.i)return this.i;if(!this.e)return"";for(var a=[],b=this.e.ma(),c=0;c<b.length;c++){var d=b[c],e=encodeURIComponent(String(d));d=this.N(d);for(var f=0;f<d.length;f++){var h=e;""!==d[f]&&(h+="="+encodeURIComponent(String(d[f])));a.push(h)}}return this.i=a.join("&")};q.R=function(){var a=new vc;a.i=this.i;this.e&&(a.e=this.e.R(),a.g=this.g);return a};function Fc(a,b){b=String(b);a.j&&(b=b.toLowerCase());return b}
function Bc(a,b){b&&!a.j&&(Ec(a),a.i=null,a.e.forEach(function(a,b){var c=b.toLowerCase();b!=c&&(Gc(this,b),Gc(this,c),0<a.length&&(this.i=null,this.e.set(Fc(this,c),Ya(a)),this.g=this.g+a.length))},a));a.j=b};function Ic(a){this.e=a}Ic.prototype.isOnline=function(){return this.e.isOnline()};var Jc;a:{var Kc=v.navigator;if(Kc){var Lc=Kc.dg;if(Lc){Jc=Lc;break a}}Jc=""}function G(a){return-1!=Jc.indexOf(a)};function Mc(){return(G("Chrome")||G("CriOS"))&&!G("Edge")};function Nc(){return G("iPhone")&&!G("iPod")&&!G("iPad")};function Pc(a){Pc[" "](a);return a}Pc[" "]=ta;function Sc(a,b,c){return Object.prototype.hasOwnProperty.call(a,b)?a[b]:a[b]=c(b)};var Tc=G("Opera"),Uc=G("Trident")||G("MSIE"),Vc=G("Edge"),Wc=G("Gecko")&&!(-1!=Jc.toLowerCase().indexOf("webkit")&&!G("Edge"))&&!(G("Trident")||G("MSIE"))&&!G("Edge"),Yc=-1!=Jc.toLowerCase().indexOf("webkit")&&!G("Edge");Yc&&G("Mobile");G("Macintosh");G("Windows");G("Linux")||G("CrOS");var Zc=v.navigator||null;Zc&&(Zc.appVersion||"").indexOf("X11");G("Android");Nc();G("iPad");G("iPod");Nc()||G("iPad")||G("iPod");function $c(){var a=v.document;return a?a.documentMode:void 0}var ad;
a:{var bd="",cd=function(){var a=Jc;if(Wc)return/rv:([^\);]+)(\)|;)/.exec(a);if(Vc)return/Edge\/([\d\.]+)/.exec(a);if(Uc)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(Yc)return/WebKit\/(\S+)/.exec(a);if(Tc)return/(?:Version)[ \/]?(\S+)/.exec(a)}();cd&&(bd=cd?cd[1]:"");if(Uc){var dd=$c();if(null!=dd&&dd>parseFloat(bd)){ad=String(dd);break a}}ad=bd}var ed=ad,fd={};
function gd(a){return Sc(fd,a,function(){for(var b=0,c=Cb(String(ed)).split("."),d=Cb(String(a)).split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var h=c[f]||"",l=d[f]||"";do{h=/(\d*)(\D*)(.*)/.exec(h)||["","","",""];l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""];if(0==h[0].length&&0==l[0].length)break;b=Qb(0==h[1].length?0:parseInt(h[1],10),0==l[1].length?0:parseInt(l[1],10))||Qb(0==h[2].length,0==l[2].length)||Qb(h[2],l[2]);h=h[3];l=l[3]}while(0==b)}return 0<=b})}var hd;var id=v.document;
hd=id&&Uc?$c()||("CSS1Compat"==id.compatMode?parseInt(ed,10):5):void 0;function jd(a){var b=v,c=b.zd,d=!1;Yc&&!gd("535.3")&&(d=!d);b.zd=function(b,f,h,l,k){c&&c(b,f,h,l,k);a({message:b,fileName:f,Qe:h,lineNumber:h,sf:l,Da:k});return d}}function ld(a,b){a instanceof Error||(a=Error(a),Error.captureStackTrace&&Error.captureStackTrace(a,ld));a.stack||(a.stack=md(ld));if(b){for(var c=0;a["message"+c];)++c;a["message"+c]=String(b)}return a}
function nd(a,b){a=ld(a);if(b)for(var c in b){var d=a,e=c,f=b[c];d.__closure__error__context__984382||(d.__closure__error__context__984382={});d.__closure__error__context__984382[e]=f}return a}function md(a){var b=Error();if(Error.captureStackTrace)Error.captureStackTrace(b,a||md),b=String(b.stack);else{try{throw b;}catch(c){b=c}b=(b=b.stack)?String(b):null}b||(b=od(a||arguments.callee.caller,[]));return b}
function od(a,b){var c=[];if(0<=Oa(b,a))c.push("[...circular reference...]");else if(a&&50>b.length){c.push(pd(a)+"(");for(var d=a.arguments,e=0;d&&e<d.length;e++){0<e&&c.push(", ");var f=d[e];switch(typeof f){case "object":f=f?"object":"null";break;case "string":break;case "number":f=String(f);break;case "boolean":f=f?"true":"false";break;case "function":f=(f=pd(f))?f:"[fn]";break;default:f=typeof f}40<f.length&&(f=f.substr(0,40)+"...");c.push(f)}b.push(a);c.push(")\n");try{c.push(od(a.caller,b))}catch(h){c.push("[exception trying to get caller]\n")}}else a?
c.push("[...long stack...]"):c.push("[end]");return c.join("")}function pd(a){if(qd[a])return qd[a];a=String(a);if(!qd[a]){var b=/function ([^\(]+)/.exec(a);qd[a]=b?b[1]:"[Anonymous]"}return qd[a]}var qd={};function rd(){this.ub=sd||td}function td(a,b){return String(a)<String(b)?-1:String(a)>String(b)?1:0}q=rd.prototype;q.ba=null;q.ub=null;q.xa=null;q.wa=null;
q.add=function(a){if(null==this.ba)return this.wa=this.xa=this.ba=new ud(a),!0;var b=null;vd(this,function(c){var d=null,f=this.ub(c.value,a);0<f?(d=c.e,null==c.e&&(b=new ud(a,c),c.e=b,c==this.xa&&(this.xa=b))):0>f&&(d=c.g,null==c.g&&(b=new ud(a,c),c.g=b,c==this.wa&&(this.wa=b)));return d});if(b){var c=b;vd(this,function(a){a.i++;return a.C},c.C);wd(this,c.C)}return!!b};
q.Gc=function(a){var b=null;vd(this,function(c){var d=null,e=this.ub(c.value,a);0<e?d=c.e:0>e?d=c.g:(b=c.value,xd(this,c));return d});return b};function yd(a){a.ba=null;a.xa=null;a.wa=null}q.na=function(a){var b=!1;vd(this,function(c){var d=null,e=this.ub(c.value,a);0<e?d=c.e:0>e?d=c.g:b=!0;return d});return b};q.indexOf=function(a){var b=-1,c=0;vd(this,function(d){var e=this.ub(d.value,a);if(0<e)return d.e;d.e&&(c+=d.e.i);if(0>e)return c++,d.g;b=c;return null});return b};
q.P=function(){return this.ba?this.ba.i:0};function zd(a){return a.ba?a.ba.j:0}q.N=function(){var a=[];Ad(this,function(b){a.push(b)});return a};function Ad(a,b){if(a.ba){a=Bd(a);for(var c=a.e?a.e:a;null!=a;)if(null!=a.e&&a.e!=c&&a.g!=c)a=a.e;else{if(a.g!=c&&b(a.value))break;var d=a;a=null!=a.g&&a.g!=c?a.g:a.C;c=d}}}function vd(a,b,c){for(c=c?c:a.ba;c&&null!=c;)c=b.call(a,c)}
function wd(a,b){vd(a,function(a){var b=a.e?a.e.j:0,c=a.g?a.g.j:0;1<b-c?(a.e.g&&(!a.e.e||a.e.e.j<a.e.g.j)&&Cd(this,a.e),Dd(this,a)):1<c-b&&(a.g.e&&(!a.g.g||a.g.g.j<a.g.e.j)&&Dd(this,a.g),Cd(this,a));b=a.e?a.e.j:0;c=a.g?a.g.j:0;a.j=Math.max(b,c)+1;return a.C},b)}function Cd(a,b){Ed(b)?(b.C.e=b.g,b.g.C=b.C):Fd(b)?(b.C.g=b.g,b.g.C=b.C):(a.ba=b.g,a.ba.C=null);a=b.g;b.g=b.g.e;null!=b.g&&(b.g.C=b);a.e=b;b.C=a;a.i=b.i;b.i-=(a.g?a.g.i:0)+1}
function Dd(a,b){Ed(b)?(b.C.e=b.e,b.e.C=b.C):Fd(b)?(b.C.g=b.e,b.e.C=b.C):(a.ba=b.e,a.ba.C=null);a=b.e;b.e=b.e.g;null!=b.e&&(b.e.C=b);a.g=b;b.C=a;a.i=b.i;b.i-=(a.e?a.e.i:0)+1}
function xd(a,b){if(null!=b.e||null!=b.g){var c=null;if(null!=b.e){var d=Gd(a,b.e);vd(a,function(a){a.i--;return a.C},d);if(d!=b.e){if(d.C.g=d.e)d.e.C=d.C;d.e=b.e;d.e.C=d;c=d.C}d.C=b.C;d.g=b.g;d.g&&(d.g.C=d);b==a.wa&&(a.wa=d)}else{d=Bd(a,b.g);vd(a,function(a){a.i--;return a.C},d);if(d!=b.g){if(d.C.e=d.g)d.g.C=d.C;d.g=b.g;d.g.C=d;c=d.C}d.C=b.C;d.e=b.e;d.e&&(d.e.C=d);b==a.xa&&(a.xa=d)}d.i=b.i;Ed(b)?b.C.e=d:Fd(b)?b.C.g=d:a.ba=d;wd(a,c?c:d)}else vd(a,function(a){a.i--;return a.C},b.C),Ed(b)?(b.C.e=null,
b==a.xa&&(a.xa=b.C),wd(a,b.C)):Fd(b)?(b.C.g=null,b==a.wa&&(a.wa=b.C),wd(a,b.C)):yd(a)}function Bd(a,b){if(!b)return a.xa;var c=b;vd(a,function(a){var b=null;a.e&&(b=c=a.e);return b},b);return c}function Gd(a,b){if(!b)return a.wa;var c=b;vd(a,function(a){var b=null;a.g&&(b=c=a.g);return b},b);return c}function ud(a,b){this.value=a;this.C=b?b:null;this.i=1}ud.prototype.e=null;ud.prototype.g=null;ud.prototype.j=1;function Fd(a){return!!a.C&&a.C.g==a}function Ed(a){return!!a.C&&a.C.e==a};function Hd(){this.g=ModelServices;this.j=1;this.e=new rd;this.i=!1}function sd(a,b){var c=a.getTime(),d=b.getTime();return c==d?a.e-b.e:c-d}Hd.prototype.setTimeout=function(a,b){return Id(this,a,b,!1)};Hd.prototype.setTimeout=Hd.prototype.setTimeout;Hd.prototype.setInterval=function(a,b){return Id(this,a,b,!0)};Hd.prototype.setInterval=Hd.prototype.setInterval;
function Id(a,b,c,d){var e=a.g.getTime(),f=a.j++;e+=c;b=new Jd(f,b,e,d?c:null);d=Infinity;0<zd(a.e)&&(d=Bd(a.e).value.getTime());a.e.add(b);d>e&&!a.i&&a.g.startTimer(c);return f}Hd.prototype.clearTimeout=function(a){Kd(this,a)};Hd.prototype.clearTimeout=Hd.prototype.clearTimeout;Hd.prototype.clearInterval=function(a){Kd(this,a)};Hd.prototype.clearInterval=Hd.prototype.clearInterval;function Kd(a,b){var c=a.e.N(),d;for(d in c){var e=c[d];if(e.e==b){a.e.Gc(e);break}}}
Hd.prototype.invokeTimer=function(a){if(0==zd(this.e))return-1;var b=Bd(this.e).value;if(b.getTime()>a)return Math.max(0,b.getTime()-this.g.getTime());this.i=!0;try{b.execute()}catch(d){throw d;}a=!this.e.Gc(b);var c=b.Fd;null===c||a||this.e.add(Ld(b,this.g.getTime()+c));this.i=!1;if(0==zd(this.e))return-1;b=Bd(this.e).value;return Math.max(0,b.getTime()-this.g.getTime())};Hd.prototype.invokeTimer=Hd.prototype.invokeTimer;function Jd(a,b,c,d){this.g=b;this.e=a;this.i=c;this.Fd=d}
Jd.prototype.execute=function(){this.g.call()};Jd.prototype.getTime=n("i");function Ld(a,b){return new Jd(a.e,a.g,b,a.Fd)};var Md=[],Nd=[],Od=!1;function Pd(a){Md[Md.length]=a;if(Od)for(var b=0;b<Nd.length;b++)a(D(Nd[b].e,Nd[b]))};function Qd(){};function H(){this.I=this.I;this.B=this.B}H.prototype.I=!1;H.prototype.q=n("I");H.prototype.Z=function(){this.I||(this.I=!0,this.z())};function I(a,b){b=Ea(Rd,b);a.I?x(void 0)?b.call(void 0):b():(a.B||(a.B=[]),a.B.push(x(void 0)?D(b,void 0):b))}H.prototype.z=function(){if(this.B)for(;this.B.length;)this.B.shift()()};function Rd(a){a&&"function"==typeof a.Z&&a.Z()}function Sd(a){for(var b=0,c=arguments.length;b<c;++b){var d=arguments[b];wa(d)?Sd.apply(null,d):Rd(d)}};var Td=!Uc||9<=Number(hd),Ud=Uc&&!gd("9");!Yc||gd("528");Wc&&gd("1.9b")||Uc&&gd("8")||Tc&&gd("9.5")||Yc&&gd("528");Wc&&!gd("8")||Uc&&gd("9");var Vd=function(){if(!v.$a||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});v.$a("test",ta,b);v.Oc("test",ta,b);return a}();function J(a,b){this.type=a;this.e=this.ea=b;this.cd=!1;this.Id=!0}J.prototype.Fb=function(){this.cd=!0;this.Id=!1};function Wd(a,b){J.call(this,a?a.type:"");this.Cd=this.e=this.ea=null;this.Oa="";this.Fa=0;this.hc=!1;this.g=null;if(a){var c=this.type=a.type;this.ea=a.ea||a.ag;this.e=b;if(b=a.Cd){if(Wc){a:{try{Pc(b.nodeName);var d=!0;break a}catch(e){}d=!1}d||(b=null)}}else"mouseover"==c?b=a.Ff:"mouseout"==c&&(b=a.cg);this.Cd=b;this.Fa=a.Fa||0;this.Oa=a.Oa||"";this.hc=a.hc;this.g=a;a.cd&&this.Fb()}}F(Wd,J);
Wd.prototype.Fb=function(){Wd.G.Fb.call(this);var a=this.g;if(a.Fb)a.Fb();else if(a.Pc=!1,Ud)try{if(a.hc||112<=a.Fa&&123>=a.Fa)a.Fa=-1}catch(b){}};var Xd="closure_listenable_"+(1E6*Math.random()|0);function Yd(a){return!(!a||!a[Xd])}var Zd=0;function $d(a,b,c,d,e){this.Pa=a;this.e=null;this.src=b;this.type=c;this.va=!!d;this.Ub=e;this.Oa=++Zd;this.ob=this.Ja=!1}function ae(a){a.ob=!0;a.Pa=null;a.e=null;a.src=null;a.Ub=null};function be(a){this.src=a;this.e={};this.g=0}be.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.e[f];a||(a=this.e[f]=[],this.g++);var h=ce(a,b,d,e);-1<h?(b=a[h],c||(b.Ja=!1)):(b=new $d(b,this.src,f,!!d,e),b.Ja=c,a.push(b));return b};function de(a,b){var c=b.type;c in a.e&&Wa(a.e[c],b)&&(ae(b),0==a.e[c].length&&(delete a.e[c],a.g--))}be.prototype.zb=function(a,b,c,d){a=this.e[a.toString()];var e=-1;a&&(e=ce(a,b,c,d));return-1<e?a[e]:null};
function ce(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.ob&&f.Pa==b&&f.va==!!c&&f.Ub==d)return e}return-1};var ee="closure_lm_"+(1E6*Math.random()|0),fe={},ge=0;function he(a,b,c,d,e){if(d&&d.Tf)return ie(a,b,c,d,e);if(va(b)){for(var f=0;f<b.length;f++)he(a,b[f],c,d,e);return null}c=je(c);return Yd(a)?a.ia(b,c,za(d)?!!d.va:!!d,e):ke(a,b,c,!1,d,e)}
function ke(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var h=za(e)?!!e.va:!!e,l=le(a);l||(a[ee]=l=new be(a));c=l.add(b,c,d,h,f);if(c.e)return c;d=me();c.e=d;d.src=a;d.Pa=c;if(a.$a)Vd||(e=h),void 0===e&&(e=!1),a.$a(b.toString(),d,e);else if(a.Rd)a.Rd(ne(b.toString()),d);else if(a.Zc&&a.Ed)a.Zc(d);else throw Error("addEventListener and attachEvent are unavailable.");ge++;return c}
function me(){var a=oe,b=Td?function(c){return a.call(b.src,b.Pa,c)}:function(c){c=a.call(b.src,b.Pa,c);if(!c)return c};return b}function ie(a,b,c,d,e){if(va(b)){for(var f=0;f<b.length;f++)ie(a,b[f],c,d,e);return null}c=je(c);return Yd(a)?a.kb(b,c,za(d)?!!d.va:!!d,e):ke(a,b,c,!0,d,e)}function pe(a,b,c,d,e){if(va(b))for(var f=0;f<b.length;f++)pe(a,b[f],c,d,e);else d=za(d)?!!d.va:!!d,c=je(c),Yd(a)?a.$b(b,c,d,e):a&&(a=le(a))&&(b=a.zb(b,c,d,e))&&qe(b)}
function qe(a){if(!pa(a)&&a&&!a.ob){var b=a.src;if(Yd(b))de(b.i,a);else{var c=a.type,d=a.e;b.Oc?b.Oc(c,d,a.va):b.Ud?b.Ud(ne(c),d):b.Zc&&b.Ed&&b.Ed(d);ge--;(c=le(b))?(de(c,a),0==c.g&&(c.src=null,b[ee]=null)):ae(a)}}}function ne(a){return a in fe?fe[a]:fe[a]="on"+a}function se(a,b,c,d){var e=!0;if(a=le(a))if(b=a.e[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.va==c&&!f.ob&&(f=te(f,d),e=e&&!1!==f)}return e}
function te(a,b){var c=a.Pa,d=a.Ub||a.src;a.Ja&&qe(a);return c.call(d,b)}function oe(a,b){if(a.ob)return!0;if(!Td){var c=b||ra("window.event");b=new Wd(c,this);var d=!0;if(!(0>c.Fa||void 0!=c.Pc)){a:{var e=!1;if(0==c.Fa)try{c.Fa=-1;break a}catch(h){e=!0}if(e||void 0==c.Pc)c.Pc=!0}c=[];for(e=b.e;e;e=e.Wf)c.push(e);a=a.type;for(e=c.length-1;0<=e;e--){b.e=c[e];var f=se(c[e],a,!0,b);d=d&&f}for(e=0;e<c.length;e++)b.e=c[e],f=se(c[e],a,!1,b),d=d&&f}return d}return te(a,new Wd(b,this))}
function le(a){a=a[ee];return a instanceof be?a:null}var ue="__closure_events_fn_"+(1E9*Math.random()>>>0);function je(a){if(ya(a))return a;a[ue]||(a[ue]=function(b){return a.Ea(b)});return a[ue]}Pd(function(a){oe=a(oe)});function K(){H.call(this);this.i=new be(this);this.ga=this;this.K=null}F(K,H);K.prototype[Xd]=!0;q=K.prototype;q.$a=function(a,b,c,d){he(this,a,b,c,d)};q.Oc=function(a,b,c,d){pe(this,a,b,c,d)};
function ve(a,b){var c=a.K;if(c){var d=[];for(var e=1;c;c=c.K)d.push(c),++e}a=a.ga;c=b.type||b;A(b)?b=new J(b,a):b instanceof J?b.ea=b.ea||a:(e=b,b=new J(c,a),Bb(b,e));e=!0;if(d)for(var f=d.length-1;0<=f;f--){var h=b.e=d[f];e=we(h,c,!0,b)&&e}h=b.e=a;e=we(h,c,!0,b)&&e;e=we(h,c,!1,b)&&e;if(d)for(f=0;f<d.length;f++)h=b.e=d[f],e=we(h,c,!1,b)&&e}q.z=function(){K.G.z.call(this);if(this.i){var a=this.i,b=0,c;for(c in a.e){for(var d=a.e[c],e=0;e<d.length;e++)++b,ae(d[e]);delete a.e[c];a.g--}}this.K=null};
q.ia=function(a,b,c,d){return this.i.add(String(a),b,!1,c,d)};q.kb=function(a,b,c,d){return this.i.add(String(a),b,!0,c,d)};q.$b=function(a,b,c,d){var e=this.i;a=String(a).toString();if(a in e.e){var f=e.e[a];b=ce(f,b,c,d);-1<b&&(ae(f[b]),Array.prototype.splice.call(f,b,1),0==f.length&&(delete e.e[a],e.g--))}};
function we(a,b,c,d){b=a.i.e[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var h=b[f];if(h&&!h.ob&&h.va==c){var l=h.Pa,k=h.Ub||h.src;h.Ja&&de(a.i,h);e=!1!==l.call(k,d)&&e}}return e&&0!=d.Id}q.zb=function(a,b,c,d){return this.i.zb(String(a),b,c,d)};function xe(a){var b=[];ye(new ze,a,b);return b.join("")}function ze(){}
function ye(a,b,c){if(null==b)c.push("null");else{if("object"==typeof b){if(va(b)){var d=b;b=d.length;c.push("[");for(var e="",f=0;f<b;f++)c.push(e),ye(a,d[f],c),e=",";c.push("]");return}if(b instanceof String||b instanceof Number||b instanceof Boolean)b=b.valueOf();else{c.push("{");e="";for(d in b)Object.prototype.hasOwnProperty.call(b,d)&&(f=b[d],"function"!=typeof f&&(c.push(e),Ae(d,c),c.push(":"),ye(a,f,c),e=","));c.push("}");return}}switch(typeof b){case "string":Ae(b,c);break;case "number":c.push(isFinite(b)&&
!isNaN(b)?String(b):"null");break;case "boolean":c.push(String(b));break;case "function":c.push("null");break;default:throw Error("Unknown type: "+typeof b);}}}var Be={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\u000b"},Ce=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;
function Ae(a,b){b.push('"',a.replace(Ce,function(a){var b=Be[a];b||(b="\\u"+(a.charCodeAt(0)|65536).toString(16).substr(1),Be[a]=b);return b}),'"')};function De(){this.q=0;this.e={}}F(De,Ja);De.prototype.g=function(){var a=this.q++,b=new Ee(a,D(this.k,this,a));return this.e[a]=b};De.prototype.j=function(){return{}};De.prototype.k=function(a){delete this.e[a]};function Ee(a,b){K.call(this);this.Sc=this.ua=0;this.Gb="";this.Xb=null;this.l=a;this.v=b;this.g={};this.e={};this.o=this.n="";this.j=this.k=!1}F(Ee,K);q=Ee.prototype;q.ec=0;q.Wc=1;q.rb=4;
function Fe(a,b,c,d,e){d&&(a.Gb+=d);if(e){d=JSON.parse(e);a.e={};for(var f in d)a.e[f.toLowerCase()]=d[f]}a.ua!=a.rb&&a.ua!=a.ec&&(a.ua=b,a.Sc=c,Ge(a),b==a.rb&&a.v())}q.open=function(a,b,c){if(this.ua!=this.ec)throw this.Ia(),Error("Error reopening a connection");this.n=a.toString();this.o=b.toString();this.k=c||!1;this.ua=this.Wc;Ge(this)};q.Jd=function(a,b){var c=this.g;c[a]=c[a]?c[a]+", "+b:b.toString()};
q.T=function(a){var b=xe(this.g);this.j=!0;ModelServices.sendHttpRequest(this.l,this.n,this.o,b,this.k,(a||"").toString())};q.Ia=function(){ModelServices.abortHttpRequest(this.l);this.Gb="";this.g={};this.Sc=0;this.ua>=this.Wc&&this.j&&this.ua!=this.rb&&(this.ua=this.rb,this.j=!1,Ge(this));this.ua=this.ec;this.v()};q.Sb=function(a){return(a=this.e[a.toLowerCase()])&&"string"==typeof a?a:null};
q.Rb=function(){var a=this.e,b="",c;for(c in a)"string"==typeof c&&"string"==typeof a[c]&&(b+=c+": "+a[c]+"\r\n");return b};function Ge(a){a.Xb&&a.Xb.call(a)};function He(a,b){this.i=a;this.j=b;this.g=0;this.e=null}He.prototype.get=function(){if(0<this.g){this.g--;var a=this.e;this.e=a.next;a.next=null}else a=this.i();return a};He.prototype.ya=function(a){this.j(a);100>this.g&&(this.g++,a.next=this.e,this.e=a)};function Ie(a){v.setTimeout(function(){throw a;},0)}var Je;
function Ke(){var a=v.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.$a&&!G("Presto")&&(a=function(){var a={};a.style.Cf="none";a.src="";var b=a.vf;a=b.document;a.open();a.ka("");a.close();var c="callImmediate"+Math.random(),d="file:"==b.location.Yb?"*":b.location.Yb+"//"+b.location.Pe;a=D(function(a){"*"!=d&&a.Vf!=d||a.data!=c||this.port1.Te()},this);b.$a("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==
typeof a&&!G("Trident")&&!G("MSIE")){var b=new a,c={},d=c;b.port1.Te=function(){if(x(c.next)){c=c.next;var a=c.ad;c.ad=null;a()}};return function(a){d.next={ad:a};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof ma&&"onreadystatechange"in{}?g():function(a){v.setTimeout(a,0)}}function Le(a){return a}Pd(function(a){Le=a});function Me(){this.g=this.e=null}var Oe=new He(function(){return new Ne},function(a){a.reset()});Me.prototype.add=function(a,b){var c=Oe.get();c.set(a,b);this.g?this.g.next=c:this.e=c;this.g=c};function Pe(){var a=Qe,b=null;a.e&&(b=a.e,a.e=a.e.next,a.e||(a.g=null),b.next=null);return b}function Ne(){this.next=this.g=this.e=null}Ne.prototype.set=function(a,b){this.e=a;this.g=b;this.next=null};Ne.prototype.reset=function(){this.next=this.g=this.e=null};function Se(a,b){Te||Ue();Ve||(Te(),Ve=!0);Qe.add(a,b)}var Te;function Ue(){if(v.cc&&v.cc.resolve){var a=v.cc.resolve(void 0);Te=function(){a.then(We)}}else Te=function(){var a=We;a=Le(a);!ya(v.Rc)||v.Xc&&v.Xc.prototype&&!G("Edge")&&v.Xc.prototype.Rc==v.Rc?(Je||(Je=Ke()),Je(a)):v.Rc(a)}}var Ve=!1,Qe=new Me;function We(){for(var a;a=Pe();){try{a.e.call(a.g)}catch(b){Ie(b)}Oe.ya(a)}Ve=!1};function Xe(a){a.prototype.then=a.prototype.then;a.prototype.$goog_Thenable=!0}function Ye(a){if(!a)return!1;try{return!!a.$goog_Thenable}catch(b){return!1}};function Ze(a,b){this.e=0;this.l=void 0;this.j=this.g=this.i=null;this.k=this.q=!1;if(a!=ta)try{var c=this;a.call(b,function(a){$e(c,2,a)},function(a){$e(c,3,a)})}catch(d){$e(this,3,d)}}function af(){this.next=this.j=this.g=this.k=this.e=null;this.i=!1}af.prototype.reset=function(){this.j=this.g=this.k=this.e=null;this.i=!1};var bf=new He(function(){return new af},function(a){a.reset()});function cf(a,b,c){var d=bf.get();d.k=a;d.g=b;d.j=c;return d}
function df(a){if(a instanceof Ze)return a;var b=new Ze(ta);$e(b,2,a);return b}function ef(a,b,c){ff(a,b,c,null)||Se(Ea(b,a))}function gf(a){return new Ze(function(b,c){var d=a.length,e=[];if(d)for(var f=function(a,c){d--;e[a]=c;0==d&&b(e)},h=function(a){c(a)},l=0,k;l<a.length;l++)k=a[l],ef(k,Ea(f,l),h);else b(e)})}
function hf(a){return new Ze(function(b){var c=a.length,d=[];if(c)for(var e=function(a,e,f){c--;d[a]=e?{ld:!0,value:f}:{ld:!1,reason:f};0==c&&b(d)},f=0,h;f<a.length;f++)h=a[f],ef(h,Ea(e,f,!0),Ea(e,f,!1));else b(d)})}function jf(){var a,b,c=new Ze(function(c,e){a=c;b=e});return new kf(c,a,b)}Ze.prototype.then=function(a,b,c){return lf(this,ya(a)?a:null,ya(b)?b:null,c)};Xe(Ze);function mf(a,b){b=cf(b,b,void 0);b.i=!0;of(a,b)}function pf(a){0==a.e&&Se(function(){var a=new rf(void 0);sf(this,a)},a)}
function sf(a,b){if(0==a.e)if(a.i){var c=a.i;if(c.g){for(var d=0,e=null,f=null,h=c.g;h&&(h.i||(d++,h.e==a&&(e=h),!(e&&1<d)));h=h.next)e||(f=h);e&&(0==c.e&&1==d?sf(c,b):(f?(d=f,d.next==c.j&&(c.j=d),d.next=d.next.next):vf(c),wf(c,e,3,b)))}a.i=null}else $e(a,3,b)}function of(a,b){a.g||2!=a.e&&3!=a.e||xf(a);a.j?a.j.next=b:a.g=b;a.j=b}
function lf(a,b,c,d){var e=cf(null,null,null);e.e=new Ze(function(a,h){e.k=b?function(c){try{var e=b.call(d,c);a(e)}catch(p){h(p)}}:a;e.g=c?function(b){try{var e=c.call(d,b);!x(e)&&b instanceof rf?h(b):a(e)}catch(p){h(p)}}:h});e.e.i=a;of(a,e);return e.e}Ze.prototype.I=function(a){this.e=0;$e(this,2,a)};Ze.prototype.n=function(a){this.e=0;$e(this,3,a)};
function $e(a,b,c){0==a.e&&(a===c&&(b=3,c=new TypeError("Promise cannot resolve to itself")),a.e=1,ff(c,a.I,a.n,a)||(a.l=c,a.e=b,a.i=null,xf(a),3!=b||c instanceof rf||yf(a,c)))}function ff(a,b,c,d){if(a instanceof Ze)return of(a,cf(b||ta,c||null,d)),!0;if(Ye(a))return a.then(b,c,d),!0;if(za(a))try{var e=a.then;if(ya(e))return zf(a,e,b,c,d),!0}catch(f){return c.call(d,f),!0}return!1}
function zf(a,b,c,d,e){function f(a){l||(l=!0,d.call(e,a))}function h(a){l||(l=!0,c.call(e,a))}var l=!1;try{b.call(a,h,f)}catch(k){f(k)}}function xf(a){a.q||(a.q=!0,Se(a.B,a))}function vf(a){var b=null;a.g&&(b=a.g,a.g=b.next,b.next=null);a.g||(a.j=null);return b}Ze.prototype.B=function(){for(var a;a=vf(this);)wf(this,a,this.e,this.l);this.q=!1};
function wf(a,b,c,d){if(3==c&&b.g&&!b.i)for(;a&&a.k;a=a.i)a.k=!1;if(b.e)b.e.i=null,Af(b,c,d);else try{b.i?b.k.call(b.j):Af(b,c,d)}catch(e){Bf.call(null,e)}bf.ya(b)}function Af(a,b,c){2==b?a.k.call(a.j,c):a.g&&a.g.call(a.j,c)}function yf(a,b){a.k=!0;Se(function(){a.k&&Bf.call(null,b)})}var Bf=Ie;function rf(a){Ia.call(this,a)}F(rf,Ia);rf.prototype.name="cancel";function kf(a,b,c){this.g=a;this.resolve=b;this.e=c};function Cf(a,b){K.call(this);this.k=a||1;this.g=b||Df;this.l=D(this.o,this);this.n=E()}F(Cf,K);Cf.prototype.j=!1;var Df=v;Cf.prototype.e=null;Cf.prototype.setInterval=function(a){this.k=a;this.e&&this.j?(Ef(this),Ff(this)):this.e&&Ef(this)};Cf.prototype.o=function(){if(this.j){var a=E()-this.n;0<a&&a<.8*this.k?this.e=this.g.setTimeout(this.l,this.k-a):(this.e&&(this.g.clearTimeout(this.e),this.e=null),ve(this,"tick"),this.j&&(this.e=this.g.setTimeout(this.l,this.k),this.n=E()))}};
function Ff(a){a.j=!0;a.e||(a.e=a.g.setTimeout(a.l,a.k),a.n=E())}function Ef(a){a.j=!1;a.e&&(a.g.clearTimeout(a.e),a.e=null)}Cf.prototype.z=function(){Cf.G.z.call(this);Ef(this);delete this.g};function Gf(a,b,c){if(ya(a))c&&(a=D(a,c));else if(a&&"function"==typeof a.Ea)a=D(a.Ea,a);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:Df.setTimeout(a,b||0)};function Hf(){this.g=new Hd;this.e=new De}var If=null;
function Jf(a){var b=ModelServices.getTime,c=If.g;La=If.e;E=b;Df=c;setTimeout=function(a,b){return Df.setTimeout(a,b)};clearTimeout=function(a){Df.clearTimeout(a)};setInterval=function(a,b){return Df.setInterval(a,b)};clearInterval=function(a){Df.clearInterval(a)};window.setTimeout=setTimeout;window.clearTimeout=clearTimeout;window.setInterval=setInterval;window.clearInterval=clearInterval;a&&(window.cc=Promise);v.window=window;v.Qc=window;v.USE_V8=!0;v.JSON=JSON}q=Hf.prototype;
q.handleHttpDataBatch=function(a,b,c,d,e,f){if(d=this.e.e[a])Fe(d,b,c,e,f);else throw Error("XMLHttpRelay: non-existent stream id="+a);};q.handleHttpRequestFailure=function(a,b){var c=this.e.e[a];if(c)Fe(c,c.rb,b,"","{}");else throw Error("XMLHttpRelay: non-existent stream id="+a);};q.invokeTimer=function(a){return this.g.invokeTimer(a)};function Lf(a){If||(v=window,If=new Hf,Jf(a),a=If,la={},Object.defineProperty(la,"onLine",{get:D(a.fe,a)}),window.navigator=la,v.navigator=la);return If}
q.configureLocation=function(a){a=new qc(a);var b=a.e;a.k&&(b+=":"+a.k);window.location={Pe:b,Jf:a.e,href:a.toString(),Xf:a.g,Yb:a.j,search:uc(a.i.toString())}};q.setOnlineDetector=function(a){a&&(this.i=new Ic(a))};q.fe=function(){return this.i?this.i.isOnline():!0};qa("createV8Bootstrap",function(){return Lf()});qa("createV8BootstrapWithNativePromise",function(){return Lf(!0)});function Mf(a){return Sc(a.prototype,"$$generatedClassName",function(){return"Class$obf_"+{valueOf:function(){return++Nf}}})}function Of(a){function b(){return c.apply(b,arguments)}var c=Pf.prototype.e;Qf(a,b);return b}var Nf=1E3;function Rf(){}Rf.prototype.Ma=function(a){return Sf(this,a)};Rf.prototype.A=function(){return Tf(this)};Rf.prototype.toString=function(){return L(Uf(Vf(this.constructor)))+"@"+L((this.A()>>>0).toString(16))};function Wf(){this.g=null;this.k=!1;this.e=null}t(Wf,Rf);function Xf(a,b){Zf(a);a.g=b;$f(a);ag(a)}function ag(a){var b;null==a.g?b=null:b=a.g.replace(/\n/g,"\u200b\n");b=bg(a,b);b=a.q(b);if(!("stack"in b))try{throw b;}catch(c){}cg(a,b)}Wf.prototype.q=function(a){return Error(a)};function cg(a,b){a.e=b;if(null!=b)try{b.__java$exception=a}catch(c){}}function $f(a){a.k&&("__noinit__"===a.e||ag(a))}Wf.prototype.i=n("g");Wf.prototype.toString=function(){return bg(this,this.i())};
function bg(a,b){a=Uf(Vf(a.constructor));return null==b?a:L(a)+": "+L(b)}function dg(a){if(null!=a){var b=a.__java$exception;if(null!=b)return b}a instanceof TypeError?(b=new eg,Zf(b),$f(b),cg(b,a),b.g=L(a),a=b):(b=new fg,Zf(b),$f(b),cg(b,a),b.g=L(a),a=b);return a}function Zf(a){a.k=!0;a.e="__noinit__"};function hg(){Wf.call(this)}t(hg,Wf);function ig(){Wf.call(this)}t(ig,hg);function jg(a){var b=new ig;Xf(b,a);return b};function Sf(a,b){return a===b||null==a&&null==b};function kg(a){return Math.max(Math.min(a,2147483647),-2147483648)|0};var lg;function Tf(a){return a.Vc||(Object.defineProperties(a,{Vc:{value:++mg,enumerable:!1}}),a.Vc)}var mg=0;function ng(){Wf.call(this)}t(ng,ig);function og(a){var b=new ng;Xf(b,a);return b};function fg(){Wf.call(this)}t(fg,ig);function eg(){Wf.call(this)}t(eg,fg);eg.prototype.q=function(a){return new TypeError(a)};function pg(){this.V=null}t(pg,Rf);pg.prototype.toString=n("V");function qg(a,b){return"string"==typeof a?a.charCodeAt(b):a.V.charCodeAt(b)};function rg(){this.V=null}t(rg,pg);function sg(){Wf.call(this)}t(sg,ig);function tg(a){var b=new sg;Xf(b,a);return b};function ug(a){return 56320<=a&&57343>=a};function vg(){Wf.call(this)}t(vg,sg);var wg,xg;function yg(){yg=g();xg=new Rf;zg=0;wg=new Rf}var zg=0;function Ag(a){switch(typeof a){case "string":yg();var b=":"+L(a);var c=wg[b];if(null!=c)b=kg(c);else{c=xg[b];if(null==c){var d=0;c=a.length;for(var e=c-4,f=0;f<e;)d=a.charCodeAt(f+3)+31*(a.charCodeAt(f+2)+31*(a.charCodeAt(f+1)+31*(a.charCodeAt(f)+31*d))),d|=0,f+=4;for(;f<c;)d*=31,e=f++,d+=a.charCodeAt(e);a=d|0}else a=kg(c);256==zg&&(xg=wg,wg=new Rf,zg=0);++zg;b=wg[b]=a}return b;case "number":return kg(a);case "boolean":return a?1231:1237;default:return null==a?0:Tf(a)}};function L(a){if(null==a)a="null";else if(a instanceof Array){var b=a.lf;a=Uf(b?Vf(b.Nf,b.Bf):Vf(Rf,1))+"@"+(Tf(a)>>>0).toString(16)}else a=a.toString();return a}function Bg(a,b){var c=a.length,d=qg(a,b++),e,f;55296<=d&&56319>=d&&b<c&&ug(e=qg(a,b))?f=65536+((d&1023)<<10)+(e&1023):f=d;return f};function Cg(a,b){this.g=a;this.e=b}t(Cg,Rf);function Uf(a){var b=Mf(a.g);0!=a.e&&(b="L"+L(b)+";");return L(Dg("[",a.e))+L(b)}Cg.prototype.toString=function(){return"class "+L(Uf(this))};function Dg(a,b){for(var c="",d=0;d<b;d++)c=L(c)+L(a);return c}function Vf(a,b){var c=b||0;return Sc(a.prototype,"$$class/"+c,function(){return new Cg(a,c)})};function Eg(a,b){if(!a)throw og(L(b)).e;}function Fg(a,b){a=L(a);b=null==b?["(Object[])null"]:b;var c=new rg;c.V="";for(var d=0,e=0;e<b.length;){var f=a.indexOf("%s",d);if(-1==f)break;var h=a,l=d,k=f;d=L(c.V);h=L(h).substr(l,k-l);c.V=d+L(h);h=b[e++];c.V=L(c.V)+L(h);d=f+2}f=a;h=d;d=a.length;a=L(c.V);f=L(f).substr(h,d-h);c.V=a+L(f);if(e<b.length){c.V=L(c.V)+" [";a=b[e++];for(c.V=L(c.V)+L(a);e<b.length;)c.V=L(c.V)+", ",a=b[e++],c.V=L(c.V)+L(a);c.V=L(c.V)+String.fromCharCode(93)}return c.toString()};function Gg(a,b){a.push(b)};var Hg;function Ig(){Ig=g();Hg=new Jg(null)};function Jg(a){this.e=new Kg;if(null!=a)for(var b in a){var c=b,d=a[b];this.e.get()[c]=d}}t(Jg,Rf);function M(){return Ig(),Hg}Jg.prototype.get=function(a){return this.e.get()[a]};function Lg(a,b){a=a.e.get();return b in a}function N(a,b){a=a.get(b);return"string"==typeof a?"true"==a||"1"==a:!!a}
function Mg(a){var b=M();if(!Lg(b,a)||null==b.get(a))return NaN;try{var c=L(b.get(a));null==lg&&(lg=/^\s*[+-]?(NaN|Infinity|((\d+\.?\d*)|(\.\d+))([eE][+-]?\d+)?[dDfF]?)\s*$/);if(!lg.test(c)){var d='For input string: "'+L(c)+'"',e=new vg;Xf(e,d);throw e.e;}return parseFloat(c)}catch(f){f=dg(f);if(f instanceof vg)return NaN;throw f.e;}}function Ng(a){var b=M();if(!Lg(b,a))return"";a=b.get(a);return null==a?"":"number"===typeof a&&kg(a)==kg(a)?""+kg(a):L(a)}
function Og(a,b){var c={};if(!Lg(a,b))return c;a=a.get(b);return null!=a?a:c};function Kg(){this.e=null}t(Kg,Rf);Kg.prototype.get=function(){null==this.e&&(this.e=v._docs_flag_initialData||{});return this.e};function Pg(a){this.e=a}Pg.prototype.oa=n("e");function Qg(){}t(Qg,Rf);Qg.prototype.e=function(a){if(null==a)throw a=new eg,Xf(a,"can't identity hash null"),a.e;return":"+Ag(a)};var Rg;function Sg(){Tg();return Rg}function Tg(){Tg=g();Rg=new Qg};function Ug(a){for(var b=[],c=0;c<a.length;c++)b.push(new Vg(a[c]));return b};function Wg(){}t(Wg,Rf);function Xg(a,b,c,d){this.i=a;this.g=b;this.j=c;this.e=d||0}Xg.prototype.S=n("i");Xg.prototype.oa=n("g");function Yg(a,b){this.e=x(a)?a:0;this.g=x(b)?b:""};function Zg(){var a=void 0===a?mb:a;var b=a(2147483647).toString(16);b=Nb("0",Math.max(0,8-b.length))+b;return a(2147483647).toString(16)+b};function $g(a,b){return Sg().e(b)in a};function ah(){this.j=!1}t(ah,Rf);ah.prototype.Z=function(){if(!this.j){this.j=!0;this.g();var a=Vf(this.constructor);L(Mf(a.g));L(Dg("[]",a.e))}};ah.prototype.q=n("j");ah.prototype.g=g();function bh(a,b){this.g=a<b?a:b;this.e=a<b?b:a}bh.prototype.R=function(){return new bh(this.g,this.e)};function ch(a){for(var b="",c=0;c<a.length;c++){var d=Bg(a,c),e=!1,f=a.charCodeAt(c),h=ug(a.charCodeAt(c));55296<=f&&56319>=f?e=!(65536<=d&&1114111>=d):h&&(0<c?(e=Bg(a,c-1),e=!(65536<=e&&1114111>=e)):e=!0);e&&(b=L(b)+String("\\u"+L((d>>>0).toString(16))))}return b};function Pf(){this.Lb=this.Pb=null}t(Pf,Rf);Pf.prototype.e=function(a){this.Pb.Zb(this);var b=this.Lb;b(a)};function Qf(a,b){b.Pb=a.Pb;b.Lb=a.Lb;b.mf=!0};function P(){this.j=!1;this.e={};this.i=null}t(P,ah);function dh(a,b){if(null==b)throw a=new eg,Zf(a),$f(a),ag(a),a.e;if($g(a.e,b))throw og(Fg("Observer %s previously registered.",[b])).e;var c=a.e;var d=Sg().e(b);c[d]=b;a.i=null;return b}P.prototype.Zb=function(a){if(!$g(this.e,a))throw tg(Fg("Trying to remove inexistant Observer %s.",[a])).e;a=Sg().e(a);delete this.e[a];this.i=null};P.prototype.g=function(){ah.prototype.g.call(this);var a=this.e,b;for(b in a)delete a[b];this.i=null};
function Q(a,b){if(null==a.i){var c=a.e,d=[],e;for(e in c)d.push(c[e]);a.i=d}a=a.i;for(c=0;c<a.length;c++)(0,a[c])(b)};function eh(a,b,c,d){this.e=a;this.g=b;this.j=c;this.i=d}var fh=null;function gh(){if(!fh){var a=M();N(a,"docs-text-ewf");var b=N(a,"docs-efsd"),c=N(a,"docs-fse");N(a,"docs-efpsf");var d=N(a,"docs-enlsae");N(a,"docs-ejsfawf");N(a,"docs-eksfawf");fh=new eh(b,c,d,null)}return fh};function hh(){return gh().e?"*":"latin"};function ih(a,b){this.e=a;this.g=b}ih.prototype.getFontFamily=n("e");ih.prototype.M=n("g");function jh(a){return"Font|"+a.e+"|"+a.g};function kh(a,b){this.e=a;this.g=b}function lh(a){var b=a,c=400;a=a.split(";");a.length&&(b=a[0]);2==a.length&&(a=Number(a[1]))&&(c=a);return new kh(b,c)}function mh(a){return Qa(a,function(a){return lh(a)})};function nh(a,b,c){this.e=a;this.g=b;this.i=c}function oh(a,b){a=a.split(";");return new nh(a[0],a[2]||b,parseInt(a[1],10)||400)}function ph(a,b){return Qa(a,function(a){return oh(a,b)})}function qh(a,b){for(var c=[],d=0;d<a.length;d++)for(var e=0;e<b.length;e++)c.push(new nh(a[d].e,b[e],a[d].g));return c};function rh(){this.e=[]}rh.prototype.g=!1;function sh(a,b){for(var c=0;c<a.e.length;++c){var d=b,e=a.e[c];a.g&&(d.e=[],d.g=!0);d.e.push(e);a.g=!1}a.e=[]}function th(a){var b=a.e;a.e=[];a.g=!1;return b}rh.prototype.J=function(){return 0==this.e.length};function uh(a){this.e=a};function vh(a,b,c){this.e=a;this.k=b;this.g=c}F(vh,uh);function wh(a,b,c,d){vh.call(this,"append-commands",a,b);this.i=c;this.j=d}F(wh,vh);function xh(){this.e=("undefined"==typeof ma?null:ma)||{bb:""}}q=xh.prototype;q.set=function(a,b,c,d,e,f){if(/[;=\s]/.test(a))throw Error('Invalid cookie name "'+a+'"');if(/[;\r\n]/.test(b))throw Error('Invalid cookie value "'+b+'"');x(c)||(c=-1);e=e?";domain="+e:"";d=d?";path="+d:"";f=f?";secure":"";c=0>c?"":0==c?";expires="+(new Date(1970,1,1)).toUTCString():";expires="+(new Date(E()+1E3*c)).toUTCString();this.e.bb=a+"="+b+e+d+c+f};
q.get=function(a,b){for(var c=a+"=",d=(this.e.bb||"").split(";"),e=0,f;e<d.length;e++){f=Cb(d[e]);if(0==f.lastIndexOf(c,0))return f.substr(c.length);if(f==a)return""}return b};q.ma=function(){return yh(this).keys};q.N=function(){return yh(this).values};q.J=function(){return!this.e.bb};q.P=function(){return this.e.bb?(this.e.bb||"").split(";").length:0};q.Ca=function(a){for(var b=yh(this).values,c=0;c<b.length;c++)if(b[c]==a)return!0;return!1};
function yh(a){a=(a.e.bb||"").split(";");for(var b=[],c=[],d,e,f=0;f<a.length;f++)e=Cb(a[f]),d=e.indexOf("="),-1==d?(b.push(""),c.push(e)):(b.push(e.substring(0,d)),c.push(e.substring(d+1)));return{keys:b,values:c}}var zh=new xh;zh.g=3950;function Ah(){this.g=zh;this.e=!1};function Bh(a){Wf.call(this);Xf(this,a)}t(Bh,hg);Bh.prototype.$=n("e");Bh.prototype.i=function(){return hg.prototype.i.call(this)};Fa(g(),Qd.prototype);function Ch(a){this.e={};this.i=a||new Ah;this.setTime=this.g;this.incrementTime=this.j;this.setServerValues=this.k}var Dh=null;Ch.prototype.g=function(a){Eh(this,a,E())};Ch.prototype.getTime=function(a){a=this.e[a];return null!=a?a:null};Ch.prototype.j=function(a,b){null!=this.e[a]||(this.e[a]=0);this.e[a]+=b};function Eh(a,b,c){if(null!=a.e[b])throw Error("Field "+b+" is already set.");a.e[b]=c}
Ch.prototype.k=function(a){if(!N(M(),"icso")){if(a)for(var b in a)Eh(this,b,a[b]);a="";if(!this.i.e){b=this.i;if(b.e)throw Error("GfeRoundTripTimeProvider was called more than once");b.e=!0;a=b.g.get("GFE_RTT");b=b.g;b.get("GFE_RTT");b.set("GFE_RTT","",0,"/",".docs.google.com");a=a?a:null}isFinite(a)&&(a=String(a));a=A(a)?/^\s*-?0x/i.test(a)?parseInt(a,16):parseInt(a,10):NaN;isNaN(a)||Eh(this,"gfertt",a);Eh(this,"sldummy",0)}};function Fh(){Dh||(Dh=new Ch);return Dh}v._getTimingInstance=Fh;
v._docsTiming=Ch;function Gh(){H.call(this);this.e=Fh()}F(Gh,H);function Hh(a,b,c){Bh.call(this,"Local storage error: "+b);this.type=a;this.j=c||null}t(Hh,Bh);function Ih(a){return"Failed to write to localstore ("+a.type+"): "+hg.prototype.i.call(a)}function Jh(a){return(a=a.j&&a.j instanceof Event?a.j.ea:null)?a.error:null};function Kh(){H.call(this);Fh()}F(Kh,H);function Lh(a,b){H.call(this);this.g=b;this.e=new Gh(this.g);new Kh("mr")}F(Lh,H);function Mh(a,b){this.e=a;this.g=b};function Nh(a,b){b.push(a);for(var c=0;c<a.length;c++)if(va(a[c])){if(N(M(),"docs-anlpfdo"))Oa(b,a[c]);else if(0<=Oa(b,a[c]))throw Error("Circular reference detected");Nh(a[c],b)}b.pop()}function Oh(a,b,c){if(a.length!=b.length)return!1;c=c||db;for(var d=0;d<a.length;d++)if(!c(a[d],b[d]))if(va(a[d])&&va(b[d])){if(!Oh(a[d],b[d],c))return!1}else return!1;return!0};function Ph(a,b){if(a==b)return!0;if(!za(a)||!za(b))return!1;var c=vb(a);if(c.length!=vb(b).length)return!1;for(var d=Qh||db,e=0;e<c.length;e++){var f=c[e];if(!(f in b&&d(a[f],b[f])))return!1}return!0}function Qh(a,b){return a===b?!0:va(a)&&va(b)?cb(a,b,Qh):za(a)&&za(b)?Ph(a,b):!1}function Rh(a,b){b.push(a);for(var c in a)if(za(a[c])){if(N(M(),"docs-anlpfdo"))Oa(b,a[c]);else if(0<=Oa(b,a[c]))throw Error("Circular reference detected");Rh(a[c],b)}b.pop()};function Sh(a,b){this.B=a;this.e={};this.l={};this.I=b||!1;this.q=!this.I}q=Sh.prototype;q.za=!1;q.Kd=!1;q.ta=function(){return this.I||!xb(this.l)};function Th(a,b){b?a.Kd=!0:a.ta();a.za=!0}function Uh(a,b){a=Vh(a,b);return null==a?null:zb(a)}function Wh(a,b){a=Xh(a,b);return null==a||0==a?null:a}function Xh(a,b){a=Vh(a,b);return null==a?null:a}function Yh(a,b){a=Vh(a,b);return null==a?null:a}function Zh(a,b){return null==Vh(a,b)?null:""!=a.e[b]}function R(a,b,c){return S(a,b,c?"true":"")}
function $h(a,b){a=Vh(a,b);return null==a?null:zb(a)}function ai(a){return zb(a.e.keyPath)}function Vh(a,b){a=a.e[b];return null!=a?a:null}function S(a,b,c,d){if(za(c)&&!va(c))return Rh(c,[]),null!=a.e[b]&&Qh(a.e[b],c)||(c=d?c:zb(c),a.e[b]=c,a.q||(a.l[b]=c)),a;if(va(c))return N(M(),"docs-anlpfdo")||Nh(c,[]),Rh(c,[]),null!=a.e[b]&&Oh(a.e[b],c)||(c=d?c:zb(c),a.e[b]=c,a.q||(a.l[b]=c)),a;a.e[b]!=c&&(a.e[b]=c,a.q||(a.l[b]=c));return a}
function bi(a,b,c,d){var e=a.e,f=e[b];null==f&&(e[b]=f={});f[c]=d;a.q||(a=a.l,e=a[b],null==e&&(a[b]=e={}),e[c]=d)}q.tb=function(){this.l={};this.I=!1};q.xb=aa(null);function ci(a){this.e=a};function di(a){return a?new ci(a[0]):null};function ei(a,b,c){Sh.call(this,"document",c);this.g=new rh;S(this,"id",a);S(this,"documentType",b)}F(ei,Sh);function fi(a){return a.e.id}function gi(a){return a.e.documentType}function hi(a,b,c){S(a,"rev",b);S(a,"rai",c?[c.e]:null)}q=ei.prototype;q.S=function(){return Xh(this,"rev")};q.Ib=function(a){R(this,"lss",a)};q.Hb=function(a){S(this,"lsft",a)};function ii(a,b){S(a,"lastModifiedServerTimestamp",b)}function ji(a,b){S(a,"docosKeyData",b)}
function ki(a,b){S(a,"lastModifiedClientTimestamp",b)}q.xb=function(){var a=this.g.J();return a&&!this.za?ei.G.xb.call(this):new Mh(fi(this),a?1:2)};function li(a,b,c){bi(a,"startupHints",b,c)}function mi(a,b){R(a,"modelNeedsResync",b)}function ni(a,b){S(a,"modelVersion",b)}function oi(a,b){S(a,"featureVersion",b)}function pi(a,b){S(a,"lastServerSnapshotTimestamp",b)}function qi(a,b){S(a,"snapshotState",b)}
function ri(a,b){if(0>b)throw Error("Cannot set snapshotProtocolNumber to a negative number.");S(a,"snapshotProtocolNumber",b)}function si(a,b){S(a,"pendingQueueState",b)}function ti(a){return Xh(a,"pendingQueueState")}q.ta=function(){return ei.G.ta.call(this)||!this.g.J()};var ui=["drawing","kix","punch"];function vi(a,b,c,d){var e=d||ta;a=wi(a);a.length?xi(yi(b,a),c,function(a){return e(a.$())}):c()}function wi(a){var b=(Uh(a,"startupHints")||{}).fontFamilies;try{var c=b?JSON.parse(b):[],d=zi(gi(a))?hh():"latin";return ph(c,d)}catch(e){return[]}}function Ai(a,b){b=gh().g?Qa(b,function(a){return a.e+";"+a.i+";"+a.g}):Qa(b,function(a){a=new kh(a.e,a.i);return 400==a.g?a.e:a.e+";"+a.g});li(a,"fontFamilies",xe(b))}function zi(a){return gh().j?!0:0<=Oa(ui,a)};/*
 Portions of this code are from MochiKit, received by
 The Closure Authors under the MIT license. All other code is Copyright
 2005-2009 The Closure Authors. All Rights Reserved.
*/
function T(a,b){this.l=[];this.K=a;this.A=b||null;this.k=this.g=!1;this.j=void 0;this.v=this.L=this.I=!1;this.B=0;this.i=null;this.q=0}function Bi(a,b){if(a.g)a.j instanceof T&&Bi(a.j);else{if(a.i){var c=a.i;delete a.i;b?Bi(c,b):(c.q--,0>=c.q&&Bi(c))}a.K?a.K.call(a.A,a):a.v=!0;a.g||a.errback(new Ci(a))}}T.prototype.w=function(a,b){this.I=!1;Di(this,a,b)};function Di(a,b,c){a.g=!0;a.j=c;a.k=!b;Ei(a)}function Fi(a){if(a.g){if(!a.v)throw new Gi(a);a.v=!1}}
T.prototype.e=function(a){Fi(this);Di(this,!0,a)};T.prototype.errback=function(a){Fi(this);Di(this,!1,a)};function U(a,b,c){return Hi(a,b,null,c)}function Ii(a,b,c){Hi(a,b,function(a){var c=b.call(this,a);if(!x(c))throw a;return c},c)}function Hi(a,b,c,d){a.l.push([b,c,d]);a.g&&Ei(a);return a}T.prototype.then=function(a,b,c){var d,e,f=new Ze(function(a,b){d=a;e=b});Hi(this,d,function(a){a instanceof Ci?pf(f):e(a)});return f.then(a,b,c)};Xe(T);
function Ji(a,b){b instanceof T?U(a,D(b.O,b)):U(a,function(){return b})}T.prototype.O=function(a){var b=new T;Hi(this,b.e,b.errback,b);a&&(b.i=this,this.q++);return b};function Ki(a){return Ra(a.l,function(a){return ya(a[1])})}
function Ei(a){if(a.B&&a.g&&Ki(a)){var b=a.B,c=Li[b];c&&(v.clearTimeout(c.e),delete Li[b]);a.B=0}a.i&&(a.i.q--,delete a.i);b=a.j;for(var d=c=!1;a.l.length&&!a.I;){var e=a.l.shift(),f=e[0],h=e[1];e=e[2];if(f=a.k?h:f)try{var l=f.call(e||a.A,b);x(l)&&(a.k=a.k&&(l==b||l instanceof Error),a.j=b=l);if(Ye(b)||"function"===typeof v.Promise&&b instanceof v.Promise)d=!0,a.I=!0}catch(k){b=k,a.k=!0,Ki(a)||(c=!0)}}a.j=b;d&&(l=D(a.w,a,!0),d=D(a.w,a,!1),b instanceof T?(Hi(b,l,d),b.L=!0):b.then(l,d));c&&(b=new Mi(b),
Li[b.e]=b,a.B=b.e)}function Ni(a){var b=new T;b.e(a);return b}function Gi(){Ia.call(this)}F(Gi,Ia);Gi.prototype.message="Deferred has already fired";Gi.prototype.name="AlreadyCalledError";function Ci(){Ia.call(this)}F(Ci,Ia);Ci.prototype.message="Deferred was canceled";Ci.prototype.name="CanceledError";function Mi(a){this.e=v.setTimeout(D(this.i,this),0);this.g=a}Mi.prototype.i=function(){delete Li[this.e];throw this.g;};var Li={};function Oi(a,b){xi(a,function(a){b.e(a)},function(a){b.errback(a)})}function Pi(a){var b=new T;Oi(a,b);return b}function Qi(a){return new Ze(function(b,c){xi(a,function(a){b(a)},function(a){c(a)})})};function Ri(){this.j=!1;this.I=this.o=null;this.e=1;this.l=!1;this.i=[];this.k=[]}t(Ri,ah);Ri.prototype.$=function(){Eg(3==this.e,"XDeferred does not have an error");return this.I};function V(a,b){Eg(4!=a.e,"Cannot fire a disposed XDeferred");Eg(1==a.e,"Cannot fire a XDeferred more than once");a.o=b;Si(a,!0)}Ri.prototype.errback=function(a){Eg(4!=this.e,"Cannot fire a disposed XDeferred");Eg(1==this.e,"Cannot fire a XDeferred more than once");this.I=a;Si(this,!1)};
function xi(a,b,c){Eg(4!=a.e,"Cannot add callback to disposed XDeferred");Eg(!a.l,"Cannot add callback to XDeferred that is firing its callback/errback queue");Ti(a,b,c)||(null!=b&&Gg(a.i,function(a){b(a)}),null!=c&&Gg(a.k,function(a){c(a)}))}function Ui(a,b){xi(a,b,null)}function Vi(a,b){xi(a,null,b)}
function Wi(a,b){function c(a){e.errback(a)}function d(a){var c=null;try{c=b(a)}catch(l){l=dg(l);if(l instanceof hg){e.errback(l);return}throw l.e;}V(e,c)}Eg(0==a.l,"Cannot add callback to XDeferred that is firing its callback/errback queue");var e=new Ri;if(Ti(a,d,c))return e;a.i.push(d);a.k.push(c);return e}Ri.prototype.g=function(){this.e=4;this.i.length=0;this.k.length=0;ah.prototype.g.call(this)};
function Si(a,b){a.l=!0;if(b)for(a.e=2,b=0;b<a.i.length;b++)(0,a.i[b])(a.o);else for(a.e=3,b=0;b<a.k.length;b++)(0,a.k[b])(a.I);a.l=!1;a.i.length=0;a.k.length=0}function Ti(a,b,c){return 1!=a.e?(a.l=!0,2==a.e&&null!=b?b(a.o):3==a.e&&null!=c&&c(a.I),a.l=!1,!0):!1};function Xi(a,b){Ri.call(this);this.B=null;this.n=0;this.w=b;this.v=a;this.B=Array(a)}t(Xi,Ri);function Yi(a,b){var c=new Xi(a.length,b);b={};for(var d=0;d<a.length;b={Wb:b.Wb},d++)b.Wb=d,xi(a[d],function(a){return function(b){var d=a.Wb;c.n++;var e=new Zi;e.e=!0;e.i=b;c.B[d]=e;1!=c.e||c.n!=c.v||V(c,c.B)}}(b),function(a){return function(b){var d=a.Wb;c.n++;var e=new $i;e.e=!1;e.i=b;c.B[d]=e;1!=c.e||(c.w?c.errback(b):c.n==c.v&&V(c,c.B))}}(b));0==a.length&&V(c,c.B);return c};function aj(){this.e=!1}t(aj,Rf);function $i(){this.e=!1;this.i=null}t($i,aj);$i.prototype.g=function(){throw og("Illegal getValue call on failed result, callers must check hasSucceeded() first.").e;};$i.prototype.$=n("i");function Zi(){this.e=!1;this.i=null}t(Zi,aj);Zi.prototype.g=n("i");Zi.prototype.$=function(){throw og("Illegal getError call on successful result, callers must check hasSucceeded() first.").e;};function bj(){return new Ri}function cj(a){return Wi(Yi(a,!0),function(a){for(var b=Array(a.length),d=0;d<a.length;d++){var e=a[d].g();b[d]=e}return b})}function dj(a){var b=bj();V(b,a);return b}function ej(a){var b=bj();b.errback(a);return b}function fj(a,b){Eg(1==b.e,"Cannot pass already fired Deferred to be chained");xi(a,function(a){V(b,a)},function(a){b.errback(a)})};function gj(a){if(a instanceof Wf)return a.e;if(a instanceof Error)return a;throw jg("Cannot cast an object that is neither a JS Error nor a Java Throwable").e;}function hj(a){if(a instanceof Wf)return a;if(a instanceof Error)return dg(a);throw tg("Unsupported type cannot be used to create a Throwable.").e;};function ij(a){this.e=a}ij.prototype.g=function(){return["fontFamilies"]};ij.prototype.i=function(a,b){var c=bj();if((b=gh().g?b.fontVariantsWithSubsets:b.fontFamilies)&&b.length){var d=zi(gi(a))?hh():"latin";Ai(a,ph(b,d));vi(a,this.e,function(){return V(c,null)},function(a){c.errback(null!=a?hj(a):null)})}else V(c,null);return c};function jj(a,b,c){this.i=a;this.k=b;this.j=c;this.g={};this.e={}}
function kj(a,b){var c,d=[],e=[];for(c=0;c<b.length;c++){var f=b[c];if(a.g[f])e.push(dj(f));else if(a.j.isOnline())if(0==f.indexOf("PLACEHOLDER_"))e.push(ej(new Bh("It is a placeholder image")));else{var h=bj();e.push(h);a.e[f]?a.e[f].push(h):(d.push(f),a.e[f]=[h])}else e.push(ej(new Bh("It is offline.")))}0<d.length&&lj(a,a.i,d,a.k);return Wi(Yi(e,!1),function(b){for(var c={},d=0;d<b.length;d++)if(b[d].e&&b[d].g()){var e=b[d].g();c[e]=a.g[e]}return c})}
function lj(a,b,c,d){var e={};e.photo=c;e=jc(e);b=mj(nj(oj(d,"/copyimages"),"id",b),e);x(void 0)&&pj(b,void 0);qj(rj(sj(b,D(a.l,a,c)),D(a.q,a,c)))}jj.prototype.l=function(a,b){b=tj(b);for(var c=0;c<a.length;c++){var d=a[c];if(b[d]){var e=d;this.g[e]=b[d];d=this.e[e];for(var f=0;f<d.length;f++)V(d[f],e);delete this.e[e]}else uj(this,d)}};jj.prototype.q=function(a){for(var b=0;b<a.length;b++)uj(this,a[b])};function uj(a,b){for(var c=a.e[b],d=0;d<c.length;d++)c[d].errback();delete a.e[b]};function vj(a,b,c,d){this.i=a;this.g=b;this.e=c;this.j=!!d};function wj(a){this.g=!!a}wj.prototype.e=function(a,b,c,d){a=c.url;var e=dc(v.location.href);dc(a)!=e&&(a=mc(a,"cb",e));e=c.entityType;var f=N(M(),"docs-eedsr")&&"drawing"==e;f&&(a=kc(a,"fmt","svg"));"drawing"==e&&(this.g&&x(c.drawingRevision)?(b=b+"_"+c.drawingRevision,f&&(b+=".svg")):f&&(b+=".svg"));d[b]=new vj(b,a,e,"image"==e)};function xj(){this.e=["ritzChunkSize"]}xj.prototype.g=n("e");xj.prototype.i=function(a,b){for(var c=0;c<this.e.length;c++){var d=this.e[c];null!=b[d]&&li(a,d,b[d])}return dj(null)};function yj(a){this.e={};for(var b=0;b<a.length;b++)for(var c=a[b],d=c.g(),e=0;e<d.length;e++){var f=d[e];if(this.e[f])throw Error("Key "+f+" registered in multiple StartupHintProcessors");this.e[f]=c}}function zj(a,b,c){var d=[],e;for(e in c)if(a.e[e]){var f={};f[e]=c[e];f=a.e[e].i(b,f);d.push(f)}return cj(d)};function Aj(a){this.e=a}function Bj(a,b){var c=bj();a.e.revokeUrl2(b,new Cj(c),new Dj(c));return c}function Cj(a){this.e=a}Cj.prototype.revokerSuccess=function(){V(this.e,null)};function Dj(a){this.e=a}Dj.prototype.revokerFailure=function(){this.e.errback(new Bh("NativeImageUrlRevoker fired the error callback."))};function Ej(a){var b={};a:switch(a){case "createPhoto":var c="image_upload_other_error";break a;case "badScottyUrl":case "connectionError":case "fileNotFound":case "invalidFileData":case "jsonError":case "nonexistentImageUrl":case "offlineSync":case "iosOtherSession":c="image_upload_pre_upload_error";break a;default:c="image_upload_scotty_error"}b[c]=a;return b};function Fj(a,b,c){if(!!b==!!c)throw Error("Must have cosmo id xor error.");this.j=a;this.e=b;this.g=c;this.i=!!b}Fj.prototype.ra=n("j");Fj.prototype.wb=n("e");Fj.prototype.$=n("g");Fj.prototype.Ic=n("i");function Gj(a){this.isOnline=a};function Hj(){this.g=this.e=null}t(Hj,Rf);function Ij(a,b){var c=new Hj;c.e=a;c.g=b;return c};function Jj(){this.j=!1;this.e=[]}t(Jj,ah);function Kj(a,b,c){b=Ij(b,dh(b,c));a.e.push(b)}function Lj(a,b,c){var d=new Pf;d.Pb=b;d.Lb=c;c=Of(d);b=Ij(b,dh(b,c));a.e.push(b)}Jj.prototype.g=function(){var a;for(a=this.e.pop();null!=a;)$g(a.e.e,a.g)&&a.e.Zb(a.g),a=this.e.pop();ah.prototype.g.call(this)};Jj.prototype.Zb=function(a){for(var b=0;b<this.e.length;b++){var c=this.e[b];if(void 0==c.g&&Sf(c.e,a)){$g(c.e.e,c.g)&&c.e.Zb(c.g);a=b;a==this.e.length-1?this.e.pop():(b=this.e.pop(),this.e[a]=b);break}}};function Mj(a,b,c,d,e,f){qj(sj(Nj(nj(oj(d,"/createphoto"),"id",a),b),function(a){var b=tj(a);if(a=b.imageError){a:switch(a){case 2:case 3:b="The selected image is too large.";break a;case 4:case 5:case 6:case 7:case 8:b="The selected image is in an unsupported format.";break a;default:b="There was a problem retrieving the specified image."}f(c,a,b)}else e(c,b.imageId,b.width,b.height,void 0)}))};function Oj(a,b,c){H.call(this);this.g=a;this.k=b||0;this.j=c;this.i=D(this.l,this)}F(Oj,H);Oj.prototype.e=0;Oj.prototype.z=function(){Oj.G.z.call(this);Pj(this);delete this.g;delete this.j};function Pj(a){0!=a.e&&Df.clearTimeout(a.e);a.e=0}Oj.prototype.l=function(){this.e=0;this.g&&this.g.call(this.j)};function Qj(a,b,c,d){H.call(this);this.i=null!=d?d:.15;this.k=a;this.j=b;this.n=c;this.e=new Oj(this.o,void 0,this);this.l=Number.NEGATIVE_INFINITY;this.g=0}F(Qj,H);function Rj(a,b,c){b&&(Pj(a.e),Sj(a,a.j));0==a.e.e&&(b=E(),b=Math.max(0,a.l+a.g-b),0==b&&(c?b=Sj(a,a.j):a.g=0),a=a.e,c=b,Pj(a),a.e=Gf(a.i,x(c)?c:a.k))}function Sj(a,b){0<b&&0!=a.i&&(b=Math.floor(b*(1-a.i+Math.random()*a.i*2)));return a.g=b}Qj.prototype.o=function(){this.l=E();Sj(this,Math.min(Math.max(2*this.g,this.j),this.n));this.k()};
Qj.prototype.z=function(){this.e.Z();delete this.e;delete this.k;Qj.G.z.call(this)};function Tj(a,b,c,d,e,f){var h=this;H.call(this);this.g=a;this.k=new Jj;I(this,this.k);Kj(this.k,this.g.e,function(a){for(var b in h.e){var c=h.e[b];a.isOnline?c.g||Rj(c.i,!0,!1):Pj(c.i.e)}});this.e={};this.l=b;this.i=c;this.v=d;this.o=e;this.j=f}F(Tj,H);q=Tj.prototype;
q.gf=function(a){for(var b=[],c=0;c<a.length;c++){var d=a[c],e=d.ra(),f=this.e[e];if(f.g)throw Error("Tried to transport blob that is currently being transported: "+e);f.g=!0;if(d=Yh(d,"oc"))b.push(d);else throw Error("Tried to transport via original image id on blob with no id.");}Ui(kj(this.l,b),D(this.pe,this,a))};
q.ff=function(a){var b=a.ra(),c=this.e[b];if(c.g)throw Error("Tried to transport blob that is currently being transported: "+b);c.g=!0;var d=Yh(a,"ou");if(a.getUrl()||d){var e;if(e=d)e=0==d.indexOf("http://")||0==d.indexOf("https://");if(e)a=D(this.Fe,this,b,c.e),b=D(this.Ee,this,b,c.e),Mj(this.i,{url:d},d||"",this.v,a,b);else{c=new T;d=new Uj(c);e=new Vj(c);var f=a.getUrl()||Yh(a,"ou");0==f.indexOf("docs.google.com.clipboard://")||0==f.indexOf("docs.google.com.itemprovider://")?(a=new T,a.errback(Error("iosOtherSession"))):
(this.n.startUpload(this.i,f,a.getFileName(),d,e),a=c);Hi(a,D(this.ke,this,b),D(this.je,this,b))}}else b=new Fj(b,null,Error("nonexistentImageUrl")),c.e.errback(b)};q.Xd=function(a){var b=this.e[a];if(!b)throw Error("Attempted to cleanup an unknown blob: "+a);b.i.Z();delete this.e[a]};q.Fe=function(a,b,c,d){a=new Fj(a,d,null);b.e(a)};q.Ee=function(a,b,c,d){this.o.W(Error("Create photo failed with error: "+d));a=new Fj(a,null,Error("createPhoto"));b.errback(a)};
q.ke=function(a,b){var c=this.e[a];a=new Fj(a,b,null);c.e.e(a)};q.je=function(a,b){var c=this.e[a];"connectionError"==b.message?(c.g=!1,Rj(c.i,!1,!0)):(a=new Fj(a,null,b),c.e.errback(a))};q.pe=function(a,b){for(var c=0;c<a.length;c++){var d=a[c],e=d.ra(),f=this.e[e];(d=Yh(d,"oc"))&&b[d]?(e=new Fj(e,b[d],null),f.e.e(e)):(e=new Fj(e,null,Error("unknown")),f.e.errback(e))}};function Wj(a,b){this.e=a;this.i=b;this.g=!1};function Xj(a,b,c,d,e,f){Tj.call(this,c,d,a,e,f);this.n=b}F(Xj,Tj);var Yj={0:"badScottyUrl",1:"canceled",2:"connectionError",3:"fileNotFound",4:"invalidAuth",5:"invalidFileData",6:"invalidResponse",7:"jsonError",9:"scottyError",10:"scottyReject"};function Uj(a){this.e=a}Uj.prototype.uploadSuccess=function(a){this.e.e(a)};function Vj(a){this.e=a}Vj.prototype.uploadFailure=function(a){this.e.errback(Error(Yj[a]||"unknown"))};G("Firefox");Nc()||G("iPod");G("iPad");!G("Android")||Mc()||G("Firefox")||G("Opera")||G("Silk");var Zj=Mc(),ak=G("Safari")&&!(Mc()||G("Coast")||G("Opera")||G("Edge")||G("Silk")||G("Android"))&&!(Nc()||G("iPad")||G("iPod"));function bk(){}var ck="function"==typeof Uint8Array;function dk(a,b,c,d){a.g=null;b||(b=c?[c]:[]);a.l=c?String(c):void 0;a.j=0===c?-1:0;a.e=b;a:{if(a.e.length&&(b=a.e.length-1,(c=a.e[b])&&"object"==typeof c&&!va(c)&&!(ck&&c instanceof Uint8Array))){a.k=b-a.j;a.i=c;break a}a.k=Number.MAX_VALUE}a.q={};if(d)for(b=0;b<d.length;b++)if(c=d[b],c<a.k)c+=a.j,a.e[c]=a.e[c]||ek;else{var e=a.k+a.j;a.e[e]||(a.i=a.e[e]={});a.i[c]=a.i[c]||ek}}var ek=[];
function W(a,b){if(b<a.k){b+=a.j;var c=a.e[b];return c===ek?a.e[b]=[]:c}if(a.i)return c=a.i[b],c===ek?a.i[b]=[]:c}function fk(a,b){if(b<a.k){b+=a.j;var c=a.e[b];return c===ek?a.e[b]=[]:c}c=a.i[b];return c===ek?a.i[b]=[]:c}function gk(a,b){a=W(a,b);return null==a?0:a}function hk(a){var b=ik;a.g||(a.g={});if(!a.g[1]){for(var c=fk(a,1),d=[],e=0;e<c.length;e++)d[e]=new b(c[e]);a.g[1]=d}b=a.g[1];b==ek&&(b=a.g[1]=[]);return b}
function jk(a){if(a.g)for(var b in a.g){var c=a.g[b];if(va(c))for(var d=0;d<c.length;d++)c[d]&&c[d].Uc();else c&&c.Uc()}}bk.prototype.Uc=function(){jk(this);return this.e};bk.prototype.toString=function(){jk(this);return this.e.toString()};bk.prototype.R=function(){return new this.constructor(kk(this.Uc()))};
function kk(a){if(va(a)){for(var b=Array(a.length),c=0;c<a.length;c++){var d=a[c];null!=d&&(b[c]="object"==typeof d?kk(d):d)}return b}if(ck&&a instanceof Uint8Array)return new Uint8Array(a);b={};for(c in a)d=a[c],null!=d&&(b[c]="object"==typeof d?kk(d):d);return b};function lk(a,b,c){Ia.call(this,c);this.Cc=b}F(lk,Ia);lk.prototype.docs_permanent_error_checker_817115=!0;lk.prototype.docs_offline_error_data_provider_134718=!0;lk.prototype.Hc=function(){switch(this.Cc){case 5:case 14:case 12:return!0;default:return!1}};function mk(a,b,c){H.call(this);this.o=c;this.fb=a;this.ab=b;this.X=!1}F(mk,H);mk.prototype.i=function(){if(this.X)throw Error("The sync() method can be called only once");nk(this.k.e.k,D(this.cf,this));this.X=!0};mk.prototype.ga=function(){this.q()||this.fb(this.o)};function ok(a){this.e=a};function Vg(a){this.e="offline-oc";this.g=a}F(Vg,ok);function pk(){}function qk(a){if("offline-oc"!=a.e)throw Error("Invalid Type");return a.g};function rk(a,b,c,d,e,f){T.call(this,e,f);this.o=a;this.n=[];this.D=!!b;this.U=!!c;this.Q=!!d;for(b=this.H=0;b<a.length;b++)Hi(a[b],D(this.F,this,b,!0),D(this.F,this,b,!1));0!=a.length||this.D||this.e(this.n)}F(rk,T);rk.prototype.F=function(a,b,c){this.H++;this.n[a]=[b,c];this.g||(this.D&&b?this.e([a,c]):this.U&&!b?this.errback(c):this.H==this.o.length&&this.e(this.n));this.Q&&!b&&(c=null);return c};rk.prototype.errback=function(a){rk.G.errback.call(this,a);for(a=0;a<this.o.length;a++)Bi(this.o[a])};
function sk(a){return U(new rk(a,!1,!0),function(a){for(var b=[],d=0;d<a.length;d++)b[d]=a[d][1];return b})};function tk(a,b,c){H.call(this);this.e=a;this.i=b;this.j=c;this.g=new Jj;I(this,this.g)}F(tk,H);
tk.prototype.T=function(){if(uk(this.e)){var a=this.e;var b=ub(a.e);Bb(a.g,a.e);a.e={};a=this.i;for(var c=[],d=0;d<b.length;d++){var e=b[d];Yh(e,"oc")&&c.push(e)}var f=new Qj(D(a.gf,a,c),1E3,9E5,a.j);d=[];for(var h=0;h<b.length;h++){e=b[h];var l=e.ra();if(a.e[l])throw Error("Attempted to re-transport blob");var k=new T;if(Yh(e,"oc"))e=new Wj(k,f);else{var p=new Qj(D(a.ff,a,e),1E3,9E5,a.j);e=new Wj(k,p);a.g.isOnline()&&Rj(p,!1,!1)}a.e[l]=e;l=lb(D(a.Xd,a,l));Hi(k,l,l,void 0);d.push(k)}0<c.length&&a.g.isOnline()&&
Rj(f,!1,!1);a=new T;U(new rk(d),D(this.k,this,b,a))}else a=Ni();return a};tk.prototype.k=function(a,b,c){for(var d=0;d<c.length;d++){var e=a[d].ra(),f=c[d][1];c[d][0]?vk(this.e,e,f.wb()):(wk(this.e,e),e=f.$().message,this.j.log(Error("Failed to sync blob with error"),Ej(e)))}uk(this.e)?Lj(this.g,this.e.n,function(){return b.e()}):b.e()};function xk(a,b,c,d){J.call(this,a);this.q=b;this.g=c;this.j=d}F(xk,J);xk.prototype.k=null;xk.prototype.i=null;function yk(a){H.call(this);this.g=a;this.e={}}F(yk,H);var zk=[];q=yk.prototype;q.ia=function(a,b,c,d){va(b)||(b&&(zk[0]=b.toString()),b=zk);for(var e=0;e<b.length;e++){var f=he(a,b[e],c||this.Ea,d||!1,this.g||this);if(!f)break;this.e[f.Oa]=f}return this};q.kb=function(a,b,c,d){return Ak(this,a,b,c,d)};function Ak(a,b,c,d,e,f){if(va(c))for(var h=0;h<c.length;h++)Ak(a,b,c[h],d,e,f);else{b=ie(b,c,d||a.Ea,e,f||a.g||a);if(!b)return a;a.e[b.Oa]=b}return a}
q.$b=function(a,b,c,d,e){if(va(b))for(var f=0;f<b.length;f++)this.$b(a,b[f],c,d,e);else c=c||this.Ea,d=za(d)?!!d.va:!!d,e=e||this.g||this,c=je(c),d=!!d,b=Yd(a)?a.zb(b,c,d,e):a?(a=le(a))?a.zb(b,c,d,e):null:null,b&&(qe(b),delete this.e[b.Oa])};function Bk(a){rb(a.e,function(a,c){this.e.hasOwnProperty(c)&&qe(a)},a);a.e={}}q.z=function(){yk.G.z.call(this);Bk(this)};q.Ea=function(){throw Error("EventHandler.handleEvent not implemented");};function Ck(a,b,c,d){H.call(this);this.g=a;this.k=b;this.i=c;this.l=d;this.e=new T;this.j=new yk(this)}F(Ck,H);q=Ck.prototype;q.Bb=-1;q.T=function(){var a=this;this.Bb=-1;Dk(this.g)?xi(Ek(this.g),function(b){var c=b.S();Fk(a.i,b.e,a.k?Gk(a.k):{},c,a.l)?a.j.ia(a.i,"d",a.Ke).ia(a.i,"c",a.Je):a.e.errback(new Hk(!1,void 0))},function(b){a.e.errback(new Hk(!1,b))}):this.e.e(this);return this.e};
function Ik(a){if(!Jk(a.g)&&0<=a.Bb){var b=a.g;a=a.Bb;Kk(b);if(!b.gc())throw Error("removeSent called when not waiting for ack");var c=Lk(b),d=b.e;if(null!=Mk(d)){var e=Mk(d)-d.i.length;Nk(d,0>e?null:e)}d.i=[];Ok(d,3);Pk(b.e,a,null);b.e.J()&&(Qk(b.e,!1),Rk(b.g),null!==b.k&&S(b.e,"accessLevel",b.k),Sk(b.g,1));Q(b.v,null);Tk(b.e)&&b.j||(b.Kb=!1,Q(b.ga,null));c&&(Lk(b)||Q(b.o,null));b.J()&&Q(b.w,null)}}q.Ke=function(a){a=a.g;this.Bb=a[a.length-1].e;Uk(this.g,this.Bb);this.e.e(this)};
q.Je=function(a){var b=this;a=a.g;"e"!=a.type||a.i&&"e"!=a.i?this.e.errback(new Hk(!1,void 0)):(a=function(){b.e.errback(new Hk(!0,void 0))},xi(Vk(this.g),a,a))};q.z=function(){Rd(this.j);Ck.G.z.call(this)};function Hk(a,b){this.g=a;this.e=b};function Wk(a,b,c){var d=new T;if(Zh(a,"inc"))if(null===Yh(a,"title"))b={},b.docId=fi(a),c.W(Error("Not creating document without title"),b),d.errback(void 0);else{c={newDocId:fi(a),title:Yh(a,"title")};var e=$h(a,"ic");e&&(c.initialCommands=xe(e));(e=Yh(a,"fact"))&&(c.folder=e);(a=Yh(a,"odocid"))&&(c.sourceDocId=a);a=rj(sj(Nj(Xk(oj(b,"/create")),c),function(a){return d.e(a)}),function(a){return d.errback(a)});x(2)&&pj(a,2);qj(a)}else d.e(void 0);return d};function Yk(a,b){this.e=[];this.g=b;for(var c=!0,d=a.length-1;0<=d;d--){var e=a[d]|0;c&&e==b||(this.e[d]=e,c=!1)}}var Zk={};function $k(a){if(-128<=a&&128>a){var b=Zk[a];if(b)return b}b=new Yk([a|0],0>a?-1:0);-128<=a&&128>a&&(Zk[a]=b);return b}function al(a){if(isNaN(a)||!isFinite(a))return bl;if(0>a)return cl(al(-a));for(var b=[],c=1,d=0;a>=c;d++)b[d]=a/c|0,c*=4294967296;return new Yk(b,0)}var bl=$k(0),dl=$k(1),el=$k(16777216);
function fl(a){if(-1==a.g)return-fl(cl(a));for(var b=0,c=1,d=0;d<a.e.length;d++){var e=gl(a,d);b+=(0<=e?e:4294967296+e)*c;c*=4294967296}return b}q=Yk.prototype;q.toString=function(a){a=a||10;if(2>a||36<a)throw Error("radix out of range: "+a);if(hl(this))return"0";if(-1==this.g)return"-"+cl(this).toString(a);for(var b=al(Math.pow(a,6)),c=this,d="";;){var e=il(c,b);c=jl(c,kl(e,b));var f=((0<c.e.length?c.e[0]:c.g)>>>0).toString(a);c=e;if(hl(c))return f+d;for(;6>f.length;)f="0"+f;d=f+d}};
function gl(a,b){return 0>b?0:b<a.e.length?a.e[b]:a.g}function hl(a){if(0!=a.g)return!1;for(var b=0;b<a.e.length;b++)if(0!=a.e[b])return!1;return!0}q.Ma=function(a){if(this.g!=a.g)return!1;for(var b=Math.max(this.e.length,a.e.length),c=0;c<b;c++)if(gl(this,c)!=gl(a,c))return!1;return!0};function ll(a,b){a=jl(a,b);return-1==a.g?-1:hl(a)?0:1}function cl(a){for(var b=a.e.length,c=[],d=0;d<b;d++)c[d]=~a.e[d];return(new Yk(c,~a.g)).add(dl)}
q.add=function(a){for(var b=Math.max(this.e.length,a.e.length),c=[],d=0,e=0;e<=b;e++){var f=d+(gl(this,e)&65535)+(gl(a,e)&65535),h=(f>>>16)+(gl(this,e)>>>16)+(gl(a,e)>>>16);d=h>>>16;f&=65535;h&=65535;c[e]=h<<16|f}return new Yk(c,c[c.length-1]&-2147483648?-1:0)};function jl(a,b){return a.add(cl(b))}
function kl(a,b){if(hl(a)||hl(b))return bl;if(-1==a.g)return-1==b.g?kl(cl(a),cl(b)):cl(kl(cl(a),b));if(-1==b.g)return cl(kl(a,cl(b)));if(0>ll(a,el)&&0>ll(b,el))return al(fl(a)*fl(b));for(var c=a.e.length+b.e.length,d=[],e=0;e<2*c;e++)d[e]=0;for(e=0;e<a.e.length;e++)for(var f=0;f<b.e.length;f++){var h=gl(a,e)>>>16,l=gl(a,e)&65535,k=gl(b,f)>>>16,p=gl(b,f)&65535;d[2*e+2*f]+=l*p;ml(d,2*e+2*f);d[2*e+2*f+1]+=h*p;ml(d,2*e+2*f+1);d[2*e+2*f+1]+=l*k;ml(d,2*e+2*f+1);d[2*e+2*f+2]+=h*k;ml(d,2*e+2*f+2)}for(e=0;e<
c;e++)d[e]=d[2*e+1]<<16|d[2*e];for(e=c;e<2*c;e++)d[e]=0;return new Yk(d,0)}function ml(a,b){for(;(a[b]&65535)!=a[b];)a[b+1]+=a[b]>>>16,a[b]&=65535,b++}
function il(a,b){if(hl(b))throw Error("division by zero");if(hl(a))return bl;if(-1==a.g)return-1==b.g?il(cl(a),cl(b)):cl(il(cl(a),b));if(-1==b.g)return cl(il(a,cl(b)));if(30<a.e.length){if(-1==a.g||-1==b.g)throw Error("slowDivide_ only works with positive integers.");for(var c=dl;0>=ll(b,a);)c=nl(c,1),b=nl(b,1);var d=ol(c,1),e=ol(b,1);b=ol(b,2);for(c=ol(c,2);!hl(b);){var f=e.add(b);0>=ll(f,a)&&(d=d.add(c),e=f);b=ol(b,1);c=ol(c,1)}return d}for(c=bl;0<=ll(a,b);){d=Math.max(1,Math.floor(fl(a)/fl(b)));
e=Math.ceil(Math.log(d)/Math.LN2);e=48>=e?1:Math.pow(2,e-48);f=al(d);for(var h=kl(f,b);-1==h.g||0<ll(h,a);)d-=e,f=al(d),h=kl(f,b);hl(f)&&(f=dl);c=c.add(f);a=jl(a,h)}return c}q.and=function(a){for(var b=Math.max(this.e.length,a.e.length),c=[],d=0;d<b;d++)c[d]=gl(this,d)&gl(a,d);return new Yk(c,this.g&a.g)};q.or=function(a){for(var b=Math.max(this.e.length,a.e.length),c=[],d=0;d<b;d++)c[d]=gl(this,d)|gl(a,d);return new Yk(c,this.g|a.g)};
q.xor=function(a){for(var b=Math.max(this.e.length,a.e.length),c=[],d=0;d<b;d++)c[d]=gl(this,d)^gl(a,d);return new Yk(c,this.g^a.g)};function nl(a,b){var c=b>>5;b%=32;for(var d=a.e.length+c+(0<b?1:0),e=[],f=0;f<d;f++)e[f]=0<b?gl(a,f-c)<<b|gl(a,f-c-1)>>>32-b:gl(a,f-c);return new Yk(e,a.g)}function ol(a,b){var c=b>>5;b%=32;for(var d=a.e.length-c,e=[],f=0;f<d;f++)e[f]=0<b?gl(a,f+c)>>>b|gl(a,f+c+1)<<32-b:gl(a,f+c);return new Yk(e,a.g)};jl(nl(dl,32),dl);$k(65535);jl(nl(dl,128),dl);G("Macintosh")||Nc()||G("iPad")||G("iPod");function pl(a){switch(a){case 3:case 2:case 4:case 5:return 2;case 1:return 1;case 0:return 0;default:throw Error("No such access level.");}};function ql(a,b,c){this.e=a;this.g=b;this.La=c}ql.prototype.oa=n("e");ql.prototype.getRequestId=n("g");function rl(a,b,c,d,e,f){Sh.call(this,"pendingQueue",c);this.k=d;this.i=e.concat();this.g=f.concat();S(this,"docId",a);S(this,"documentType",b);S(this,"revision",-1);R(this,"undeliverable",!1);R(this,"unsavedChanges",!1);this.n=this.j=!1}F(rl,Sh);var sl=["revisionAccessInfo","unsentBundleMetadata","selection","sentBundlesSavedRevision","snapshotBundleIndex"];q=rl.prototype;q.Ga=6;q.Eb=null;q.lb=null;q.mb=null;q.sa=null;function tl(a){return a.e.docId}function ul(a,b){R(a,"undeliverable",b)}
function vl(a,b){S(a,"sentBundlesSavedRevision",b)}function Pk(a,b,c){S(a,"revision",b);S(a,"revisionAccessInfo",c?[c.e]:null)}q.S=function(){return this.e.revision};function wl(a,b){S(a,"selection",b)}function Qk(a,b){R(a,"unsavedChanges",b)}function xl(a,b){S(a,"unsentBundleMetadata",b)}function Mk(a){return Xh(a,"snapshotBundleIndex")}
function Nk(a,b){if(null!=b){var c=a.i.length+a.g.length-1;if(0>b||b>c)throw Error(b+" is not a valid snapshot bundle index. The last bundle index: "+c);}S(a,"snapshotBundleIndex",b)}q.J=function(){return this.j?!0:0==this.g.length&&0==this.i.length};function yl(a){if(!a.g.length)throw Error("Cannot call mark sent without unsent commands.");if(1==a.g.length){var b=a.g[0];a.sa=new zl(b.getRequestId(),b.La);a.i.push(b);a.g=[];Ok(a,5)}else Za(a.i,a.g),Al(a,a.i,[]);vl(a,null)}
function Bl(a){ul(a,!1);Qk(a,!1);vl(a,null);wl(a,null);Nk(a,null);a.i=[];a.g=[];Ok(a,2)}function Al(a,b,c){a.mb=c.length?c.concat():null;a.lb=b.concat();a.Eb=null;a.sa=null;a.i=b.concat();a.g=c.concat();Ok(a,7)}function Ok(a,b){if(a.n&&7!=b&&6!=a.Ga)Al(a,a.i,a.g);else{Cl(a);if(!a.n&&6!=a.Ga)throw Error("Multiple pending queue operations between writes. Current operation: "+a.Ga+". Pending operation: "+b);a.Ga=b}}
function Cl(a){if(a.j)throw Error("The queue is in a state that does not allow any operation until switchToStorageIfNeeded() is called.");}q.ta=function(){return 6!=this.Ga||rl.G.ta.call(this)};function Dl(a){return a.j?[]:a.i}function El(a){return a.j?[]:a.g}function Fl(a){if(a.j)return[];for(var b=[],c=0;c<a.g.length;c++)Za(b,a.g[c].oa());return b}function Gl(a){return a.j?!1:!!a.g.length}function Tk(a){return a.j?!1:!!a.i.length}
q.tb=function(){Cl(this);rl.G.tb.call(this);this.Eb&&this.Eb.length&&this.k++;this.lb&&(this.k+=this.lb.length);this.mb&&(this.k+=this.mb.length);this.Ga=6;this.sa=this.mb=this.lb=this.Eb=null};q.xb=function(){return new Mh(tl(this),2)};function zl(a,b){this.requestId=a;this.sessionId=b};function Hl(a,b,c,d,e){H.call(this);this.Jc=bj();this.D=null;this.K=Ng("jobset");this.F=N(M(),"fatra");this.Xa=this.X=null;this.Tb=!1;this.Lc=this.A=this.L=this.ab=this.Ra=this.Za=null;this.wd=c||null;this.qa=d||null;this.Q=this.Ad=this.Ta=this.n=this.k=null;this.Y=0;this.l=null;this.ud=!1;this.g=this.Sa=this.e=this.Va=this.Kc=this.ga=null;this.j=this.v=!1;this.Wa=bj();b=(e||[]).concat();b.push(this.Jc);this.We=cj(b);this.i=a;this.w=new rh;this.Ba=this.H=this.U=this.vd=this.O=this.Aa=null;this.gb=
!1;this.fb=this.ha=this.pa=this.la=null;this.Vb=!1;this.o=null;this.Ua=!1}F(Hl,H);function Il(a){if(null!==a.O)return a.O;if(!a.e)throw Error("Local store document should exist when revision is null in document writer proxy");return a.e.S()}
function Jl(a,b){var c=bj();if(!a.e)return V(c,null),c;if(a.v)return Kl(a,c,!!b,!0),c;Ll(a);var d=a.k&&1!=a.k.e;Kl(a,c,!!b);a.qa&&a.n&&!a.k&&(a.k=zj(a.qa,a.e,a.n),a.n=null);c=[c];if(a.k&&!d){var e=bj();c.push(e);d=function(){Kl(a,e,!!b)};xi(a.k,d,d)}a.ud&&(a.ud=!1);return Wi(Yi(c,!0),aa(null))}function Ml(a){var b=a.Ua;b||(a.Ua=!0);var c=Jl(a,!0);a.Ua=b;return c}
function Ll(a){a.Q&&(S(a.e,"title",a.Q),a.Q=null);0<a.Y&&(ii(a.e,a.Y),a.Y=0);a.K&&(S(a.e,"jobset",a.K),a.K=null);null!=a.F&&(R(a.e,"isFastTrack",a.F),a.F=null);var b=a.e;if(b.ta()){var c=E();S(b,"lastSyncedTimestamp",c)}a.l&&(ji(a.e,a.l),a.l=null);null!=a.ga&&(R(a.e,"inc",!a.ga),a.ga=null);null!=a.Kc&&(R(a.e,"pendingCreation",a.Kc),a.Kc=null);null!=a.X&&(R(a.e,"ips",a.X),a.X=null);a.Tb&&(ki(a.e,a.Xa),a.Xa=null,a.Tb=!1);null!==a.L&&(ni(a.e,a.L),a.L=null);null!==a.A&&(oi(a.e,a.A),a.A=null);(b=a.e)&&
Zh(b,"inc")&&a.D?(S(b,"ic",a.D),a.D=null):b&&(a.D=null);null!==a.U&&(R(a.e,"ind",!a.U),a.U=null);null!==a.H&&(R(a.e,"isd",a.H),a.H=null);a.gb&&(S(a.e,"defe",a.Ba),a.Ba=null,a.gb=!1);null!==a.Za&&(S(a.e,"lsst",a.Za),a.Za=null);null!==a.Ra&&(a.e.Hb(a.Ra),a.Ra=null);null!==a.ab&&(a.e.Ib(a.ab),a.ab=null);null!=a.Va&&(R(a.e,"hpmdo",a.Va),a.Va=null);null!=a.o&&(si(a.e,a.o),a.o=null);a.j&&(null!==a.la&&(mi(a.e,a.la),a.la=null),null!=a.pa&&(qi(a.e,a.pa),a.pa=null),null!=a.ha&&(pi(a.e,a.ha),a.ha=null),a.Vb&&
(ri(a.e,a.fb),a.fb=null,a.Vb=!1))}function Kl(a,b,c,d){var e=[];d||e.push(a.e);a.g&&(Cl(a.g),e.push(a.g));Nl(a,d);var f=c?D(b.errback,b):a.Ad||void 0;a.Sa.ka(e,d?function(){return V(b,null)}:function(){return Ol(a,b,f)},f)}function Ol(a,b,c){if(a.Ta){var d=a.Ta;a.Ta=null;a.Sa.ka(d,function(){return V(b,null)},c)}else V(b,null)}
function Nl(a,b){var c=null,d=null,e=!1,f=!1;if(a.g){c=a.g.J();d=a.g.S();var h=a.g.l;f=(e=!!h.revision)||!!h.unsentBundleMetadata||!!h.undeliverable||!!h.sentBundlesSavedRevision}h=null;var l=!1,k=!1;a.e&&(h=a.e.S(),k=a.e.l,l=!!k.rev,k=!!k.pendingQueueState);if(a.g)if(b&&k)a.i.W(Error("pendingQueueState is modified while only writing the pending queue record"));else{if(k||f)f=(f=a.e)?ti(f):null,a.g.J()!=(1==f)&&a.i.W(Error("pendingQueueState "+f+" does not match the pending queue record state: empty"))}else k&&
a.i.W(Error("pendingQueueState is modified without a registered pending queue record"));!c&&a.g&&(c={},c.writePendingQueueOnly=!!b,c.hasSwitchedToLocalStorage=a.j,a.g?(c.pendingQueue_isAvailable=!0,c.pendingQueue_revisionModified=e):c.pendingQueue_isAvailable=!1,a.e?(c.localDocument_isAvailable=!0,c.localDocument_revision=h,c.localDocument_revisionModified=l,c.localDocument_commandQueueModified=!a.e.g.J()):c.localDocument_isAvailable=!1,!b&&l&&h!=d&&a.i.W(Error("Local document revision write is out of sync with the pending queue revision."),
c))}function Pl(a){a.v||xi(a.We,function(){a.e?R(a.e,"hpmdo",!1):a.Va=!1;var b=a.e;sh(a.w,b.g);a.w=b.g;null!==a.Aa&&(bi(b,"acl",a.Lc,a.Aa),a.Aa=null);null!==a.O&&hi(a.e,a.O,a.vd);a.wd&&a.wd.e(!0);a.g&&(a.g.n=!1);a.j=!0;try{var c=Jl(a)}catch(d){c=ej(d)}fj(c,a.Wa)},function(b){a.Wa.errback(b)})}function Ql(a,b){a.g=b;a.g.I&&a.g.J()&&Sk(a,1);N(M(),"icso")}
function Rl(a){a.e||Sl(a.i,Error("Tried to delete document but no document was registered on DocumentWriterProxy"));Th(a.e,!0);var b=bj();a.Sa.ka([a.e],function(){return V(b,null)},function(a){return b.errback(a)});a.e=null;a.v=!0;return b}function Tl(a){a.e?(R(a.e,"inc",!1),a.ga=null):a.ga=!0}function Ul(a){a.j?(mi(a.e,!1),a.la=null):a.la=!1}function Vl(a,b){a.e?(R(a.e,"ips",b),a.X=null):a.X=b}function Rk(a){a.e?(ki(a.e,null),a.Xa=null,a.Tb=!1):(a.Xa=null,a.Tb=!0)}
function Wl(a){var b=E();a.e?S(a.e,"lsst",b):a.Za=b}Hl.prototype.Ib=function(a){this.e?this.e.Ib(a):this.ab=a};Hl.prototype.Hb=function(a){this.e?this.e.Hb(a):this.Ra=a};function Xl(a){a.j?(qi(a.e,4),a.pa=null):a.pa=4;var b=E();a.j?(pi(a.e,b),a.ha=null):a.ha=b;a.j?(ri(a.e,null),a.fb=null,a.Vb=!1):(a.fb=null,a.Vb=!0)}function Sk(a,b,c){a.e?(si(a.e,b),a.o=null):c?a.e?(si(a.e,b),a.o=null):Sl(a.i,Error("Force persisting pending queue state without a document record.")):a.o=b};function Yl(a,b,c){this.e=a;this.k=b;this.q=c}F(Yl,uh);function Zl(a){if(null===a.k)throw Error("Cannot getKey of operation for singleton record.");return a.k};function $l(a,b){Yl.call(this,"delete-record",a,b)}F($l,Yl);function am(a,b,c,d){Yl.call(this,d||"update-record",a,b.B);this.i=b.I;this.g={};a=b.l;c=c||[];for(var e in a)this.g[e]=0<=Oa(c,e)?Vh(b,e):b.e[e]}F(am,Yl);function bm(){H.call(this)}F(bm,H);bm.prototype.l=function(a){if(!(0<=Oa(this.e(),a.B)))throw Error("Cannot create operations for an unsupported record type "+a.B);return this.g(a)};bm.prototype.g=function(a,b){var c=this.i(a),d=[];a.za?d.push(new $l(c,a.B,a.Kd)):d.push(new am(c,a,b));return d};bm.prototype.i=function(a){throw Error("Key cannot be obtained for record of type "+a.B);};function cm(a){H.call(this);this.k=a}F(cm,bm);cm.prototype.e=function(){return["document"]};function dm(a,b,c){return new ei(b,c,!0,a.k[c])}cm.prototype.g=function(a){var b=cm.G.g.call(this,a,"lastModifiedClientTimestamp lastWarmStartedTimestamp ic odocid relevancyRank rev rai snapshotProtocolNumber".split(" ")),c=gi(a);if(!this.k[c])throw Error("No adapter found for this type: "+c);if(a.za)a=[];else if(c=new rh,sh(a.g,c),c.J())a=[];else{var d=c.g;a=[new wh(fi(a),gi(a),th(c),d)]}return b.concat(a)};
cm.prototype.i=function(a){return fi(a)};function em(a,b){Sh.call(this,"applicationMetadata",b);S(this,"dt",a);this.i=[]}F(em,Sh);em.prototype.g=!1;em.prototype.tb=function(){em.G.tb.call(this);this.g=!1};em.prototype.ta=function(){return this.g||em.G.ta.call(this)};function fm(a,b,c){am.call(this,a,b,void 0,"update-application-metadata");this.j=c}F(fm,am);function gm(a){H.call(this);this.n=a}F(gm,bm);gm.prototype.e=function(){return["applicationMetadata"]};gm.prototype.i=function(a){return a.e.dt};gm.prototype.g=function(a){var b=this.i(a);return[new fm(b,a,a.g?a.i.concat():null)]};function hm(a,b,c,d,e){Sh.call(this,"documentEntity",e);S(this,"entityId",a);S(this,"documentId",b);S(this,"entityType",c);S(this,"data",d)}F(hm,Sh);hm.prototype.getData=function(){return Vh(this,"data")};function im(){H.call(this)}F(im,bm);im.prototype.e=function(){return["documentEntity"]};im.prototype.i=function(a){return[a.e.documentId,a.e.entityType,a.e.entityId]};function jm(){H.call(this)}F(jm,bm);jm.prototype.e=function(){return[]};function km(a,b){this.e="document-lock";this.g=a;this.i=b}F(km,uh);function lm(a,b){J.call(this,"m",b)}F(lm,J);function mm(){};function nm(){H.call(this)}F(nm,bm);nm.prototype.e=function(){return[]};function om(a,b,c,d,e,f,h,l,k){Sh.call(this,"blobMetadata",k);S(S(S(S(S(S(S(S(this,"d",a),"p",b),"u",c),"ou",d),"f",e),"c",f),"s",h),"oc",l);this.g=bj();this.i=bj();"awaiting-original-url"!=h&&V(this.i,d);"failed"==h?this.g.errback():c&&V(this.g,c)}F(om,Sh);var pm=["c","oc","ou","u"];q=om.prototype;q.ra=function(){return this.e.p};q.getUrl=function(){return Yh(this,"u")};q.getFileName=function(){return this.e.f};q.wb=function(){return Yh(this,"c")};q.aa=function(){return this.e.s};
function qm(a,b){S(a,"s",b);"awaiting-original-url"==b||1!=a.i.e||V(a.i,Yh(a,"ou"));"failed"!=b||1!=a.g.e||a.g.errback()}q.xb=function(){return new Mh(this.e.d,2)};q.Ma=function(a){return this==a?!0:this.ra()==a.ra()&&this.getUrl()==a.getUrl()&&Yh(this,"ou")==Yh(a,"ou")&&this.getFileName()==a.getFileName()&&this.wb()==a.wb()&&this.aa()==a.aa()&&Yh(this,"oc")==Yh(a,"oc")};function rm(){H.call(this)}F(rm,bm);rm.prototype.e=function(){return["blobMetadata"]};rm.prototype.g=function(a){return rm.G.g.call(this,a,pm)};rm.prototype.i=function(a){return[a.e.d,a.ra()]};function sm(a){am.call(this,tl(a),a,sl,"pq-clear")}F(sm,am);function tm(a){am.call(this,tl(a),a,sl,"pq-clear-sent-bundle");if(a.j)throw Error("The queue is in a state that does not allow commands");this.j=0<a.g.length||1<a.i.length}F(tm,am);function um(a){am.call(this,tl(a),a,sl,"pq-clear-sent")}F(um,am);function vm(a,b){this.e="pq-delete-commands";this.g=a;this.i=b}F(vm,uh);function wm(a){am.call(this,tl(a),a,sl,"pq-mark-sent");this.j=[];this.l=!1;var b=a.k;if(7==a.Ga){this.l=!0;a=a.lb;for(var c=0;c<a.length;c++)b++,this.j.push(new xm(a[c].La,a[c].getRequestId(),b))}else this.j.push(new xm(a.sa?a.sa.sessionId:null,a.sa?a.sa.requestId:null,b))}F(wm,am);function xm(a,b,c){this.sessionId=a;this.requestId=b;this.lastEntryIndex=c};function ym(a,b,c){this.e="pq-write-commands";this.j=a;this.i=b;this.g=c}F(ym,uh);ym.prototype.oa=n("i");function zm(a,b){this.k=a;this.g=b}zm.prototype.e=function(){return["pendingQueue"]};zm.prototype.i=function(a){return tl(a)};function Am(a,b){if(a=a.k[b])return a;throw Error("No document adapter available for type "+b);}
zm.prototype.l=function(a){if(a.za)throw Error("Cannot delete pending queues.");Am(this,a.e.documentType);var b=a.Ga,c=[];switch(b){case 7:b=tl(a);var d=a.k,e=a.lb;c=[];for(var f,h=0;h<e.length;h++){d++;f=Bm(this,e[h].oa(),tl(a),d,!0);if(!f)throw Error("Unexpected null operation");c.push(f)}d=a.k+c.length;e=a.mb?a.mb:[];f=[];h=[];for(var l=0;l<e.length;l++){var k=Bm(this,e[l].oa(),b,d+1);k&&(h.push(k),f.push(new Cm(e[l].getRequestId(),e[l].La,d+1)),d++)}xl(a,Dm(f));c.push(new wm(a));Za(c,h);0<=a.k&&
c.push(new vm(b,a.k));break;case 1:c=a.k+1;d=tl(a);b=[];e=a.Eb;h=a.sa?a.sa.requestId:null;l=a.sa?a.sa.sessionId:null;f=Em(Uh(a,"unsentBundleMetadata"));if(null===h||null===l){if(!f.length)throw Error("Bundles and metadata do not match!");h=f[f.length-1];f[f.length-1]=new Cm(h.requestId,h.sessionId,c)}else f.push(new Cm(h,l,c));e&&xl(a,Dm(f));xb(a.l)||b.push(new am(d,a,sl));(a=Bm(this,e,d,c))&&b.push(a);c=b;break;case 5:xl(a,null);c.push(new wm(a));break;case 2:xl(a,null);c.push(new sm(a));break;case 3:c.push(new um(a));
break;case 4:c.push(new tm(a));break;case 6:c.push(new am(tl(a),a,sl));break;default:throw Error("Unknown Pending Queue operation type: "+b);}return c};function Bm(a,b,c,d,e){if(!(e||b&&0!=b.length))return null;e=[];if(b){for(var f="",h=0;h<b.length;h++){var l=qk(b[h]);e.push(l);f+=ch(l.toString())}0<f.length&&a.g.W(Error("Serializing commands containing malformed surrogate characters"),{command_malformedText:f})}return new ym(c,e,d)}
function Em(a){if(!a)return[];for(var b=[],c=0;c<a.length;c++)b.push(new Cm(a[c].rid,a[c].sid,a[c].lei));return b}function Dm(a){if(!a.length)return null;for(var b=[],c=0;c<a.length;c++){var d=a[c],e={};e.rid=d.requestId;e.sid=d.sessionId;e.lei=d.lastEntryIndex;b.push(e)}return b}function Cm(a,b,c){this.requestId=a;this.sessionId=b;this.lastEntryIndex=c};function Fm(){H.call(this);this.n={};this.H=new P;I(this,this.H)}F(Fm,H);function Gm(a,b){for(var c=b.e(),d=0;d<c.length;d++){var e=c[d];if(a.n[e])throw Error("Record type "+e+"already handled by another capability.");a.n[e]=b}}q=Fm.prototype;q.gd=aa(null);q.Nb=aa(null);q.lc=aa(null);q.db=aa(null);q.kc=aa(null);q.eb=aa(null);function Hm(a,b,c){Sh.call(this,"syncObject",a);S(this,"keyPath",b);S(this,"state",c)}F(Hm,Sh);Hm.prototype.getData=function(){return this.e.data};function Im(a){a=Uh(a,"state");if(!a)throw Error("SyncObject not allowed to have null state.");return a};function Jm(){H.call(this)}F(Jm,bm);Jm.prototype.e=function(){return["syncObject"]};Jm.prototype.i=function(a){return ai(a)};function Km(a,b,c,d){this.e="append-template-commands";this.k=a;this.g=b;this.i=c;this.j=d}F(Km,uh);function Lm(){H.call(this)}F(Lm,H);function Mm(a,b,c,d,e,f,h,l,k,p,r,u,w,B,z,y,O){Sh.call(this,"templateMetadata",O);S(this,"id",a);S(this,"title",b);S(this,"style",c);S(this,"category",d);S(this,"locale",e);S(this,"creator",f);S(this,"thumbnailUrl",h);S(this,"documentType",l);S(this,"lastModifiedTimestamp",k);S(this,"fontFamilies",p);S(this,"brandedAuthor",r);S(this,"brandedUrl",u);S(this,"masterTemplate",w);R(this,"isThumbnailReady",B);R(this,"isReady",z);R(this,"isDirty",y)}F(Mm,Sh);function Nm(a){H.call(this);this.n=a}F(Nm,bm);Nm.prototype.e=function(){return["templateCreationMetadata","templateMetadata"]};Nm.prototype.i=function(a){return"templateCreationMetadata"==a.B?[a.i()]:[a.e.id]};Nm.prototype.g=function(a){var b=Nm.G.g.call(this,a);if("templateCreationMetadata"==a.B){Om(this,a.g());var c=th(a.j());b=b.concat(a.za||0==c.length?[]:[new Km(a.i(),a.g(),c,!0)])}return b};function Om(a,b){a=a.n[b];if(!a)throw Error("No adapter found for this type: "+b);return a};function Pm(a,b){Sh.call(this,"user",b);S(this,"id",a);R(this,"fastTrack",!0)}F(Pm,Sh);function Qm(){H.call(this)}F(Qm,bm);Qm.prototype.e=function(){return["user"]};function Rm(a){var b=bj();nk(a,function(a){return V(b,a)});return Wi(b,function(a){if(1>a.length)throw new Bh("Expected an offline user in localstore");return a[0]})}Qm.prototype.g=function(a,b){if(a.za)throw Error("User deletion is not implemented.");return Qm.G.g.call(this,a,b)};Qm.prototype.i=function(a){return a.e.id};function Sm(a,b,c,d,e,f,h){Sh.call(this,"fontMetadata",h);this.g=a;this.i=b;b="latin"==b?a:a+"|"+b;a=N(M(),"docs-ofmpp");c=R(R(S(S(this,"fontFamily",b),"version",c),"domainFont",d),"inkedSpace",e);d=[];for(e=0;e<f.length;e++){b=f[e];var l=b.e;h=[];for(var k=0;k<l.length;k++){var p=l[k],r={};r.format=p.e;r.isSystemFont=p.i;r.url=p.g;h.push(r)}l=Tm;k={};k[l.ac]=b.g;k[l.sb]=b.k;k[l.bc]=b.i;k[l.Pd]=h;k[l.dc]=b.j;k[l.fc]=b.q;d.push(k)}S(c,"fontFaces",d,a)}F(Sm,Sh);Sm.prototype.getFontFamily=n("g");
Sm.prototype.M=n("i");Sm.prototype.yb=function(){for(var a=this.e.fontFaces,b=[],c=0;c<a.length;c++){for(var d=a[c],e=[],f=d.source,h=0;h<f.length;h++){var l=f[h];e.push(new Um(l.format,l.isSystemFont,l.url))}f=Tm;b.push(new Vm(d[f.ac],x(d[f.sb])?d[f.sb]:"latin",d[f.bc],d[f.dc],d[f.fc],e))}return b};function Vm(a,b,c,d,e,f){this.g=a;this.k=b;this.i=c;this.j=d;this.q=e;this.e=f}var Tm={ac:"fontFamily",sb:"subset",bc:"isMenuFont",Pd:"source",dc:"style",fc:"weight"};Vm.prototype.getFontFamily=n("g");
Vm.prototype.M=n("k");function Um(a,b,c){this.e=a;this.i=b;this.g=c}Um.prototype.hb=n("e");Um.prototype.getUrl=n("g");function Wm(a){a=a.split("|");return new Xm(a[0],1<a.length?a[1]:"latin")}function Xm(a,b){this.e=a;this.g=b};function Ym(a){a=Wm(a);this.i=a.e;this.j=a.g;this.e=null}
Ym.prototype.get=function(){if(!this.e){var a=this.g,b=X(a,"fontFamily"),c=X(a,"version"),d=!!X(a,"domainFont"),e=!!X(a,"inkedSpace");a=Zm(X(a,"fontFaces"));for(var f=0;f<a.length;f+=1);f=Wm(b);b=f.e;f=f.g;for(var h=[],l=0,k;k=a[l];l++){for(var p=k.source,r=[],u=0,w;w=p[u];u++)r.push(new Um(w.format,w.isSystemFont,w.url));p=Tm;h.push(new Vm(k[p.ac],x(k[p.sb])?k[p.sb]:"latin",k[p.bc],k[p.dc],k[p.fc],r))}c=new Sm(b,f,c,d,e,h,!1);c.q=!1;this.g=null;this.e=c}return this.e};
Ym.prototype.getFontFamily=n("i");Ym.prototype.M=n("j");function $m(){H.call(this)}F($m,bm);$m.prototype.e=function(){return["fontMetadata"]};$m.prototype.i=function(a){return a.e.fontFamily};function an(a){H.call(this);this.e=a;this.i=new P;I(this,this.i);this.g=!1}F(an,H);an.prototype.ka=function(a,b,c){if(!this.g)throw Error("Cannot write to read-only local store.");var d=bn(a);a=cn(this,a);0==a.length?b():dn(this.e,a,D(function(){Q(this.i,d);b()},this),c)};function bn(a){for(var b=[],c=0;c<a.length;c++)b.push(new mm);return new lm(b)}
function cn(a,b){for(var c=[],d=null,e=0;e<b.length;e++){var f=b[e];if(f.ta()||f.za){var h=a.e.n[f.B]||null;if(h){h=h.l(f);c=c.concat(h);if((h=f.xb())&&d){if(d.e!=h.e)throw Error("Cannot compare two requirements with different doc id.");d=d.g>h.g?d:h}else d=d||h;f.tb();f.ta()}else throw Error("No Capability for record :"+f.B);}}d&&c.unshift(new km(d.e,d.g));return c};function en(a,b,c){this.e=a;this.g=b;this.i=c}function fn(a,b,c){gn(a.i.e.g,a.e,D(a.j,a,b),c)}en.prototype.j=function(a,b){b?a(b):a(new rl(this.e,this.g,!0,-1,[],[]))};function hn(a,b,c){this.g=a;this.e=b;this.i=c}hn.prototype.S=n("g");function jn(a,b){H.call(this);this.L=a;this.i=b;this.l=null;this.D=-1;this.O=new P;I(this,this.O);this.X=new P;I(this,this.X);this.K=new P;I(this,this.K);this.w=new P;I(this,this.w);this.U=new P;I(this,this.U);this.Y=new P;I(this,this.Y);this.v=new P;I(this,this.v);this.o=new P;I(this,this.o);this.Ba=new P;I(this,this.Ba);this.ha=new P;I(this,this.ha);this.ga=new P;I(this,this.ga)}F(jn,H);q=jn.prototype;q.rd=!1;q.Kb=!1;function kn(a){a.l=null;wl(a.e,null)}
q.oa=function(){for(var a=Dl(this.e),b=[],c=0;c<a.length;c++)Za(b,a[c].oa());Za(b,Fl(this.e));return b};q.J=function(){return!ln(this)&&!(Tk(this.e)&&this.j)};function Dk(a){return ln(a)&&!Jk(a)}function mn(a){Kk(a);return a.e.S()}
function Ek(a){Kk(a);var b=Fl(a.e).length,c=x(void 0)?void 0:b;if(0>c||c>b)throw Error("Invalid number of unsent commands requested for dequeue");b=bj();if(ln(a)){var d=b;a.L&&(b=Wi(b,function(b){for(var c=b.S(),d=b.e,e=[],k=0;k<d.length;k++){var p=d[k],r=a.L.e(p.oa());e[k]=r?new ql(r,p.getRequestId(),p.La):p}return new hn(c,e,b.i)}));nn(a,c,d)}else V(b,new hn(mn(a),[],a.l)),a.l=null;return b}function on(a){a.Kb||(a.Kb=!0,Q(a.Y,null))}
function pn(a){a.Kb=!1;var b=bj();a.i.W(Error("Pending queue cleared from mobilenative.LocalStorePendingQueueClearer"));a.j=!1;a.A=!1;null!==Mk(a.e)?fj(Rl(a.g),b):(Rk(a.g),Sk(a.g,1),Bl(a.e),fj(qn(a,!0),b));a.l=null;Q(a.U,null);a.J()&&Q(a.w,null);return b}function Kk(a){if(!a.rd)throw Error("Attempting to use an uninitialized queue.");}q.gc=n("Kb");function Vk(a){var b=bj();Jk(a)?V(b,null):(ul(a.e,!0),Sk(a.g,0,!a.A),fj(qn(a),b));Q(a.K,null);return b}
function Uk(a,b){b=rn(a,b);Ui(b,function(){Q(a.X,null)})};function sn(a,b,c,d,e,f,h,l,k,p,r,u,w){jn.call(this,h,e);this.g=a;this.Aa=c;this.Q=f;this.n=bj();this.e=b;this.k=l;this.A=this.j=!1;this.H={};this.qa=u;this.F=!1;this.e?(Ql(this.g,this.e),V(this.n,this)):fn(new en(k,p,d),D(this.pa,this,w),D(this.la,this));Ui(this.g.Wa,function(){this.e&&!this.e.J()&&Q(this.v,null)}.bind(this))}t(sn,jn);sn.prototype.pa=function(a,b){a&&a.g("pqr");this.e=b;Ql(this.g,b);V(this.n,this)};sn.prototype.la=function(a){this.n.errback(a);this.Q(a)};
function qn(a,b){var c=null;c=(void 0===b?0:b)?Ml(a.g):Jl(a.g,!0);Vi(c,function(b){return a.Q(b)});return c}
function nn(a,b,c){if(Gl(a.e)){if(Tk(a.e)&&a.j&&null===Xh(a.e,"sentBundlesSavedRevision"))throw Error("Dequeue should not be called before the previous sent bundles are marked as saved on the server");if(0<b){var d=Fl(a.e);if(b==d.length)yl(a.e);else{if(1!=b)throw Error("Num unsent can only be 1");throw Error("When requesting to send a single command it has to be null");}}}a.j=!0;b=Dl(a.e).concat();on(a);d=null;Gl(a.e)||(d=a.l,kn(a));var e=new hn(mn(a),b,d);xi(qn(a),function(){V(c,e)},D(c.errback,
c))}sn.prototype.gc=function(){return jn.prototype.gc.call(this)||!this.e.J()};function ln(a){return Gl(a.e)||!a.j&&Tk(a.e)}function Lk(a){var b=a.k,c;!(c=a.D>a.e.S())&&(c=null!==b)&&(a=Xh(a.e,"accessLevel"),a=null===a?3:a,b=pl(b),a=pl(a),c=b!=a);return c}function Jk(a){var b=a.g.e;b=b?ti(b):null;null===b?(a=a.e,a=!a.j&&(null==Vh(a,"undeliverable")?!1:""!=a.e.undeliverable)):a=0==b;return a}function rn(a,b){if(!Tk(a.e))return dj(null);vl(a.e,b);Gl(a.e)||Sk(a.g,3,!a.F);return qn(a)}
function tn(a){var b=a.i;b.g.pendingQueue_startedEmpty=a.F.toString();un(b,"pendingQueue_startedAnachronistic",Lk(a).toString());b.g.pendingQueue_initialRevision=a.e.S().toString();b.g.pendingQueue_initialModelRevision=a.D.toString();un(b,"pendingQueue_initialBundleInfo",vn(a));var c=a.g.e;b.g.localStoreDoc_id=fi(c);var d=c?ti(c):null;b.g.pendingQueue_initialState=null===d?"null":d.toString();wn(b,"pendingQueue_isEmpty",function(){return this.e.J().toString()}.bind(a));wn(b,"pendingQueue_revision",
function(){return this.e.S().toString()}.bind(a));wn(b,"pendingQueue_hasDequeued",function(){return this.j.toString()}.bind(a));wn(b,"pendingQueue_hasEnqueued",function(){return this.A.toString()}.bind(a));wn(b,"pendingQueue_bundleInfo",function(){return vn(this)}.bind(a));wn(b,"pendingQueue_isPersistent",function(){return(!0).toString()}.bind(a));wn(b,"pendingQueue_isAnachronistic",function(){return Lk(this).toString()}.bind(a));wn(b,"localStoreDoc_revision",function(){return c.S().toString()}.bind(a));
wn(b,"localStoreDoc_isCreated",function(){return(!Zh(c,"inc")).toString()}.bind(a));wn(b,"localStoreDoc_isPendingCreation",function(){return(!!Zh(c,"pendingCreation")).toString()}.bind(a));wn(b,"localStoreDoc_lastModifiedClientTimestamp",function(){return Wh(c,"lastModifiedClientTimestamp").toString()}.bind(a));wn(b,"localStoreDoc_lastModifiedServerTimestamp",function(){return Wh(c,"lastModifiedServerTimestamp").toString()}.bind(a))}
function vn(a){var b="",c=Dl(a.e);a=c.concat(El(a.e));for(var d=0;d<a.length;d++){var e=d<c.length?"sent":"unsent";e={sid:a[d].La,rid:a[d].getRequestId(),type:e};b+=JSON.stringify(e)+"\n"}return b};function xn(a,b,c,d,e,f,h,l){return c.e.g?(new sn(a,null,b,c,d,e,null,null,f,h,l,null,null)).n:null};function yn(){J.call(this,"n")}F(yn,J);function zn(){J.call(this,"o")}F(zn,J);function An(){J.call(this,"q")}F(An,J);function Bn(){J.call(this,"r")}F(Bn,J);function Cn(){J.call(this,"s")}F(Cn,J);function Dn(){K.call(this);this.w=new P;I(this,this.w);this.U=new P;I(this,this.U);this.L=new P;I(this,this.L);this.H=new P;I(this,this.H);this.l=new P;I(this,this.l);this.O=new P;I(this,this.O);this.qa=new P;I(this,this.qa)}F(Dn,K);function En(a,b){J.call(this,"u");this.g=a;this.message=b}F(En,J);function Fn(a,b,c,d,e,f,h,l,k,p,r){Dn.call(this);this.A=a;this.Y=b;this.e=c;this.F=d||null;this.D=e||null;this.pa=f||{};this.v=0;this.o=this.k=null;this.X=!!h;this.la=!!l;this.g=k||null;this.n=p||null;this.Q=r||null;this.j=new P;I(this,this.j)}F(Fn,Dn);
function Gn(a,b){if(!a.g||!a.g.e())if(b)if(0==a.v&&!a.k||!a.X&&a.v!=a.k.F)Q(a.j,new En(1,"Missing chunks"));else if(a.e){b=a.e;var c=a.k.e;if(b.e&&b.qa){if(b.k)throw Error("Cannot process startup hints twice for the same document.");b.k=zj(b.qa,b.e,c);b.n=null}else if(b.qa){if(b.n)throw Error("Startup hints were already set.");b.n=c}if((b=a.k.g)&&a.D&&a.F){c=a.D;var d=a.A,e={},f=[];for(h in b)c.e(d,h,b[h],e,f);a.e.Ta=f;var h=yb(e);Bb(h,a.pa);b=D(a.ha,a);Hn(a.F.e,h,["documents",a.A],!0,b)}else Q(a.l,
null)}else Q(a.l,null);else Q(a.j,new En(3,"Document not accessible"))}Fn.prototype.ha=function(a){0<a.qb||0<a.cb?Q(this.j,new En(2,"File sync failed")):Q(this.l,null)};function In(){}In.prototype.stringify=function(a){return v.JSON.stringify(a,void 0)};In.prototype.parse=function(a){return v.JSON.parse(a,void 0)};var Jn=new In;function Kn(a,b){b=(void 0===b?null:b)||Jn;return a&&b.parse(a.replace(/^[^[{]+/,""))||null};function Ln(a,b,c,d,e){this.k=a;this.B=b;this.g=c;this.j=d;this.q=e;this.e=0;this.i=null}
function Mn(a,b){a.i&&(Df.clearTimeout(a.i),a.i=null);for(var c=a.k();;){if(0==a.e)if(c&&5<=c.length)if(0==c.lastIndexOf(")]}'\n",0))a.e+=5;else{a.g("Safety prefix not present.");break}else break;if(5==a.e)if(c.length>=a.e+2)if("0&"==c.substring(a.e,a.e+2))a.e+=2;else{a.g("Chunked version marker not present.");break}else break;var d=c.indexOf("&",a.e);if(0>d){b&&a.j();break}var e=+c.substring(a.e,d);if(isNaN(e)){a.g("Invalid chunk size.");break}e=e+d+1;if(c.length<e)break;a.e=e;d=c.substring(d+1,
e);try{var f=Kn(d)}catch(h){a.g("Error parsing chunk.");break}if(f)a.B(f);else{a.g("Received a blank chunk.");break}if(!a.q){a.i=Gf(D(a.l,a,b));break}}}Ln.prototype.l=function(a){this.i=null;Mn(this,a)};function Nn(a,b,c){this.e=a;this.g=b;this.i=c};function On(a,b,c,d,e,f,h,l,k,p,r,u,w,B,z,y,O,oa){this.v=a;this.o=b;this.n=c;this.q=d;this.i=e;this.j=f;this.e=h;this.g=l;this.w=k;this.l=p;this.I=r;this.D=u;this.A=w;this.B=B;this.k=x(z)?z:null;this.F=x(oa)?oa:null;this.H=y;this.K=O}On.prototype.S=n("v");function Pn(a,b,c,d,e,f){this.n=a;this.j=b;this.I=d;this.l=e;this.g=this.k=0;this.q=new Ln(this.n,D(this.o,this),D(this.B,this),D(this.v,this),c);this.e=!1;this.i=f||null}
Pn.prototype.o=function(a){if(0==this.k){this.i&&Eh(this.i,"mmr",this.g);var b=a.me,c=b.rat;var d=new On(a.r,c?new ci(c):null,a.mv,a.fv,b.al,b.dkd,b.sh,a.eo,b.t,!!b.ft,b.js,b.lm,!!b.d,!!b.sd,b.defe||null,a.slm||null,a.spd||null,a.mc);b=this.j;a=E();b.k=d;var e=d.S();b.o=e;var f=d.o,h=d.n,l=d.q;Q(b.L,new An(e,f,h,l));if(!b.g||!b.g.e()){var k=d.i;c=d.j;Q(b.w,new yn(Number(k),c));Q(b.U,new Cn(d.e));Q(b.H,new zn(d.g));if(b.n){var p=d.H;if(p){var r=b.n,u;for(u in p)Eh(r,u,p[u])}}b.Q&&(u=d.K)&&b.Q.e(u);
if(b.e){var w=d.l;p=d.I;u=d.D;var B=d.A,z=d.B;r=d.k;var y=b.e;d=d.w;y.e?(S(y.e,"title",d),y.Q=null):y.Q=d;d=b.e;d.e?(R(d.e,"isFastTrack",w),d.F=null):d.F=w;d=b.e;(w=d.e)?(R(w,"ind",!B),d.U=null):d.U=B;d=b.e;(B=d.e)?(R(B,"isd",z),d.H=null):d.H=z;z=b.e;z.e?(S(z.e,"defe",r),z.Ba=null,z.gb=!1):(z.Ba=r,z.gb=!0);p&&(r=b.e,r.e?(S(r.e,"jobset",p),r.K=null):r.K=p);u&&(p=b.e,null!=u&&(p.e?(ii(p.e,u),p.Y=0):p.Y=u));u=b.e;u.e?(ni(u.e,h),u.L=null):u.L=h;h=b.e;h.e?(oi(h.e,l),h.A=null):h.A=l;l=b.e;l.j&&hi(l.e,e,
f);l.O=e;l.vd=f;b.la||Tl(b.e);e=Number(k);isNaN(e)||(f=b.e,(k=f.e)?bi(k,"acl",f.Lc,e):f.Aa=e);c&&(e=b.e,e.e?(ji(e.e,c),e.l=null):e.l=c)}b.n&&Eh(b.n,"mml",E()-a)}}else if(1==this.k&&this.i&&Eh(this.i,"fmpdr",this.g),b=this.j,f=new Nn(a.si,a.sci,a.sc),!b.g||!b.g.e()){if(null==b.o)throw Error("Revision was not defined");k=b.Y;e=b.o;a=b.e||void 0;l=f.e;l=(c=""==l)?k.e:k.g+l;k=f.g;E();f=Ug(f.i);E();if(a)if(e=new Xg(e,f,l,k),c=c&&0==k,a.v)!a.w||a.i.log(Error("If the proxy has been discarded, the command queue must be null"));
else{if(e.S()!=Il(a))throw Error("Expected batch revision of "+Il(a)+", but got "+e.S());a=a.w;c&&(a.e=[],a.g=!0);a.e.push(e)}Q(b.O,new Bn(new Pg(f),b.o));b.v++}this.k++};Pn.prototype.B=function(){this.e=!0;this.I()};Pn.prototype.v=function(){this.e||(Gn(this.j,!0),this.l())};function Qn(a,b,c){switch(a){case 3:var d="Request returns too much data";break;case 2:d="Missing chunks";break;default:d="Unknown server error"}b&&(d+=": "+b);Ia.call(this,d);this.e=a;this.g=!!c}F(Qn,Ia);Qn.prototype.docs_permanent_error_checker_817115=!0;Qn.prototype.Hc=n("g");function Rn(a){this.e=a?yb(a):{};this.g=null}function Sn(){var a=M().get("info_params");A(a)?a=JSON.parse(a):(a=M(),a=Og(a,"info_params"));return new Rn(a)};function Tn(a){K.call(this);this.Q=new Rb;this.A=a||null;this.g=!1;this.w=this.e=null;this.H="";this.j=0;this.k=this.F=this.o=this.D=!1;this.n=0;this.v=null;this.l="";this.L=this.O=!1}F(Tn,K);var Un=/^https?$/i,Vn=["POST","PUT"],Wn=[];q=Tn.prototype;q.Sd=function(){this.Z();Wa(Wn,this)};
q.T=function(a,b,c,d){if(this.e)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+a);b=b?b.toUpperCase():"GET";this.H=a;this.j=0;this.D=!1;this.g=!0;this.e=this.A?this.A.g():La.g();this.w=this.A?Ka(this.A):Ka(La);this.e.Xb=D(this.xd,this);try{this.F=!0,this.e.open(b,String(a),!0),this.F=!1}catch(f){Xn(this);return}a=c||"";var e=this.Q.R();d&&Zb(d,function(a,b){e.set(b,a)});d=Ua(e.ma());c=v.FormData&&a instanceof v.FormData;!(0<=Oa(Vn,b))||d||c||e.set("Content-Type",
"application/x-www-form-urlencoded;charset=utf-8");e.forEach(function(a,b){this.e.Jd(b,a)},this);this.l&&(this.e.$f=this.l);"withCredentials"in this.e&&this.e.hf!==this.O&&(this.e.hf=this.O);try{Yn(this),0<this.n&&((this.L=Zn(this.e))?(this.e.timeout=this.n,this.e.ontimeout=D(this.md,this)):this.v=Gf(this.md,this.n,this)),this.o=!0,this.e.T(a),this.o=!1}catch(f){Xn(this)}};function Zn(a){return Uc&&gd(9)&&pa(a.timeout)&&x(a.ontimeout)}function Va(a){return"content-type"==a.toLowerCase()}
q.md=function(){"undefined"!=typeof goog&&this.e&&(this.j=8,ve(this,"timeout"),this.Ia(8))};function Xn(a){a.g=!1;a.e&&(a.k=!0,a.e.Ia(),a.k=!1);a.j=5;$n(a);ao(a)}function $n(a){a.D||(a.D=!0,ve(a,"complete"),ve(a,"error"))}q.Ia=function(a){this.e&&this.g&&(this.g=!1,this.k=!0,this.e.Ia(),this.k=!1,this.j=a||7,ve(this,"complete"),ve(this,"abort"),ao(this))};q.z=function(){this.e&&(this.g&&(this.g=!1,this.k=!0,this.e.Ia(),this.k=!1),ao(this,!0));Tn.G.z.call(this)};
q.xd=function(){this.q()||(this.F||this.o||this.k?bo(this):this.Nc())};q.Nc=function(){bo(this)};function bo(a){if(a.g&&"undefined"!=typeof goog&&(!a.w[1]||4!=co(a)||2!=a.aa()))if(a.o&&4==co(a))Gf(a.xd,0,a);else if(ve(a,"readystatechange"),4==co(a)){a.g=!1;try{eo(a)?(ve(a,"complete"),ve(a,"success")):(a.j=6,$n(a))}finally{ao(a)}}}function ao(a,b){if(a.e){Yn(a);var c=a.e,d=a.w[0]?ta:null;a.e=null;a.w=null;b||ve(a,"ready");try{c.Xb=d}catch(e){}}}
function Yn(a){a.e&&a.L&&(a.e.ontimeout=null);a.v&&(Df.clearTimeout(a.v),a.v=null)}function eo(a){var b=a.aa();a:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break a;default:c=!1}if(!c){if(b=0===b)a=String(a.H).match(bc)[1]||null,!a&&v.Qc&&v.Qc.location&&(a=v.Qc.location.Yb,a=a.substr(0,a.length-1)),b=!Un.test(a?a.toLowerCase():"");c=b}return c}function co(a){return a.e?a.e.ua:0}q.aa=function(){try{return 2<co(this)?this.e.Sc:-1}catch(a){return-1}};
function fo(a){try{return a.e?a.e.Gb:""}catch(b){return""}}function go(a){try{if(!a.e)return null;if("response"in a.e)return a.e.Gd;switch(a.l){case "":case "text":return a.e.Gb;case "arraybuffer":if("mozResponseArrayBuffer"in a.e)return a.e.Of}return null}catch(b){return null}}q.Sb=function(a){if(this.e&&4==co(this))return a=this.e.Sb(a),null===a?void 0:a};q.Rb=function(){return this.e&&4==co(this)?this.e.Rb()||"":""};Pd(function(a){Tn.prototype.Nc=a(Tn.prototype.Nc)});function ho(a,b,c,d,e,f,h,l,k,p,r,u,w,B,z,y,O){H.call(this);this.K=a;this.D=b;this.k=d;this.i=new yk(this);this.j=x(w)?w:null;this.n=l;this.H=k;this.l=r;this.A=p;this.o=B||null;if(null!=this.j&&!this.o)throw Error("Must supply revision HMAC when fetching at revision.");this.v=z||null;this.F=h;this.L=Sn();a=pa(y)?y:6E4;this.e=u?u():new Tn;this.g="";0<a&&(this.e.n=Math.max(0,a));this.O=e;this.i.ia(this.e,"readystatechange",this.kf);this.i.ia(this.e,"complete",this.jf);e=D(this.ce,this);u=D(this.Vd,
this);a=D(this.Z,this);this.w=new Pn(e,c,f,u,a,O)}F(ho,H);q=ho.prototype;q.kf=function(){if(!this.q())if(null!==this.n&&fo(this.e).length>this.n){Rd(this.e);var a=new Qn(3,void 0,!0);this.k(a);this.Z()}else this.O&&3==co(this.e)&&eo(this.e)&&200==this.e.aa()&&(this.g=fo(this.e),a=this.w,a.g=E(),a.e||Mn(a.q,!1))};
q.jf=function(){if(!this.q()){this.g=fo(this.e);var a=this.w,b=this.e.aa(),c="last error code: "+this.e.j;a.e||(404==b||410==b||403==b?(Gn(a.j,!1),a.l()):200!=b?(b="Model XHR failed with status: "+b,c&&(b+=", "+c),a.B(b)):(a.g=E(),a.e||Mn(a.q,!0)))}};
q.Vd=function(){var a=this.e.aa(),b=this.e.j;a:{if(6==b){if(202==a||401==a||403==a||409==a||421==a||429==a||500<=a&&599>=a&&503!=a&&550!=a||0>=a||405==a||503==a){var c=!1;break a}if(400<=a&&499>=a||550==a){c=!0;break a}}c=!1}var d=new Qn(1,void 0,c);if(6==b&&a)switch(a){case 413:d=new Qn(3,a.toString(),!0);break;default:d=new Qn(1,a.toString(),c)}this.k(d);this.Z()};q.ce=n("g");q.z=function(){delete this.g;Rd(this.i);Rd(this.e);ho.G.z.call(this)};function io(a,b,c,d){H.call(this);this.j=a;this.k=b;this.l=c;this.i=d||null;this.e=0;this.g=new P;I(this,this.g)}F(io,H);function jo(a,b){a.e++;a.k.ka(b,D(a.n,a),a.i||void 0)}io.prototype.n=function(){this.e--;0==this.e&&Q(this.g,null)};function ko(){};Fa(g().prototype,Qd.prototype);function lo(a,b,c){var d=this;H.call(this);this.k=b;this.A=c;this.e={};this.g={};this.j={};this.i={};this.l={};for(b=0;b<a.length;b++)mo(this,a[b]);a=new Jj;I(this,a);Kj(a,this.k.g,function(){uk(d)||Q(d.n,null)});this.n=new P;I(this,this.n);this.o=new P;I(this,this.o);this.w=new P;I(this,this.w);this.v=new P;I(this,this.v)}F(lo,H);lo.prototype.add=function(a){mo(this,a);jo(this.k,[a]);Q(this.o,null)};
function mo(a,b){var c=b.ra(),d=b.wb(),e=Yh(b,"oc");if(a.i[c]||d&&a.i[d]||e&&a.i[e])throw Error("Adding existing blob metadata.");a.i[c]=b;d&&(a.i[d]=b);e&&(a.i[e]=b);switch(b.aa()){case "awaiting-original-url":case "pending":a.e[c]=b;break;case "saved":a.j[c]=b;a.l[c]=d;no(a,d,c,b.aa());break;case "failed":a.j[c]=b;a.l[c]="FAILED_IMAGE_UPLOAD";break;default:throw Error("Adding unknown blob type "+b.aa());}}function uk(a){return!xb(a.e)||!xb(a.g)||0<a.k.e}
function vk(a,b,c){var d=a.g[b];if(!d)throw Error("markAsSaved for blob that was not sending.");S(d,"c",c);qm(d,"saved");a.i[c]=d;no(a,c,b,d.aa());oo(a,d,c);Q(a.w,new ko)}function wk(a,b){b=a.g[b]||a.e[b];if(!b)throw Error("markAsFailed for blob that was not in the queue.");qm(b,"failed");oo(a,b,"FAILED_IMAGE_UPLOAD");Q(a.v,new ko)}function oo(a,b,c){var d=b.ra();a.j[d]=b;a.l[d]=c;a.g[d]&&delete a.g[d];a.e[d]&&delete a.e[d];jo(a.k,[b]);uk(a)||Q(a.n,null)}
function Gk(a){if(uk(a))throw Error("getResolvedBlobIdMap called when there are pending writes.");return yb(a.l)}function po(a){var b=[];Za(b,ub(a.e));Za(b,ub(a.g));Za(b,ub(a.j));return b}function no(a,b,c,d){0==b.indexOf("PLACEHOLDER_")&&qo(a.A,Error("Resolved Cosmo ID "+b+" for placeholder ID "+c+" is still a placeholder. Status: "+d))};function ro(a,b,c,d){var e=bj(),f=so(b,a,d);f?to(b.e.kc(),a,function(a){V(e,new lo(a,f,c))},d):V(e,null);return e}function so(a,b,c){var d=a.e.kc();return d?new io(b,a,d,c):null};function uo(a){this.g=a;this.e=new In}function vo(a,b,c,d,e){if(0==b.length)throw Error("Cannot send an empty message to the server.");if(!pa(d)||0>d)throw Error("Cannot send an invalid revision number to the server: "+d);d=["rev",d];if(0<b.length){for(var f=[],h=0;h<b.length;h++)f.push(wo(a.g,b[h]));d.push("bundles");d.push(a.e.stringify(f))}xb(c)||(d.push("blobIdMap"),d.push(a.e.stringify(c)));e&&(d.push("syncReason"),d.push(e));return d};function xo(a,b,c){J.call(this,a,c);this.g=b}F(xo,J);function yo(a,b,c){xo.call(this,"c",a,c)}F(yo,xo);function zo(){K.call(this)}F(zo,K);function Ao(a,b,c){J.call(this,"d",c);this.g=a}F(Ao,J);function Bo(a,b){J.call(this,"v");this.i=a;this.g=b}F(Bo,J);function Co(){H.call(this);this.e=Do;this.i=new P;I(this,this.i);this.g=new P;I(this,this.g)}F(Co,H);function Eo(a,b,c){var d=a.e;b!=d&&(a.e=b,Q(a.g,new Bo(d,b,c)))}function Fo(a,b){this.g=a;this.e=b}
var Do=new Fo("IDLE",1),Go=new Fo("BUSY",1),Ho=new Fo("RECOVERING",2),Io=new Fo("OFFLINE",3),Jo=new Fo("SERVER_DOWN",3),Ko=new Fo("FORBIDDEN",4),Lo=new Fo("AUTH_REQUIRED",4),Mo=new Fo("SESSION_LIMIT_EXCEEDED",4),No=new Fo("INCOMPATIBLE_SERVER",5),Oo=new Fo("CLIENT_ERROR",5),Po=new Fo("SAVE_ERROR",5),Qo=new Fo("BATCH_SAVE_ERROR",3);Fo.prototype.toString=n("g");function Ro(a,b,c,d,e,f,h,l,k){K.call(this);this.w=a;this.l=b;this.n=c;this.k=f;this.o=x(h)?h:3;this.j=k;this.v=l||Po}F(Ro,zo);Ro.prototype.g=!1;Ro.prototype.e=!0;
function Fk(a,b,c,d,e){if(a.g)return!1;a.g=!0;a.e=0<b.length;b=vo(a.k,b,c,d,e);c=a.e?gb(a.v):jb;b=So(pj(To(Uo(rj(sj(Vo(nj(oj(a.n,"/save"),"id",a.l),b),function(b){b=tj(b);a.g=!1;if(b&&!xb(b)){a.e=!1;var c=b.revisionRanges;if(!c||!va(c)||0>=c.length)throw Error("processCommandBatchesRequestSuccessResponse_: response did not include a non-empty array of revision ranges "+c);for(var d=[],e=-1,f=0;f<c.length;f++){var r=c[f];if(!r||2!=r.length)throw Error("processCommandBatchesRequestSuccessResponse_: invalid  revision range "+
r);var u=r[0];r=r[1];if(null==u)throw Error("processCommandBatchesRequestSuccessResponse_: range did not include a start");if(null==r)throw Error("processCommandBatchesRequestSuccessResponse_: range did not include an end");if(r<u)throw Error("processCommandBatchesRequestSuccessResponse_: expected range end ("+r+") < expected range start ("+u+")");if(u<=e||r<=e)throw Error("processCommandBatchesRequestSuccessResponse_: out of order ranges or overlapping "+c);e=r;d.push(new bh(u,r))}ve(a,new Ao(d,
b.additionalInfo))}else{if(a.e)throw Error("handleCommandBatchesRequestSuccess_: Got unexpected empty response after sending command batches.");ve(a,"d")}}),function(b){a.g=!1;var c=a.e;a.e=!1;ve(a,new yo(b,c))}),c)),a.o));if(a.w){if(!b.I)throw Error("Cannot add session data to request when session data not defined.");b.g=lc(b.g,b.I.e())}null!=a.j&&b.setTimeout(a.j);qj(b);return!0};function Wo(a){this.e=a;this.g=N(M(),"docs-localstore-epqwr")}function wo(a,b){for(var c=b.oa(),d=[],e=0;e<c.length;e++)d.push(qk(c[e]));if(a.g){e={};for(var f=0;f<d.length;f++){var h=c[f].e,l=e,k=JSON.stringify(d[f]);if(k=ch(k))l[h]||(l[h]=""),l[h]+=k}if(!xb(e)){c={};f="{";for(var p in e)f+='"'+p+'": "'+e[p]+'" ; ';c.malformedCommands=f+"}";a.e.W(Error("Malformed characters exist in command bundle after being serialized"),c)}}a={};a.commands=d;a.sid=b.La;a.reqId=b.getRequestId();return a};function Xo(a,b,c,d,e,f,h,l,k,p,r,u,w,B,z,y,O,oa,ha,Ta,sa,xa,pc,nb,re,fb,cu,du){mk.call(this,a,b,fi(p));this.Ra=c;this.Va=d;if(null==f)throw Error("Must specify a session ID in order to save changes.");this.L=e;this.Wa=f;this.K=new pk;this.la=new uo(new Wo(this.n));this.n=h;this.Ua=l;this.k=k;this.g=p;this.U=bj();this.e=new Hl(h,fi(p),void 0,du,[this.U]);this.e.Ua=!0;a=D(this.Qa,this);this.e.Ad=a;this.gb=Ta;this.Aa=sa||null;N(M(),"docos-eos");this.qa=pc||null;this.H=!!nb;this.D=new Jj;I(this,this.D);
this.v=this.l=null;this.Sa=y;this.pa=ha;if(!fb)throw Error("We can't deliver local changes without a blob transporter");this.ha=fb||null;this.j=null;this.w=r;this.Q=u;if(null!=this.w&&!this.Q)throw Error("Must supply revision HMAC when syncing at revision.");this.A=w;this.Y=B;this.O=z;this.Za=re;this.Ta=cu||null;this.F=!1;this.Xa=O;this.Ba=oa}F(Xo,mk);q=Xo.prototype;
q.cf=function(a){if(0>=a.length)this.ja(8,"Could not read local store: No opted in user.");else{var b=this.e,c=this.g;a=a[0].e.id;b.Sa=this.k;b.e=c;b.Lc=a;Pl(this.e);b=this.e;1==b.Jc.e&&(b.g&&(c=b.g,a=b.i,c.j&&(c.j=!1,a.W(Error("Clearing already saved pending queue."),{sentBundlesSavedRevision:Xh(c,"sentBundlesSavedRevision"),queueRevision:c.S()}),Bl(c)),b.g.J()&&Sk(b,1)),V(b.Jc,null));Jl(this.e);b=this.o;null!=this.w?this.Cb():Yo(this.k.e.v,b,D(this.Ae,this),D(this.Qa,this))}};
q.Ae=function(a){1!=a?this.ja(3,"Unable to acquire the storage lock"):this.A?Hi(Wk(this.g,this.L,this.n),D(this.qe,this),D(this.se,this)):Zh(this.g,"inc")?this.ja(11,"Skipping document because it is not known to exist on the server"):this.Cb()};q.se=function(){this.ja(7,"Could not create document.")};q.qe=function(){var a=D(this.Xe,this);Zh(this.g,"inc")?(Tl(this.e),Ui(Jl(this.e),a)):a()};
q.Xe=function(){var a=this;Ui(ro(this.o,this.k,this.n,D(this.Qa,this)),function(b){var c=D(a.Bd,a,D(a.Td,a),D(a.Cb,a));b?(a.j=b,U((new tk(a.j,a.ha,a.n)).T(),c)):c()})};q.Bd=function(a,b){var c=this,d=xn(this.e,this.Wa,this.k,this.n,D(this.Ce,this),fi(this.g),gi(this.g),this.K);d?xi(d,function(b){c.l=b;a()},function(a){a?c.Qa(a):c.ja(9,"Could not retrieve pending command queue.")}):b&&b()};q.Ce=g();
q.Cb=function(){var a=this,b=this.o,c=new Fn(b,this.Ua,this.e,this.Aa||void 0,this.qa||void 0,Zo(this));Kj(this.D,c.l,function(){return $o(a)});Kj(this.D,c.j,function(b){switch(b.g){case 1:a.pd(new Qn(2));break;case 2:a.ja(2,"Entity sync failed");break;case 3:a.Y?ap(a,!1):a.ja(13,"Server model fetch failed");break;default:a.ja(7,"Unknown server document loader error")}});var d=new ho(this.Ra+"/d/"+b,this.Va,c,D(this.pd,this),!1,!0,this.O,this.Ta,this.Xa,this.pa,this.Ba,this.gb,null==this.w?void 0:
this.w,this.Q||void 0,void 0,this.Za);this.F=!0;Wl(this.e);Ui(Jl(this.e),function(){var a=v.location.href.match(bc),b={};b.reason=d.F;b.smv=d.H;null!==d.l&&(b.fcs=d.l);d.v&&(b.sid=d.v);null!=d.j&&(b.osr=d.j,b.rhmac=d.o);d.A&&(b.mmv=1);Bb(b,d.L.e);b=jc(b);d.e.T(ac(a[1],void 0,a[3],a[4],d.K+d.D,b))})};function Zo(a){if(!a.j)return{};var b=Gk(a.j),c={},d;for(d in b)b=a.j,(b.e[d]||b.g[d]||b.j[d]||null).getUrl()&&(c[d]=new vj(d,null,"image"));return c}
q.Td=function(){var a=this.l;if(Jk(a))this.ja(5,"pending command queue is undeliverable.");else if(Dk(a)){a.e||Sl(a.i,Error("Cannot initialize queue without a record"));var b=a.e.S();0>b&&(tn(a),Sl(a.i,Error("Cannot initialize queue without a real pending queue revison.")));var c=$h(a.e,"revisionAccessInfo");var d=di(c);a.rd=!0;a.D=b;a.e||Sl(a.i,Error("Cannot initialize queue without a record"));var e=a.e.S();a.F=a.e.J();tn(a);if(e==b){if(Uh(a.e,"selection")&&a.qa)throw jg("Unexpected call - fromCommand").e;
}else wl(a.e,null);b<e&&!a.e.J()&&Sl(a.i,Error("Can't apply pending changes because local pending queue revision is ahead of model revision with a non-empty queue"));c=N(M(),"icso");var f=ti(a.g.e);f=null!==f&&3==f;var h=!1;c||!f||a.e.J()||(b>e?h=a.e.j=!0:b==e&&a.i.W(Error("Model revision is equal to queue revision while warm starting with a non-empty saved queue")));a.i.g.pendingQueue_forcedEmptyInMemory=h.toString();a.e.J()&&(Pk(a.e,b,d),null!==a.k&&S(a.e,"accessLevel",a.k));b>e&&c&&!a.e.J()&&(b=
Error("Model revision is ahead of queue revision while cold starting with a non-empty queue"),Jk(a)?a.i.W(b):Sl(a.i,b));b=!1;c&&f&&!a.e.J()&&(b=!0,on(a));a.i.g.pendingQueue_setWaitingForAck=b.toString();a.H[a.Aa]=!0;c=Dl(a.e).concat(El(a.e));for(b=0;b<c.length;b++)a.H[c[b].La]=!0;Q(a.O,null);Lk(a)||Q(a.o,null);this.v=new Ck(this.l,this.j,new Ro(!1,fi(this.g),this.L,this.K,new Wg,this.la,2,Qo),this.O);Hi(this.v.T(),D(this.Cb,this),D(this.De,this))}else this.Cb()};
q.De=function(a){var b=this;if(this.H&&!Jk(this.l)){var c=function(){bp(b,a)};xi(Vk(this.l),c,c)}else bp(this,a)};function bp(a,b){b.g?a.ja(5,"Permanent failure while delivering the pending command queue"):b.e?a.Qa(b.e):a.ja(6,"Temporary failure while delivering the pending command queue")}function $o(a){var b=[];a.v&&Ik(a.v);Vl(a.e,!0);Ul(a.e);Xl(a.e);V(a.U,null);var c=Pi(a.e.Wa);b.push(c);b.push(cp(a));U(new rk(b),D(a.ze,a));(b=a.k.e.gd())&&dp(b,[a.o],D(g(),a),D(function(a){this.n.log(a)},a))}
function cp(a){if(!a.A||!a.j||!po(a.j).length)return Ni();var b=new T,c=po(a.j),d=a.j;a=D(a.Ye,a,b,c);d.e={};d.g={};d.j={};d.l={};d.i={};d=d.k;ep(d.l,d.j,a,d.i||void 0);return b}q.Ye=function(a,b){for(var c=[],d=0;d<b.length;d++){var e=Yh(b[d],"ou");e&&c.push(Bj(this.Sa,e))}xi(Yi(c,!1),function(){return a.e(null)},function(b){return a.errback(b)})};q.pd=function(a){if(this.H)ap(this,!0);else switch(a.e){case 3:this.ja(14,a.message);break;default:this.ja(a.Hc()?12:7,a.message)}};
function ap(a,b){var c=a.e;c.v=!0;c.l=null;c.D=null;c.w=null;a.A?fp(a,b):a.Bd(D(a.Se,a,b))}q.Se=function(a){var b=this;Dk(this.l)?xi(Vk(this.l),gp(this,a),function(a){b.Qa(a)}):Jk(this.l)||fp(this,a)};function fp(a,b){b=gp(a,b);a.g.I?b():(Th(a.g),a.k.ka([a.g],b,D(a.Qa,a)))}function gp(a,b){return b?D(a.ja,a,7,"Server model fetch failed"):D(a.Md,a)}q.ze=function(){this.Md()};
q.Qa=function(a){if(2==a.type){var b=3;a="Write failed due to lock steal: "+hg.prototype.i.call(a)}else b=Jh(a),(b=!!b&&"QuotaExceededError"==b.name)||(b=Jh(a),b=1==a.type&&!!b&&"UnknownError"==b.name),b=b?8:9,a="Could not write document to local store: "+hg.prototype.i.call(a);this.ja(b,a)};q.ja=function(a,b){mf(hp(this),function(){this.q()||this.ab(new lk(this.o,a,b))}.bind(this))};
function hp(a){return a.F?new Ze(D(function(a,c){ip(this.k.e.e,fi(this.g),D(function(b){b?(b.Ib(!1),b.Hb(E()),this.k.ka([b],a,c)):a()},this),c)},a)):df()}q.Md=function(){this.e.e.za?this.ga():(Vl(this.e,!1),this.F&&(this.e.Ib(!0),this.e.Hb(E())),Ui(Jl(this.e),D(this.ga,this)))};q.z=function(){Rd(this.v);Xo.G.z.call(this)};function jp(a,b,c,d,e,f,h,l,k,p,r,u,w,B,z,y,O){H.call(this);this.F=a;this.e=b;this.w=d;this.n=(this.H=e)?O||new wj:null;this.i=f;this.g=h;this.v=l;this.k=k;this.j=p;this.L=r;this.A=u;this.o=w;this.l=B;this.D=z;this.K=y}F(jp,H);
function kp(a,b,c,d){var e=[];"ritz"==gi(d)&&e.push(new xj);a.i&&e.push(new ij(a.i));e=e.length?new yj(e):void 0;var f=fi(d),h=new Aj(a.v);f=new Xj(f,a.k,a.j,new jj(f,a.e,a.j),a.e,a.g);return new Xo(b,c,a.F,"/model",a.e,Zg(),a.g,new Yg(a.D,a.K),a.w,d,null,null,!0,!0,2,h,a.A,a.o,a.l,void 0,a.H||void 0,void 0,a.n||void 0,void 0,6E5,f,a.L?Mg("docs-offline-mobile-mms")||void 0:void 0,e)};function lp(a,b,c,d){this.e=a;this.j=b;this.g=c||-1;this.i=d||""}lp.prototype.getRequestId=n("e");lp.prototype.getSyncResult=n("j");lp.prototype.getMessageType=n("g");lp.prototype.getMessage=n("i");function mp(a,b){this.g=a;this.e=b}function np(a){var b=jf(),c=a.g.e.eb();c||b.e("Could not get TemplateCapability");op(c,a.e,function(a){b.resolve(a)},function(a){b.e(Ih(a))});return b.g};function ik(a){dk(this,a,0,pp)}F(ik,bk);var pp=[11,12,22,20];function qp(a){dk(this,a,0,rp)}F(qp,bk);var rp=[1,2];function sp(a,b,c){H.call(this);this.j=a;this.k=b;this.e=c?c():new Tn;this.i=new yk(this);this.i.ia(this.e,"readystatechange",this.l);this.g=jf()}F(sp,H);function tp(a){var b=v.location.href.match(bc);a.e.T(ac(b[1],void 0,b[3],b[4],a.j+"/templatemetadata",a.k?"ulmi=1":void 0));return a.g.g}sp.prototype.l=function(){4==co(this.e)&&(eo(this.e)?this.g.resolve(hk(new qp(Kn(fo(this.e))))):this.g.e("Failed fetching server templates"))};sp.prototype.z=function(){Rd(this.i);Rd(this.e);sp.G.z.call(this)};function up(a,b,c){H.call(this);this.k=a;this.l=b;this.e=c?c():new Tn;this.g=new yk(this);this.g.ia(this.e,"readystatechange",this.n);this.j=jf()}F(up,H);up.prototype.i=function(){var a=v.location.href.match(bc),b=ic(["templateid",this.k]);this.e.T(ac(a[1],void 0,a[3],a[4],this.l+"/templatemodeldata",b));return this.j.g};up.prototype.n=function(){4==co(this.e)&&eo(this.e)&&200==this.e.aa()&&this.j.resolve(fo(this.e))};up.prototype.z=function(){Rd(this.e);Rd(this.g);up.G.z.call(this)};function vp(a,b){this.g=a;this.e=b}vp.prototype.i=function(){return new Ze(function(a,b){""!=this.e.e.isThumbnailReady?a():wp(this.g,new vj(this.e.e.id,this.e.e.thumbnailUrl,"thumbnail"),D(function(c){0<c.qb||0<c.cb?b("Thumbnail syncing failed"):(R(this.e,"isThumbnailReady",!0),a())},this))},this)};function xp(a,b,c,d){H.call(this);this.j=a;this.i=b;this.k=c;this.e=d}F(xp,H);function yp(a,b){var c=a.e.I?a.g(!1):df();c=c.then(function(){return(new vp(this.i,this.e)).i()},void 0,a);b&&(c=c.then(a.l,void 0,a));return c.then(D(a.g,a,b))}xp.prototype.l=function(){var a=new up(this.e.e.id,this.k);I(this,a);return a.i().then()};xp.prototype.g=function(a){a&&(R(this.e,"isReady",!0),R(this.e,"isDirty",!1));return new Ze(function(a,c){this.j.ka([this.e],a,c)},this)};function zp(a,b,c,d){this.g=a;this.l=b;this.i=c;this.e=d}function Ap(a){return Bp(a).then(D(a.q,a)).then(D(a.j,a)).then(D(a.k,a))}function Bp(a){return new Ze(function(a,c){R(this.e,"isReady",!1);this.g.ka([this.e],a,c)},a)}zp.prototype.q=function(){return new Ze(function(a,b){Cp(this.l,[["templates"],"thumbnail"],this.e.e.id,a,b)},this)};
zp.prototype.j=function(){return new Ze(function(a,b){if(this.i){var c=this.i,d=["templates",this.e.e.id];a=new Dp(a);b=new Ep(D(c.vb,c,b));c.e.removeDirectory(Fp(d),d,a,b)}else a()},this)};zp.prototype.k=function(){return new Ze(function(a,b){Gp(this.g.e.eb(),this.e.e.id,a,b)},this)};function Hp(a,b,c,d,e,f,h,l,k,p){H.call(this);this.g=a;this.w=[b,c];this.o=d;this.v=e;this.j=new sp(e,!!p);this.i=new mp(a,f);this.n=f;this.l=h;this.e=x(k)?k:null}F(Hp,H);Hp.prototype.k=function(){return Ip(this)};function Ip(a){var b=tp(a.j),c=np(a.i);return hf([b,c]).then(function(a){for(var b=0;b<a.length;b++)if(!a[b].ld)return!1;return Jp(this,a[0].value,a[1].value).then(ib,hb)},hb,a)}
function Jp(a,b,c){for(var d=[],e=[],f=0;f<b.length;f++){var h=W(b[f],5);if(c[h]){var l=c[h];W(b[f],6)>l.e.lastModifiedTimestamp&&(null==a.e||a.e>=W(b[f],19))?(Kp(a,l,b[f]),e.push(l)):""!=l.e.isThumbnailReady||e.push(l);delete c[h]}else(null==a.e||a.e>=W(b[f],19))&&e.push(Lp(a,b[f]))}for(f=0;f<e.length;f++)d.push(yp(new xp(a.g,a.o,a.v,e[f]),!1));d.push(gf(a.w).then(function(a){var b=[],d;for(d in c)b.push(Ap(new zp(this.g,a[0],a[1],c[d])));return hf(b).then(function(){return gf(b)})},void 0,a));return hf(d).then(function(){return gf(d).then()})}
function Lp(a,b){var c=W(b,5),d=W(b,1),e=gk(b,2),f=gk(b,3),h=W(b,4),l=W(b,7),k=400>=a.l?W(b,8):W(b,9),p=W(b,6),r=fk(b,12),u=W(b,14),w=W(b,15);b=W(b,17);return new Mm(c,d,e,f,h,l,k,a.n,p,r,u,w,b,!1,!1,!0,!0)}
function Kp(a,b,c){var d=W(c,1);S(b,"title",d);d=gk(c,2);S(b,"style",d);d=gk(c,3);S(b,"category",d);d=W(c,4);S(b,"locale",d);d=W(c,7);S(b,"creator",d);a=400>=a.l?W(c,8):W(c,9);S(b,"thumbnailUrl",a);a=W(c,6);S(b,"lastModifiedTimestamp",a);a=fk(c,12);S(b,"fontFamilies",a);a=W(c,14);S(b,"brandedAuthor",a);a=W(c,15);S(b,"brandedUrl",a);c=W(c,17);S(b,"masterTemplate",c);R(b,"isThumbnailReady",!1);R(b,"isDirty",!0)}Hp.prototype.z=function(){Rd(this.i);Rd(this.j);Hp.G.z.call(this)};function Mp(){H.call(this)}F(Mp,H);Mp.prototype.k=function(){return df(!0)};function Np(a,b){this.g=a;this.e=b}q=Np.prototype;q.R=function(){return new Np(this.g,this.e)};q.Qd=function(){return this.g*this.e};q.J=function(){return!this.Qd()};q.ceil=function(){this.g=Math.ceil(this.g);this.e=Math.ceil(this.e);return this};q.floor=function(){this.g=Math.floor(this.g);this.e=Math.floor(this.e);return this};q.round=function(){this.g=Math.round(this.g);this.e=Math.round(this.e);return this};function Op(a,b,c,d,e,f,h,l,k,p,r,u,w,B){H.call(this);this.i=a;this.l=b;this.A=c;this.H=d;this.e=e;this.g=f;this.w=h;this.k=l;this.n=k;this.j=p;this.v=r;this.D=u;this.o=w;this.F=B}F(Op,H);q=Op.prototype;q.syncEditorMetadata=function(a,b){var c=D(this.Le,this,a),d=this.A;a=this.i;if(a.e.db()){var e=b||null;b=d.g;var f=D(d.i,d,a,c,e);d=D(d.i,d,a,c,e,null);(c=a.e.db())?(a=D(b.k,b,a,f,d),f=D(b.i,b,d),c.k.getUnusedDocumentIdCount(b.e,new Pp(a),Qp(f))):f(0)}else c(0,!0)};
q.Le=function(a,b,c){b=c&&null!=b;this.e.onSyncResult2(new lp(a,b?0:1,null,b?null:"Error syncing metadata."))};q.syncSyncObjects=function(a){if(this.k)this.k.i(D(this.Me,this,a));else this.e.onSyncResult2(new lp(a,0,null,null))};q.Me=function(a,b,c){this.e.onSyncResult2(new lp(a,c?1:0,null,c||null))};
q.syncWebFonts=function(a,b,c,d){if(this.w){var e=this.w,f=D(this.qd,this,a);a=D(this.Ne,this,a);for(var h=[],l={},k=hh(),p=0;p<c.length;p++){var r=oh(c[p],k);h.push(r);l[r.e]=!0}c=[];for(k=0;k<h.length;k++)c.push(new Rp(h[k].e,h[k].g));Sp(c);N(M(),"docs-emfms")&&(h=Tp(vb(l),"menu"),Za(c,h));b?Up(e.g,D(e.e.ed,e.e,c,d,f,a),a):e.e.ed(c,d,f,a)}else this.qd(a)};q.qd=function(a){this.e.onSyncResult2(new lp(a,0,null,null))};q.Ne=function(a,b){this.e.onSyncResult2(new lp(a,1,null,b.message))};
q.syncDocument=function(a,b){b=D(this.df,this,b,a);ip(this.l,a,b)};q.df=function(a,b,c){c||(c=dm(this.l,b,this.g),R(c,"hpmdo",!0));var d=kp(this.H,function(){d&&d.Z();this.e.onSyncResult2(new lp(a,0,null,null))}.bind(this),function(b){d&&d.Z();var c=b.Hc()?2:1,e={};e["document-sync-error-type"]=b.Cc;e["document-sync-error-message"]=b.message;this.D.W(Error("Document sync error"),e);this.e.onSyncResult2(new lp(a,c,b.Cc,b.message))}.bind(this),c);d.i()};
function Vp(a,b,c,d){var e=1,f=1;b=new Np(b,c);switch(a.g){case "kix":e=d?4:3;f=d?5:4;break;case "punch":case "ritz":e=d?4:2,f=d?5:4}return Math.ceil(Math.max(Math.min(b.g,b.e)/e,Math.max(b.g,b.e)/f))}q.syncTemplatesWithThumbnails=function(a,b,c,d){Wp(this,a,b,c,d)};q.syncTemplatesWithThumbnailsAtModelVersion=function(a,b,c,d,e,f){Wp(this,a,b,c,d,f)};
function Wp(a,b,c,d,e,f){Xp(a)?(c=Vp(a,c,d,e),f=new Hp(a.i,df(a.n),df(null),a.j,a.v,a.g,c,a.o,f,a.F)):f=new Mp;a=D(function(a,b,c){Yp(this,a,c);b.Z()},a,b,f);f.k().then(a)}q.syncTemplateModelAndResources=function(a,b){Xp(this)?Zp(this.i.e.eb(),b,D(function(a,b){b?(b=new xp(this.i,this.j,this.v,b),yp(b,!0).then(ib,hb).then(D(function(a,b,c){Yp(this,a,c);b.Z()},this,a,b))):Yp(this,a,!1,"Template does not exist")},this,a),D(function(a,b){Yp(this,a,!1,Ih(b))},this,a)):Yp(this,a,!1,"Localstore does not support templates")};
function Yp(a,b,c,d){a.e.onSyncResult2(new lp(b,c?0:1,null,d||null))}function Xp(a){return!(!(a.j&&a.o&&a.n)||"kix"!=a.g&&"punch"!=a.g&&"ritz"!=a.g)}q.z=function(){Sd(this.i,this.A,this.k);Op.G.z.call(this)};function $p(){}$p.prototype.e=function(){if(window.tf("This error has been reported to Google and we'll look into it as soon as possible. Please reload this page to continue.")){var a=window;a.Rf=ta;a.location.Zf()}};function aq(a){Ia.call(this,a)}F(aq,Ia);Fa(g().prototype,Qd.prototype);function bq(){this.g=0;this.e=[]}q=bq.prototype;q.add=function(a){var b=this.e[this.g];this.e[this.g]=a;this.g=(this.g+1)%50;return b};q.get=function(a){a=cq(this,a);return this.e[a]};q.set=function(a,b){a=cq(this,a);this.e[a]=b};q.P=function(){return this.e.length};q.J=function(){return 0==this.e.length};q.N=function(){var a=this.P(),b=this.P(),c=[];for(a=this.P()-a;a<b;a++)c.push(this.get(a));return c};q.ma=function(){for(var a=[],b=this.P(),c=0;c<b;c++)a[c]=c;return a};
q.Ca=function(a){for(var b=this.P(),c=0;c<b;c++)if(this.get(c)==a)return!0;return!1};function dq(a){return 0==a.P()?null:a.get(a.P()-1)}function cq(a,b){if(b>=a.e.length)throw Error("Out of bounds exception");return 50>a.e.length?b:(a.g+Number(b))%50};function eq(a){this.i=a;this.g=Math.floor(a/50);this.e=new bq}eq.prototype.get=function(a){return fq(this,a,function(a,c){return a+c.g})};function fq(a,b,c){b=b||E();gq(a,b);var d=0;b=a.g*(Math.floor(b/a.g)+1)-a.i;for(var e=a.e.P()-1;0<=e;--e){var f=a.e.get(e);if(f.e<=b)break;d=c(d,f)}return d}function gq(a,b){var c=dq(a.e);c&&b<c.e-a.g&&(a=a.e,a.e.length=0,a.g=0)}function hq(a){this.e=a}hq.prototype.g=0;hq.prototype.min=Number.MAX_VALUE;hq.prototype.max=Number.MIN_VALUE;function iq(a,b,c){H.call(this);this.i=a;this.g=b;this.e=new eq(1E3*c)}F(iq,H);function jq(a,b){b=null!=b?b:1;return(a.e.get()+b)/(a.e.i/1E3)<=a.g}function kq(a,b){b=null!=b?b:1;if(!jq(a,b))throw new aq(Pb("Query would cause ",a.i," to exceed ",a.g," qps."));a=a.e;var c=E();gq(a,c);var d=dq(a.e);if(!d||c>=d.e)d=new hq(a.g*(Math.floor(c/a.g)+1)),a.e.add(d);d.g+=b;d.min=Math.min(b,d.min);d.max=Math.max(b,d.max)};function lq(a){H.call(this);this.g=new Tn;this.o=new Oj(this.l,3E4,this);this.D=new iq("errorsender",1,8);I(this,this.D);this.A=!1;this.w=new Set;this.v=new yk(this);this.L=a||10;this.v.ia(this.g,"complete",this.H);this.v.ia(this.g,"ready",this.l)}F(lq,H);lq.prototype.T=function(a,b,c,d){var e=U(U(this.jb(),function(e){e>=this.L||(e={},e.u=a,e.m=b,e.c=c,e.h=d,this.Mb(e))},this),this.l,this);Ii(e,function(){this.w.delete(e)},this);this.w.add(e)};
lq.prototype.l=function(){0!=this.o.e||this.g.e||this.A||mq(this)};function mq(a){U(a.ib(),function(a){if(!this.g.e&&0==this.o.e&&!this.A&&a)if(4E3<a.u.length)this.Ka();else try{kq(this.D,1),this.g.T(a.u,a.m,a.c,a.h)}catch(c){if(c instanceof aq)this.A=!0;else throw c;}},a)}lq.prototype.H=function(){var a=this.g.aa();eo(this.g)||400<=a&&500>=a?this.Ka():(a=this.o,Pj(a),a.e=Gf(a.i,x(void 0)?void 0:a.k))};lq.prototype.z=function(){Sd(this.v,this.o,this.g);this.w.clear();lq.G.z.call(this)};function nq(a,b,c,d,e){lq.call(this,e);this.n=b;this.j=b+"-f";this.i=b+"-n";this.k=c;this.F=a;this.e=null;this.K=d||oq;a=this.K.open("DocsErrors",1);a.Ue=D(this.re,this);a.Uf=D(this.Oe,this);a.zd=D(this.nd,this);a.Sf=D(this.nd,this)}F(nq,lq);var oq=v.Kf||v.gg;q=nq.prototype;
q.re=function(a){var b=a.ea.Hd,c=pq(b,"readwrite");U(new rk([qq(this.j,c),qq(this.i,c)]),function(a){null==a[0][1]||null==a[1][1]?(a=c.Mc("Errors"),a.ya({key:this.j,value:"1"}),a.ya({key:this.i,value:"1"}),c.yd=D(this.bd,this,b)):this.bd(b)},this)};q.bd=function(a){this.e=a;this.l()};q.Oe=function(a){a.ea.ef.yf.xf("Errors",{keyPath:"key"})};
q.nd=function(a){this.e&&(this.e.close(),this.e=null);var b=a.ea.error,c=b&&b.name;b=b&&b.message||a.ea.webkitErrorMessage;a.ea.docs_internalAbort&&(b="Internal abort: "+b);qo(this.F,Error("IdbErrorSender: "+(c+" ("+b+")")))};q.Mb=function(a){if(!this.e)return this.k.Mb(a);var b=pq(this.e,"readwrite"),c=new T;U(qq(this.i,b),function(d){if(d){var e=b.Mc("Errors");e.ya({key:this.i,value:String(d+1)});e.ya({key:this.n+"-e-"+d,value:xe(a)});b.yd=D(c.e,c)}else c.e()},this);return c};
q.Ka=function(){if(!this.e)return this.k.Ka();var a=pq(this.e,"readwrite"),b=new T;U(new rk([qq(this.j,a),qq(this.i,a)]),function(c){var d=c[0][1];c=c[1][1];if(!d||c<=d)b.e();else{var e=a.Mc("Errors");e["delete"](this.n+"-e-"+d);d++;e.ya({key:this.j,value:String(d)});U(rq(this,a),function(c){0==c&&(e.ya({key:this.j,value:"1"}),e.ya({key:this.i,value:"1"}));a.yd=D(b.e,b)},this)}},this);return b};
q.ib=function(){if(!this.e)return this.k.ib();var a=pq(this.e,"readonly");return U(new rk([qq(this.j,a),qq(this.i,a)]),function(b){var c=b[0][1];return!c||1>b[1][1]-c?null:U(sq(this.n+"-e-"+c,a),function(a){return a&&(a=JSON.parse(a))?a:U(this.Ka(),this.ib,this)},this)},this)};q.jb=function(){if(!this.e)return this.k.jb();var a=pq(this.e,"readonly");return rq(this,a)};function rq(a,b){return U(new rk([qq(a.j,b),qq(a.i,b)]),function(a){return a[1][1]-a[0][1]})}
function qq(a,b){return U(sq(a,b),function(a){a=parseInt(a,10);return 0>a||isNaN(a)?null:a})}function sq(a,b){b=b.Mc("Errors");var c=new T;b.get(a).Ue=function(a){a.ea.Hd?c.e(a.ea.Hd.value):c.e(null)};return c}function pq(a,b){var c=["Errors"];try{return a.ef(c,b)}catch(f){b=a.Qf;for(var d=[],e=0;e<b.length;e++)d.push(b.Mf(e));throw nd(f,{databaseName:a.name,databaseObjectStores:d.toString(),databaseVersion:a.eg.toString(),transactionObjectStores:c.toString()});}}
q.z=function(){this.e&&(this.e.close(),this.e=null);nq.G.z.call(this)};function tq(){try{var a=v.Re;if(a&&(Zj||ak||Uc)&&(a.Ha("test","test"),"test"==a.Fc("test")&&(a.Dd("test"),null==a.Fc("test"))))return!0}catch(b){}return!1};function uq(){H.call(this);this.e={}}F(uq,H);uq.prototype.Ja=function(a,b,c){if(ya(a))c&&(a=D(a,c));else if(a&&"function"==typeof a.Ea)a=D(a.Ea,a);else throw Error("Invalid listener argument");c=new vq;a=Gf(D(this.g,this,a,c),b);this.e[a]=!0;return c.e=a};uq.prototype.g=function(a,b){b=b.e;null===b||delete this.e[b];a()};uq.prototype.z=function(){for(var a in this.e)Df.clearTimeout(Number(a));uq.G.z.call(this)};function vq(){this.e=null};function wq(a,b){lq.call(this,b);this.n=a;this.k=a+"-v";this.j=a+"-f";this.i=a+"-n";this.e=v.Re;tq();a=xq(this,this.k);if(!a||1>a)this.e.Ha(this.k,"1"),this.e.Ha(this.j,"1"),this.e.Ha(this.i,"1");this.l();this.F=new uq;I(this,this.F);this.F.Ja(this.Wd,3E4,this)}F(wq,lq);q=wq.prototype;q.Mb=function(a){var b=xq(this,this.i);if(!b||1!=xq(this,this.k))return Ni();try{this.e.Ha(this.i,String(b+1)),this.e.Ha(this.n+"-e-"+b,xe(a))}catch(c){}return Ni()};
q.Ka=function(){var a=xq(this,this.j);if(!a||1!=xq(this,this.k))return Ni();this.e.Dd(this.n+"-e-"+a);a++;this.e.Ha(this.j,String(a));return U(this.jb(),function(a){0==a&&(this.e.Ha(this.j,"1"),this.e.Ha(this.i,"1"))},this)};q.ib=function(){var a=xq(this,this.j);return a&&1==xq(this,this.k)?U(this.jb(),function(b){if(1>b)return null;try{var c=this.e.Fc(this.n+"-e-"+a);if(c){var d=JSON.parse(c);if(d)return d}}catch(e){}return U(this.Ka(),this.ib,this)},this):Ni(null)};
q.jb=function(){return Ni(xq(this,this.i)-xq(this,this.j))};function xq(a,b){return(a=a.e.Fc(b))?yq(a):null}function yq(a){a=parseInt(a,10);return 0>a||isNaN(a)?null:a}q.Wd=function(){if(xq(this,this.i)&&1==xq(this,this.k))for(var a=this.n+"-e-",b=0,c=this.e.length;b<c;++b){var d=this.e.Oa(b);if(d&&0==d.lastIndexOf(a,0)){var e=yq(d.substring(a.length)),f=xq(this,this.i);f&&e&&e>=f&&this.e.Dd(d)}}};q.z=function(){wq.G.z.call(this)};function zq(a){lq.call(this,a);this.e=[]}F(zq,lq);q=zq.prototype;q.Mb=function(a){this.e.push(a);return Ni()};q.Ka=function(){this.e.shift();return Ni()};q.ib=function(){return Ni(x(this.e[0])?this.e[0]:null)};q.jb=function(){return Ni(this.e.length)};q.z=function(){delete this.e;zq.G.z.call(this)};function Aq(a,b){A(b)&&/[:]/.test(b);this.i=a;this.g=b;this.constructor.$c||(this.constructor.$c={});this.constructor.$c[this.toString()]=this}Aq.prototype.toString=function(){this.e||(this.e=this.i.e+":"+this.g);return this.e};function Bq(a,b){Aq.call(this,a,b)}F(Bq,Aq);function Cq(a){/[^0-9a-zA-Z._]/.test(a);this.e=a}new Cq("lib");var Dq=new Cq("fva");new Bq(Dq,1);function Eq(a){H.call(this);this.g=a}F(Eq,H);Eq.prototype.e=function(a){return Fq(this,a)};function Gq(a,b){return(b?"__wrapper_":"__protected_")+(a[Aa]||(a[Aa]=++Ba))+"__"}function Fq(a,b){var c=Gq(a,!0);b[c]||((b[c]=Hq(a,b))[Gq(a,!1)]=b);return b[c]}
function Hq(a,b){function c(){if(a.q())return b.apply(this,arguments);try{return b.apply(this,arguments)}catch(d){if(!(d&&"object"===typeof d&&d.message&&0==d.message.indexOf("Error in protected function: ")||"string"===typeof d&&0==d.indexOf("Error in protected function: ")))throw a.g(d),new Iq(d);}finally{}}c[Gq(a,!1)]=b;return c}
function Jq(a,b){var c=ra("window"),d=c[b];c[b]=function(b,c){A(b)&&(b=Ea(Ga,b));arguments[0]=b=Fq(a,b);if(d.apply)return d.apply(this,arguments);var e=b;if(2<arguments.length){var f=Array.prototype.slice.call(arguments,2);e=function(){b.apply(this,f)}}return d(e,c)};c[b][Gq(a,!1)]=d}Eq.prototype.z=function(){var a=ra("window");var b=a.setTimeout;b=b[Gq(this,!1)]||b;a.setTimeout=b;b=a.setInterval;b=b[Gq(this,!1)]||b;a.setInterval=b;Eq.G.z.call(this)};
function Iq(a){Ia.call(this,"Error in protected function: "+(a&&a.message?String(a.message):String(a)));(a=a&&a.stack)&&A(a)&&(this.stack=a)}F(Iq,Ia);function Kq(a,b,c){K.call(this);this.k=b||null;this.j={};this.l=Lq;this.o=a;if(!c)if(this.e=null,Uc&&!gd("10"))jd(D(this.g,this));else{this.e=new Eq(D(this.g,this));Jq(this.e,"setTimeout");Jq(this.e,"setInterval");a=this.e;b=ra("window");c=["requestAnimationFrame","mozRequestAnimationFrame","webkitAnimationFrame","msRequestAnimationFrame"];for(var d=0;d<c.length;d++){var e=c[d];c[d]in b&&Jq(a,e)}a=this.e;Od=!0;b=D(a.e,a);for(c=0;c<Md.length;c++)Md[c](b);Nd.push(a)}}F(Kq,K);
function Mq(a,b){J.call(this,"y");this.Da=a;this.g=b}F(Mq,J);function Lq(a,b,c,d){var e=new Tn;Wn.push(e);e.kb("ready",e.Sd);e.T(a,b,c,d)}
Kq.prototype.g=function(a,b){a=a.Da||a;b=b?yb(b):{};a instanceof Error&&Bb(b,a.__closure__error__context__984382||{});var c=ra("window.location.href");if(A(a))a={message:a,name:"Unknown error",lineNumber:"Not available",fileName:c,stack:"Not available"};else{var d=!1;try{var e=a.lineNumber||a.Qe||"Not available"}catch(p){e="Not available",d=!0}try{var f=a.fileName||a.Na||a.sourceURL||v.$googDebugFname||c}catch(p){f="Not available",d=!0}a=!d&&a.lineNumber&&a.fileName&&a.stack&&a.message&&a.name?a:
{message:a.message||"Not available",name:a.name||"UnknownError",lineNumber:e,fileName:f,stack:a.stack||"Not available"}}if(this.k)try{this.k(a,b)}catch(p){}f=a.message.substring(0,1900);e=a.stack;try{var h=kc(this.o,"script",a.fileName,"error",f,"line",a.lineNumber);xb(this.j)||(h=lc(h,this.j));f={};f.trace=e;if(b)for(var l in b)f["context."+l]=b[l];var k=jc(f);pa(null)&&(k=k.substring(0,null));this.l(h,"POST",k,this.n)}catch(p){}try{ve(this,new Mq(a,b))}catch(p){}};
Kq.prototype.z=function(){Rd(this.e);Kq.G.z.call(this)};function Nq(a,b,c,d,e,f,h,l){K.call(this);this.n={};this.e=null;this.g={};this.w=new yk(this);this.D=!!a;this.A=!!e;this.o=f||new $p;this.k=null;var k;b&&tq()?k=new wq(b,c):k=new zq(c);b&&oq&&Zj&&h?(this.k=new nq(this,b,k,void 0,c),I(this,k)):this.k=k;a=l?l:Ng("docs-sup")+"/jserror";(b=Ng("jobset"))&&(a=kc(a,"jobset",b));if(Oq)throw Error("ErrorReporter already installed.");Oq=!0;b=D(this.Ve,this);this.e=new Kq(a,b,void 0);this.e.n={"X-Same-Domain":"1","X-No-Abort":"1"};a=D(this.$e,this);this.e.l=
a;this.w.ia(this.e,"y",this.oe);this.l=!1;this.v=!0;this.j=!1}F(Nq,K);var Oq=!1;function Pq(a,b){a.o=b}function wn(a,b,c){a.n[b]=c}function un(a,b,c){a.g[b]=c}function Sl(a,b,c){a.j=!1;Qq(b);if(!a.e){if(b instanceof Bh)throw b.$();throw b;}a.e.g(b,Rq("fatal",c))}function qo(a,b){a.j=!1;Qq(b);a.e&&a.e.g(b,Rq("warning",void 0))}q=Nq.prototype;q.W=function(a,b,c){this.j=!!c;Qq(a);this.e&&this.e.g(a,Rq("incident",b))};
q.log=function(a,b,c){this.j=!!c;Qq(a);if(!this.e){if(a instanceof Bh)throw a.$();throw a;}this.e.g(a,Rq("incident",b))};function Sq(a,b,c){return D(function(a){a:{var d=arguments;if(this.e){try{var f=b.apply(c,d);break a}catch(h){Sl(this,h)}f=void 0}else f=b.apply(c,d)}return f},a)}function Rq(a,b){b=b?yb(b):{};b.severity=a;return b}q.oe=function(a){var b=a.g.severity;(b="fatal"==b||"postmortem"==b)&&!this.A&&(this.D?this.o.e(a):this.o.e());ve(this,new Tq(b?"z":"A",a.Da,a.g))};
q.Ve=function(a,b){a=this.l;try{for(var c in this.n)try{b[c]=this.n[c]()}catch(l){}Bb(b,this.g);var d=b.severity||"fatal",e=Ng("docs-jern");e&&(b.reportName=e+"_"+d);a:{for(var f in Array.prototype){var h=!1;break a}h=!0}b.isArrayPrototypeIntact=h.toString();this.l?(this.v=this.j||!N(M(),"docs-spfe"),"fatal"==d?d="postmortem":"incident"==d&&(d="warningafterdeath")):"fatal"==d&&(this.l=!0);this.j=!1;b.severity=d}catch(l){throw a&&(this.v=!1),this.l=!0,b.provideLogDataError=l.message,b.severity||(b.severity=
"fatal"),l;}};q.$e=function(a,b,c,d){this.v&&this.k.T(a,b,c,d)};function Qq(a){a instanceof Bh&&a.$()}q.z=function(){Oq=!1;Sd(this.w,this.e,this.k);Nq.G.z.call(this)};function Uq(a){var b=yb(a.Da);a.Da.propertyIsEnumerable("message")||(b.message=a.Da.message);Bb(b,a.g);return xe(b)}function Tq(a,b){J.call(this,a);this.Da=b}F(Tq,J);function Vq(a,b){this.g=D(a,b||null)}Vq.prototype.e=function(a){a?this.g(Uq(a)):this.g()};function Wq(a){this.e=a};function Xq(a){this.e=a}function Yq(a,b){var c=[];if(N(M(),"docs-evnli")){for(var d=[],e=0;e<b.length;e++)d.push(b[e].e);bb(d);for(e=0;e<d.length;e++)c.push(new nh(d[e],"menu",400))}a=a.e.filter(Xa(c,b));b=[];for(c=0;c<a.length;c++)d=a[c],b.push(new Wq(new ih(d.e,d.g)));return b};function Zq(a,b,c){H.call(this);this.g=a;this.e=b;this.i=c}F(Zq,H);function yi(a,b){b=Yq(a.g,b);b=$q(a.e,b);Ui(b,function(b){return a.i.e(b)});return b};function ar(a){var b=new br;this.e=a;this.g=b}ar.prototype.filter=function(a){for(var b=[],c=0;c<a.length;c++){var d=a[c],e=!this.g.e(d);!this.e.e[d.e.toLowerCase()]&&e&&b.push(d)}return b};function cr(a,b,c,d,e,f){this.e=a;this.j=b;this.g=c;this.i=d;this.k=e;this.pb=f}cr.prototype.getFontFamily=n("e");cr.prototype.M=n("j");cr.prototype.R=function(){return new cr(this.e,this.j,this.g,this.i,this.k,Qa(this.pb,function(a){return a.R()}))};function dr(a,b,c){this.g=a;this.Ab=b;this.e=c}dr.prototype.getUrl=n("g");dr.prototype.hb=n("e");dr.prototype.R=function(){return new dr(this.g,this.Ab,this.e)};function er(a,b,c,d,e,f,h){this.k=a;this.q=b;this.i=c;this.e=d;this.B=!!e;this.l=!!f;this.g=null;this.j=h;N(M(),"docs-ofmpp")||(this.g=fr(this))}function gr(a,b,c,d,e,f,h){return new er(a,b,c,d,e,f,h)}var hr={truetype:".ttf","embedded-opentype":".eot",svg:".svg",swf:".swf",woff:".woff",woff2:".woff2"};q=er.prototype;q.getFontFamily=n("k");q.M=n("q");q.yb=n("i");function ir(a){a.g||(a.g=fr(a));return a.g}
function fr(a){for(var b={},c=0,d;d=a.i[c];c++)for(var e=0,f;f=d.pb[e];e++)if(!f.Ab){var h=f.getUrl(),l=hr[f.hb()],k;N(M(),"docs-ofmpp")?k=oc(h,"kit"):k=(new qc(h)).i.get("kit");k||(k=a.e+"\\/([^/.&]+)"+l+"$",k=(k=h.match(k))&&2==k.length?k[1]:null);k||(k="(persistent\\/docs\\/fonts\\/)([^/.]+)("+l+")?$",k=(k=h.match(k))&&4==k.length?k[2]:null);if(!k&&(-1!=h.indexOf("file:///")||-1!=h.indexOf("LOCALFILE:"))){var p=h.split("/");p=p[p.length-1].split(".");2==p.length&&"."+p[1]==l&&(k=p[0])}b[h]=k?k+
(l||""):null;l||a.j.log(Error("Missing font file extension for format "+f.hb()))}return b}q.Ma=function(a){return this==a?!0:!!a&&a instanceof er&&this.e==a.e};q.R=function(){return gr(this.k,this.q,Qa(this.i,function(a){return a.R()}),this.e,this.B,this.l,this.j)};function Rp(a,b){this.e=a;this.g=b}Rp.prototype.getFontFamily=n("e");Rp.prototype.M=n("g");function Tp(a,b){for(var c=[],d=0;d<a.length;d++)c.push(new Rp(a[d],b));return c}function Sp(a){bb(a,void 0,function(a){return a.getFontFamily()+"|"+a.M()})};function jr(){this.e={};this.g=0}q=jr.prototype;q.set=function(a,b,c){a=a+"|"+b;this.e[a]||(this.e[a]={},this.g++);this.e[a]=c};q.get=function(a,b){return this.e[a+"|"+b]||null};q.na=function(a,b){return!!this.get(a,b)};function kr(a){var b=[],c;for(c in a.e)a=c.split("|"),2==a.length&&b.push(new Rp(a[0],a[1]));return b}q.N=function(){var a=[],b;for(b in this.e)a.push(this.e[b]);return a};q.P=n("g");function lr(a,b){for(var c=0;c<b.length;c++){var d=b[c].getFontFamily();a.set(d,b[c].M(),!0)}};function mr(a){this.e=a}mr.prototype.get=n("e");mr.prototype.getFontFamily=function(){return this.e.getFontFamily()};mr.prototype.M=function(){return this.e.M()};function nr(){this.e=new jr}nr.prototype.get=function(a,b){return(a=this.e.get(a,b))?a.get():null};nr.prototype.add=function(a){a=new mr(a);this.e.set(a.getFontFamily(),a.M(),a)};function or(a,b,c){this.e=a;this.i=b;this.g=c};function pr(a,b){this.g=a;this.j=b;this.e=new nr}
pr.prototype.i=function(a){var b=a.i,c=gh().e||"latin"==b.M();if(!this.g.g||!c)return dj(a);c=[b];"menu"!=b.M()&&N(M(),"docs-evnli")&&(b=b.getFontFamily(),b=this.e.get(b,"menu"),c.push(b));b={};for(var d=bj(),e=0;e<c.length;e++)for(var f=c[e].yb(),h=ir(c[e]),l=0;l<f.length;l++)for(var k=f[l].pb,p=0;p<k.length;p++){var r=k[p];if(!r.Ab){var u=h[r.getUrl()];if(!u)return d.errback(new Bh("Bad url "+r.getUrl())),d;b[u]=new vj(u,r.getUrl(),"")}}a=D(this.k,this,a,d,c);Hn(this.j,b,["fonts"],!1,a);return d};
pr.prototype.k=function(a,b,c,d){if(0<d.qb||0<d.cb||0<d.qb||0<d.cb)V(b,a);else{for(var e=[],f=0;f<c.length;f++)e.push(c[f].R());a=a.e;c=[];for(f=0;f<e.length;f++){for(var h=e[f],l=h.yb(),k=ir(h),p=0;p<l.length;p++)for(var r=l[p].pb,u=0;u<r.length;u++){var w=r[u],B=k[w.getUrl()];if(!w.Ab&&B){B=d.j[B];if(!B)throw Error("Null local url for font file");r[u]=new dr(B,!1,w.hb())}}c.push(qr(h))}this.g.ka(c,D(this.q,this,a,b,e),D(b.errback,b,new Bh("Failed to write updated fontMetadata for "+a.getFontFamily())))}};
pr.prototype.q=function(a,b,c){for(var d=0;d<c.length;d++)this.e.add(c[d]);V(b,new or(a,c[0],"sync-not-needed"))};function qr(a){for(var b=[],c=a.yb(),d=0;d<c.length;d++){for(var e=c[d],f=[],h=0;h<e.pb.length;h++){var l=e.pb[h];f.push(new Um(l.hb(),l.Ab,l.getUrl()))}b.push(new Vm(e.getFontFamily(),e.M(),e.g,e.i,e.k,f))}return new Sm(a.getFontFamily(),a.M(),a.e,a.B,a.l,b,!0)};function rr(a){for(var b=a.sources,c=[],d=0;d<b.length;d++)c.push(new dr(b[d].url,!!b[d].isLocal,b[d].format));return new cr(a.fontFamily,a.subsetValue,!!a.menuFont,a.style,a.weight,c)};function sr(a,b){if(!wb(tr,a[0]))throw Error("The keyPath should contain a valid type in its first field.");this.e=a;this.i=b}var tr={pf:"syncMap"};function ur(a,b,c){sr.call(this,a,b);if("syncMap"!=a[0])throw Error("SyncMap constructed with wrong type.");this.g=c}F(ur,sr);ur.prototype.get=function(a){return this.g[a]};ur.prototype.set=function(a,b){this.g[a]=b};function vr(a){this.e=new Rb;if(a){a=Xb(a);for(var b=a.length,c=0;c<b;c++)this.add(a[c])}}function wr(a){var b=typeof a;return"object"==b&&a||"function"==b?"o"+(a[Aa]||(a[Aa]=++Ba)):b.charAt(0)+a}q=vr.prototype;q.P=function(){return this.e.P()};q.add=function(a){this.e.set(wr(a),a)};q.Gc=function(a){return Vb(this.e,wr(a))};q.J=function(){return this.e.J()};q.na=function(a){a=wr(a);return Tb(this.e.g,a)};q.N=function(){return this.e.N()};q.R=function(){return new vr(this)};
q.Ma=function(a){return this.P()==Wb(a)&&xr(this,a)};function xr(a,b){var c=Wb(b);if(a.P()>c)return!1;!(b instanceof vr)&&5<c&&(b=new vr(b));return $b(a,function(a){var c=b;return c.na&&"function"==typeof c.na?c.na(a):c.Ca&&"function"==typeof c.Ca?c.Ca(a):wa(c)||A(c)?0<=Oa(c,a):wb(c,a)})}q.Ya=function(){return this.e.Ya(!1)};function yr(a,b,c){this.e=a;this.i=b;this.g=c}yr.prototype.ka=function(a,b,c){if(this.e.g){for(var d=[],e=0;e<a.length;e++){var f=a[e],h=new Hm(!0,f.e,f.i),l=h;a:switch(f.e[0]){case "syncMap":f=f.g;break a;default:throw Error("Unsupported sync object type: "+f.e[0]);}S(l,"data",f);d.push(h)}this.e.ka(d,b,c)}};
yr.prototype.j=function(a,b){for(var c=[],d=0;d<b.length;d++){var e=b[d],f=ai(e)[0];switch(f){case "syncMap":c.push(new ur(ai(e),Im(e),e.getData()));break;default:this.g.log(Error("Unsupported sync object type in database: "+f))}}a(c)};function zr(a,b,c){this.e=a;this.g=b;this.i=c};function Ar(a){this.g=void 0;this.e={};if(a){var b=Yb(a);a=Xb(a);for(var c=0;c<b.length;c++)this.set(b[c],a[c])}}q=Ar.prototype;q.set=function(a,b){Br(this,a,b,!1)};q.add=function(a,b){Br(this,a,b,!0)};function Br(a,b,c,d){for(var e=0;e<b.length;e++){var f=b.charAt(e);a.e[f]||(a.e[f]=new Ar);a=a.e[f]}if(d&&void 0!==a.g)throw Error('The collection already contains the key "'+b+'"');a.g=c}
q.get=function(a){a:{for(var b=this,c=0;c<a.length;c++)if(b=b.e[a.charAt(c)],!b){a=void 0;break a}a=b}return a?a.g:void 0};q.N=function(){var a=[];Cr(this,a);return a};function Cr(a,b){void 0!==a.g&&b.push(a.g);for(var c in a.e)Cr(a.e[c],b)}q.ma=function(a){var b=[];if(a){for(var c=this,d=0;d<a.length;d++){var e=a.charAt(d);if(!c.e[e])return[];c=c.e[e]}Dr(c,a,b)}else Dr(this,"",b);return b};function Dr(a,b,c){void 0!==a.g&&c.push(b);for(var d in a.e)Dr(a.e[d],b+d,c)}
q.Ca=function(a){if(this.g===a)return!0;for(var b in this.e)if(this.e[b].Ca(a))return!0;return!1};q.R=function(){return new Ar(this)};q.P=function(){return Wb(this.N())};q.J=function(){return void 0===this.g&&xb(this.e)};function Er(a){this.j=a;this.g=null;this.i=new Ar;this.e=new T;U(this.e,D(this.q,this))}Er.prototype.q=g();Er.prototype.get=function(a){var b=[];a=this.i.ma(Fr(a));for(var c=0;c<a.length;c++)b.push(this.i.get(a[c]));return b};function Gr(a,b){var c=b.e[0];switch(c){case "syncMap":return c=b.e,b=new ur(c,b.g,b.i),a.i.set(Fr(c),b),b;default:throw Error("Unknown sync object type: "+c);}}function Fr(a){return 0<a.length?a.join("|")+"|":""}
Er.prototype.k=function(a){for(var b=0;b<a.length;b++){var c=a[b];this.i.set(Fr(c.e),c)}this.e.e()};var Hr=["syncMap","applicationFonts"],Ir=["syncMap","domainFonts"],Jr=["syncMap","preferences"].concat(["docs-fonts"]);function Kr(a){if("syncMap"!=a.e[0])return[];var b=a.e,c=[];cb(Hr,b.slice(0,Hr.length))||cb(Ir,b.slice(0,Ir.length))?c=a.get("value")||[]:cb(Jr,b.slice(0,Jr.length))&&(c=a.get("hasTransitioned")?a.get("transitionedFamilyList")||[]:a.get("familyList")||[]);return c}var Lr=/\/fonts\/([^/]+)$/;function Mr(){var a=M();a=Og(a,"dffm");return ub(a)};var Nr="Arial;Comic Sans MS;Courier New;Georgia;Impact;Times New Roman;Trebuchet MS;Verdana".split(";");function br(){}br.prototype.e=hb;function Or(a,b){for(var c={},d=0;d<a.length;d++)c[jh(a[d].e)]=!0;for(d=0;d<b.length;d++)if(c[jh(b[d])])throw Error("A fetch request can not be both successful and unsuccessful.");this.e=a;this.g=b};function Pr(a,b){var c={};this.i=a;this.g=b;this.e=new nr;if(c){a=Qr(c,this.g).e;for(var d in a)for(var e in a[d])this.e.add(a[d][e])}}
function Rr(a,b){for(var c=[],d=[],e=[],f=0;f<b.length;f++){var h=b[f].e;c.push(h);var l=h.getFontFamily(),k=a.e.get(l,h.M());k?e.push(new or(h,k,"sync-needed")):d.push(l)}b=bj();d.length?a.i&&(f=["families",d.join(",")],gh().e&&(f=f.concat("useAllSubsets",!0)),(h=gh().i)&&(f=f.concat("format",h)),a=mj(rj(sj(pj(oj(a.i,"/font/getmetadata"),2),D(a.j,a,b,c,e)),D(a.k,a,b,d)),ic(f)),qj(a)):V(b,new Or(e,[]));return b}
Pr.prototype.j=function(a,b,c,d){if(d=tj(d)){var e=Qr(d,this.g).e;d={};for(var f=0;f<b.length;f++){var h=b[f];d[jh(h)]=!1;var l=e[h.getFontFamily()];for(p in l){var k=l[p];this.e.add(k);p==h.M()&&c.push(new or(h,k,"sync-needed"))}}for(f=0;f<c.length;f++)d[jh(c[f].e)]=!0;var p=[];for(f=0;f<b.length;f++)d[jh(b[f])]||p.push(b[f]);V(a,new Or(c,p))}else a.errback(new Bh("No font response object."))};
Pr.prototype.k=function(a,b,c){a.errback(new Bh("Error fetching font metadata, http status code:"+c.g+", fonts: "+b.join(",")))};function Sr(a){this.e=a}
function Qr(a,b){var c={};a=a.fontMetadataMap||{};for(var d in a){var e=a[d],f=[];var h=e.fontFaces;for(var l=0;l<h.length;l++)f.push(rr(h[l]));h=f;f={};for(l=0;l<h.length;l++){var k=h[l],p=k.M();null!=f[p]||(f[p]=[]);f[p].push(k)}null!=f.menu&&(h=f.menu[0],null!=f.latin&&f.latin.push(h),null!=f["*"]&&f["*"].push(h),delete f.menu);c[d]={};for(p in f)c[d][p]=gr(d,p,f[p],e.version,!!e.restrictedDomainFont,!!e.hasInkedWhitespace,b)}return new Sr(c)};var Tr="Arial;Comic Sans MS;Courier New;Georgia;Impact;Times New Roman;Trebuchet MS;Verdana".split(";");function Ur(a){this.e={};for(var b=0;b<a.length;b++){var c=a[b];this.e[c.toLowerCase()]=c}};function Vr(a,b){this.g=a;this.e=b}function Wr(a,b,c,d){for(var e=[],f=0;f<b.length;f++)Za(e,Kr(b[f]));bb(e);e.length?(b=mh(e),a=yi(a.g,qh(b,a.e)),Ui(a,c),d&&Vi(a,function(a){return d(a.$())})):c()};function Xr(a){this.e={};if(a)for(var b=0;b<a.length;b++)this.e[Yr(a[b])]=null}var Zr={};function Yr(a){return a in Zr||32==String(a).charCodeAt(0)?" "+a:a}function $r(a){return 32==a.charCodeAt(0)?a.substr(1):a}q=Xr.prototype;q.add=function(a){this.e[Yr(a)]=null};q.R=function(){var a=new Xr,b;for(b in this.e)a.e[b]=null;return a};q.na=function(a){return Yr(a)in this.e};q.Ma=function(a){return as(this,a)&&as(a,this)};q.forEach=function(a,b){for(var c in this.e)a.call(b,$r(c),void 0,this)};
q.P=Object.keys?function(){return Object.keys(this.e).length}:function(){var a=0,b;for(b in this.e)a++;return a};q.N=Object.keys?function(){return Object.keys(this.e).map($r,this)}:function(){var a=[],b;for(b in this.e)a.push($r(b));return a};q.J=function(){for(var a in this.e)return!1;return!0};function as(a,b){for(var c in a.e)if(!(c in b.e))return!1;return!0}q.Ya=function(){return qb(this.N())};function bs(a,b){this.e=a;this.g=b}function Up(a,b,c){b=D(a.i,a,b,c);cs(a.e.e.lc(),b,function(a){return c(a.$())})}bs.prototype.i=function(a,b,c){ds(this,a,b,Qa(c,function(a){return a.get()}))};function ds(a,b,c,d){for(var e=0;e<d.length;e++)Th(d[e]);a.e.ka(d,b,function(a){return c(a.$())})};var Y="Amatic SC;Caveat;Comfortaa;EB Garamond;Lobster;Lora;Merriweather;Montserrat;Nunito;Oswald;Pacifico;Playfair Display;Roboto;Roboto Mono;Spectral".split(";"),es="Baloo;Eczar;Hind;Kalam;Khand;Martel;Modak;Poppins;Tillana;Yantramanav;Yatra One".split(";"),fs="Alef;Amatic SC;Assistant;David Libre;Frank Ruhl Libre;Miriam Libre;Rubik;Suez One;Varela Round".split(";"),gs={af:Y,ar:"Amiri;Aref Ruqaa;Cairo;Changa;El Messiri;Harmattan;Lemonada;Mada;Scheherazade".split(";"),az:Y,bg:Y,ca:Y,cs:Y,da:Y,de:Y,
el:"Crimson Text;Fira Mono;Fira Sans;Fira Sans Condensed;Fira Sans Extra Condensed;GFS Didot;Ubuntu;Ubuntu Condensed;Ubuntu Mono".split(";"),en:Y,es:Y,et:Y,fa:["Jomhuria","Katibeh","Lalezar","Mirza"],fi:Y,fil:Y,fr:Y,he:fs,hi:es,hr:Y,hu:Y,id:Y,"in":Y,is:Y,it:Y,iw:fs,kk:Y,lt:Y,lv:Y,mn:Y,mr:es,ms:Y,nb:Y,ne:es,nl:Y,no:Y,pl:Y,pt:Y,ro:Y,ru:Y,sk:Y,sl:Y,sr:Y,sv:Y,sw:Y,th:"Athiti Chonburi Itim Kanit Maitree Mitr Pattaya Pridi Prompt Sriracha Taviraj Trirong".split(" "),tr:Y,uk:Y,vi:Y};
function hs(a){a=(a=a.match(/^\w{2,3}([-_]|$)/))?a[0].replace(/[_-]/g,""):"";return gs[a]||[]};function is(){H.call(this)}F(is,H);is.prototype.Qb=function(a,b){var c=[],d=new T,e=new T;Ji(d,e);U(d,Ea(b,c));js(this,a,"file",function(b){if(b)for(var e=0;e<b.length;e++)c.push(new ks(b[e],a));d.e()});js(this,a,"directory",D(function(b){if(b&&b.length)for(var d=b.length,f=0;f<b.length;f++)this.Qb(a.concat(b[f]),function(a){d--;Za(c,a);0==d&&e.e()});else e.e()},this))};function ks(a,b){this.e=a;this.g=b};function ls(a,b,c,d,e,f,h,l,k,p,r){this.n=a;this.I=b;this.i=c;this.o=d;this.B=e;this.j=f;this.e=h;this.l=l;this.q=k;this.g=p;this.k=r}q=ls.prototype;q.ed=function(a,b,c,d){var e=this;ms(this).then(function(f){ns(e,a,f,b,c,d)},function(a){a instanceof Bh?d(ld(a.$())):d(ld(a))})};function ns(a,b,c,d,e,f){var h=new jr;lr(h,b);lr(h,c);b=eb(a.e,function(b){return Tp(a.j,b)});lr(h,b);a.g&&os(a,h);d=D(a.ve,a,e,f,h,d);js(a.l,["fonts"],"file",d)}
function ms(a){switch(a.k){case "locale":return ps(a);case "coreLocale":return ps(a);case "core":return df(eb(a.e,function(a){return Tp(Y,a)}));default:return df([])}}function ps(a){return Qi(Rm(a.I)).then(function(b){var c=(b=Yh(b,"locale"))?hs(b):[];return eb(a.e,function(a){return Tp(c,a)})})}function os(a,b){var c=qs(a,Hr);lr(b,c);c=qs(a,Ir);lr(b,c);a=qs(a,Jr);lr(b,a)}
function qs(a,b){b=a.g.get(b);for(var c=[],d=0;d<b.length;d++)Za(c,Kr(b[d]));bb(c);return eb(a.e,function(a){return Tp(c,a)})}q.ve=function(a,b,c,d,e){e=e||[];cs(this.n,D(this.ie,this,a,b,c,d,e),function(a){return b(a.$())})};
q.ie=function(a,b,c,d,e,f){f=rs(f);if(d)for(var h=kr(f),l=h.length-1;0<=l&&!(60<=c.P());l--){var k=h[l].getFontFamily(),p=h[l].M();c.na(k,p)||c.set(k,p,!0)}else lr(c,kr(f));h=kr(c);l=[];for(var r=0;r<h.length;r++)k=h[r].getFontFamily(),p=h[r].M(),l.push(new Wq(new ih(k,p)));xi(Rr(this.o,l),D(this.we,this,a,b,c,d,e,f),function(a){b(gj(a))})};
q.we=function(a,b,c,d,e,f,h){h=h.e;for(var l=new jr,k=0;k<h.length;k++){var p=h[k].i,r=h[k].e;l.set(r.getFontFamily(),r.M(),p)}r=new Xr(e);p=[];k=[];h=new jr;for(var u=kr(f),w=0;w<u.length;w++){var B=u[w],z=B.getFontFamily();B=B.M();var y=f.get(z,B);if(d&&!c.na(z,B))p.push(y),y=f,z=z+"|"+B,y.e[z]&&(delete y.e[z],y.g--);else{for(var O=this.q,oa=y.getFontFamily(),ha=y.yb(),Ta=[],sa=0;sa<ha.length;sa++){for(var xa=ha[sa],pc=[],nb=0;nb<xa.e.length;nb++){var re=xa.e[nb];pc.push(new dr(re.getUrl(),re.i,
re.hb()))}Ta.push(new cr(xa.getFontFamily(),xa.M()||"latin",xa.i,xa.j,xa.q,pc))}y=gr(oa,y.M()||"latin",Ta,y.e.version,""!=y.e.domainFont,""!=y.e.inkedSpace,O);h.set(z,B,y);y=ir(y);for(var fb in y)if(y=fb.match(Lr),!r.na(y?y[1]:null)){z=lh(z);k.push(new nh(z.e,B,z.g));break}}}d=new T;ds(this.i,D(d.e,d),D(d.errback,d),p);c=l.N();for(f=0;f<c.length;f++)fb=c[f],p=fb.getFontFamily(),l=fb.M(),r=h.get(p,l),r&&r.Ma(fb)||(fb=lh(p),k.push(new nh(fb.e,l,fb.g)));k=yi(this.B,k);f=[];f.push(Pi(k),d);k=sk(f);d=
new jr;for(f=0;f<c.length;f++)l=c[f].getFontFamily(),d.set(l,c[f].M(),c[f]);h=h.N();for(c=0;c<h.length;c++)f=h[c].getFontFamily(),d.set(f,h[c].M(),h[c]);Hi(k,D(this.ae,this,a,b,d,e),b)};q.ae=function(a,b,c,d){var e=this.i;if(d){var f=[];c=c.N();for(var h=0;h<c.length;h++){var l=ir(c[h]),k;for(k in l)f.push(l[k])}d=new Xr(d);for(k=0;k<f.length;k++)delete d.e[Yr(f[k])];f=d.N();d=[];for(k=0;k<f.length;k++)c=new T,Cp(e.g,["fonts"],f[k],D(c.e,c),D(c.errback,c)),d.push(c);Hi(sk(d),a,b)}else b(Error("No filesystem font files provided."))};
function rs(a){for(var b=new jr,c=0;c<a.length;c++){var d=a[c].get(),e=d.getFontFamily();b.set(e,d.M()||"latin",d)}return b};function ss(a,b){this.e=a;this.g=b};function ts(a,b,c,d,e){H.call(this);this.e=a;this.g=b;this.l=d;this.n=e;this.j={};this.i=c;this.k=tb(this.g)}F(ts,H);q=ts.prototype;q.Nd=0;q.qb=0;q.ic=0;q.dd=0;q.cb=0;q.Ze=function(a){if(a){for(var b=[],c=0;c<a.length;c++){var d=a[c];this.g[d.e]||b.push(d)}if(b.length)for(this.ic+=b.length,a=0;a<b.length;a++)c=b[a],Cp(this.e,c.g,c.e,D(this.Zd,this),D(this.Yd,this))}us(this)};
function us(a){if(0==a.k)vs(a);else{var b=N(M(),"docs-localstore-sefr"),c;for(c in a.g){var d=a.g[c];if(d.g)if(b&&d.j){var e=a.e,f=a.i.concat(d.e),h=c;d=D(a.ue,a,c,d);d=new ws(D(e.ye,e,h,f,d));e.e.getFileUrl(Fp(f),f,h,d)}else xs(a,c,d);else a.Ec(c,null)}}}q.ue=function(a,b,c){c?this.Ec(a,c):xs(this,a,b)};function xs(a,b,c){var d=a.e,e=a.i.concat(c.e);c=c.g;var f=D(a.Ec,a,b),h=D(a.$d,a);a=new ys(f);f=D(d.ge,d,b,e,c,f,h);f=new Ep(D(d.vb,d,f));d.e.addFile(Fp(e),e,b,c,a,f)}
q.Ec=function(a,b){this.j[a]=b;this.Nd++;vs(this)};q.$d=function(){this.qb++;vs(this)};q.Zd=function(){this.dd++;vs(this)};q.Yd=function(){this.cb++;vs(this)};function vs(a){var b=a.dd+a.cb;a.k==a.Nd+a.qb&&a.ic==b&&a.n(a)}q.z=function(){ts.G.z.call(this);delete this.e;delete this.g};function zs(a){this.e=a}function wp(a,b,c){var d={};d[b.i]=b;Hn(a,d,["templates"],!1,c)}function Hn(a,b,c,d,e){a=new ts(a.e,b,c,d,e);a.l?a.e.Qb(a.i,D(a.Ze,a)):us(a)};function Fp(a){return 2>a.length?null:"documents"==a[0]?a[1]:null};function As(a){this.e=a};function Zm(a){return JSON.parse(a)};function Bs(a){this.type=a};function Cs(a,b,c){this.type=9;this.documentId=a;this.nativeCommandBatches=b;this.isStaged=!1;this.shouldReplace=c}F(Cs,Bs);function Ds(a,b,c){this.type=12;this.templateId=a;this.nativeCommandBatches=b;this.shouldReplace=c}F(Ds,Bs);function Es(a,b,c,d,e){this.partId=a;this.revision=b;this.chunkIndex=c;this.timestamp=d;this.serializedCommands=e};function Fs(a){switch(a.e){case "append-commands":var b=a.i;b=Gs(b);return new Cs(a.k,b,a.j);case "append-template-commands":return b=a.i,b=Gs(b),new Ds(a.k,b,a.j);default:throw Error("Operation type "+a.e+" not supported.");}}function Gs(a){for(var b=[],c=0;c<a.length;c++){var d=a[c],e=null;null==e&&(e=-1);for(var f=[],h=d.oa(),l=0;l<h.length;l++)f.push(qk(h[l]));b.push(new Es(String(d.j),d.S(),d.e,e,JSON.stringify(f)))}return b};function Ep(a){this.e=a}Ep.prototype.callback=function(a,b){this.e(a,b)};function Hs(a){switch(a){case 1:return 2;default:return 1}};function Is(a,b){Lh.call(this,a,b)}t(Is,Lh);Is.prototype.z=function(){Lh.prototype.z.call(this)};function Js(){}function Ks(a,b){for(var c=Ya(b);255<a.length;){c.length==b.length&&(a="+"+a);var d=255;265>a.length&&(d=a.length-10);var e=a.substring(0,d);a=a.substring(d);c.push(e)}return new Ls(a,c)}function Ms(a){var b=a.g,c;a:{for(c=0;c<b.length;c++)if(0==b[c].indexOf("+"))break a;c=-1}if(-1==c)return a;for(var d="",e=c;e<b.length;e++){var f=b[e];e==c&&(f=f.substring(1));d+=f}d+=a.e;return new ks(d,ab(b,0,c))}function Ls(a,b){this.Na=a;this.e=b};function ys(a){this.e=a}ys.prototype.callback=function(a,b){this.e(b)};function ws(a){this.e=a}ws.prototype.callback=function(a){this.e(a)};function Dp(a){this.e=a||null}Dp.prototype.callback=function(){this.e&&this.e()};function Ns(a){this.e=a}Ns.prototype.callback=function(a){this.e(a)};function Os(a){H.call(this);this.e=a}F(Os,is);function js(a,b,c,d){a:switch(c){case "all":c=0;break a;case "directory":c=1;break a;case "file":c=2;break a;default:throw Error("Unexpected content type: "+c);}a.e.getDirectoryContents(Fp(b),b,c,new Ns(d))}q=Os.prototype;q.ge=function(a,b,c,d,e,f){var h=Ks(a,b);h.Na==a?e(f):(a=new ys(d),e=new Ep(D(this.vb,this,e)),this.e.addFile(Fp(b),h.e,h.Na,c,a,e))};q.ye=function(a,b,c,d){var e=Ks(a,b);d||a==e.Na?c(d):this.e.getFileUrl(Fp(b),e.e,e.Na,new ws(c))};
function Cp(a,b,c,d,e){e=D(a.Ge,a,c,b,d,e);d=new Dp(e);e=new Ep(D(a.vb,a,e));a.e.removeFile(Fp(b),b,c,d,e)}q.Ge=function(a,b,c,d,e){var f=Ks(a,b);a==f.Na?e?d(e):c():(c=D(this.He,this,c,d,e),a=new Dp(c),c=new Ep(D(this.vb,this,c)),this.e.removeFile(Fp(b),f.e,f.Na,a,c))};q.He=function(a,b,c,d){c&&d?b(c):a()};q.Qb=function(a,b){b=D(this.xe,this,b);Os.G.Qb.call(this,a,b)};q.xe=function(a,b){for(var c=[],d=0;d<b.length;d++)c.push(Ms(b[d]));a(c)};
q.vb=function(a,b,c){a(Error("FileStorageAdapter error:"+b+", "+c))};function Ps(a,b){this.type=a;this.recordKey=b}F(Ps,Bs);function Qs(a){Ps.call(this,1,a)}F(Qs,Ps);function Rs(a){this.e=a}Rs.prototype.callback=function(a){this.e(a)};function Ss(a){this.recordType=a};function Ts(a){this.recordType=1;this.docId=a}F(Ts,Ss);function Us(){this.e={}}Us.prototype.setStringProperty=function(a,b){this.e[a]=b};Us.prototype.setNumberProperty=function(a,b){this.e[a]=b};Us.prototype.setSerializedObjectProperty=function(a,b){this.e[a]=b};Us.prototype.setNullProperty=function(a){this.e[a]=null};function X(a,b){a=Vs(a,b);return A(a)?a:null}function Ws(a,b){a=Vs(a,b);return pa(a)?a:null}function Vs(a,b){a=a.e[b];return null!=a?a:null};function Xs(a){this.g=new Ts(a);this.e={}}F(Xs,Us);function Ys(a,b){this.propertyType=a;this.propertyName=b};function Zs(a){Ys.call(this,3,a)}F(Zs,Ys);function $s(a,b){Ys.call(this,0,a);this.numberValue=b}F($s,Ys);function at(a,b){Ys.call(this,2,a);this.serializedObjectValue=b}F(at,Ys);function bt(a,b){Ys.call(this,1,a);this.stringValue=b}F(bt,Ys);function ct(a){var b=[],c;for(c in a){if(!c)throw Error("Invalid localStore modifications. Property cannot be null.");var d=a[c];if(pa(d))b.push(new $s(c,d));else if(A(d))b.push(new bt(c,d));else if("boolean"==typeof d)b.push(new bt(c,d?"true":""));else if(za(d))b.push(new at(c,JSON.stringify(d)));else if(null===d)b.push(new Zs(c));else throw Error("Invalid localStore modifications.");}return b};function dt(a,b,c,d){Ps.call(this,d||0,a);this.isNew=c;this.modifications=b;b=this.e();switch(a.recordType){case 1:if("document"!=b)throw Error("Must use DOCUMENT subtype for updating DOCUMENT records");break;case 0:if("application-metadata"!=b)throw Error("Must use APPLICATION_METADATA subtype for updating APPLICATION_METADATA records");}}F(dt,Ps);function et(a,b,c){dt.call(this,new Ts(a),ct(b),c);this.hasLastModifiedServerTimestampModification=!1;this.lastModifiedServerTimestampModification=-1;this.hasJobsetModification=!1;this.jobsetModification=null;this.hasFontFamiliesModification=this.isNotCreatedModification=this.hasIsNotCreatedModification=this.isFastTrackModification=this.hasIsFastTrackModification=!1;this.fontFamiliesModification=null;this.hasSnapshotStateModification=!1;this.snapshotStateModification=-1;this.hasSnapshotProtocolNumberModification=
!1;this.snapshotProtocolNumberModification=-1;this.isModelResyncRequiredModification=this.hasIsModelResyncRequiredModification=!1;"lastModifiedServerTimestamp"in b&&(this.hasLastModifiedServerTimestampModification=!0,this.lastModifiedServerTimestampModification=b.lastModifiedServerTimestamp);"jobset"in b&&(this.hasJobsetModification=!0,this.jobsetModification=b.jobset);"isFastTrack"in b&&(this.hasIsFastTrackModification=!0,this.isFastTrackModification=!!b.isFastTrack);"inc"in b&&(this.hasIsNotCreatedModification=
!0,this.isNotCreatedModification=!!b.inc);"modelNeedsResync"in b&&(this.hasIsModelResyncRequiredModification=!0,this.isModelResyncRequiredModification=!!b.modelNeedsResync);if("startupHints"in b&&(a=b.startupHints.fontFamilies)){this.hasFontFamiliesModification=!0;try{this.fontFamiliesModification=Zm(a)}catch(d){this.hasFontFamiliesModification=!1}}"snapshotState"in b&&(this.hasSnapshotStateModification=!0,this.snapshotStateModification=b.snapshotState);"snapshotProtocolNumber"in b&&(this.hasSnapshotProtocolNumberModification=
!0,b=b.snapshotProtocolNumber,this.snapshotProtocolNumberModification=null===b?-1:b)}F(et,dt);et.prototype.e=aa("document");function ft(a,b){cm.call(this,b);this.n=a}t(ft,cm);
function ip(a,b,c,d){a.n.readDocument(b,!1,new Rs(function(b){if(b){var d=new ei(b.g.docId,X(b,"documentType"),!1);S(d,"title",X(b,"title"));S(d,"lastSyncedTimestamp",Ws(b,"lastSyncedTimestamp"));S(d,"jobset",X(b,"jobset"));R(d,"isFastTrack",!!X(b,"isFastTrack"));var e=X(b,"acl");if(null!=e){e=Zm(e);for(var l in e)bi(d,"acl",l,e[l])}if(l=X(b,"startupHints")){l=Zm(l);for(var k in l)li(d,k,l[k])}(k=Ws(b,"lastModifiedServerTimestamp"))&&ii(d,k);(k=Ws(b,"lastColdStartedTimestamp"))&&S(d,"lastColdStartedTimestamp",
k);(k=Ws(b,"lastWarmStartedTimestamp"))&&S(d,"lastWarmStartedTimestamp",k);(k=X(b,"docosKeyData"))&&ji(d,Zm(k));k=X(b,"inc");null!=k&&R(d,"inc",!!k);k=Ws(b,"lastModifiedClientTimestamp");null!=k&&ki(d,k);k=X(b,"ic");null!=k&&(k=Zm(k),null!=k&&S(d,"ic",k));k=X(b,"hpmdo");null!=k&&R(d,"hpmdo",!!k);k=X(b,"ips");null!=k&&R(d,"ips",!!k);k=X(b,"fact");null!=k&&S(d,"fact",k);k=X(b,"modelNeedsResync");null!=k&&mi(d,!!k);k=X(b,"ind");null!=k&&R(d,"ind",!!k);k=X(b,"isd");null!=k&&R(d,"isd",!!k);k=Ws(b,"modelVersion");
null!=k&&ni(d,k);k=Ws(b,"featureVersion");null!=k&&oi(d,k);k=Ws(b,"rev");null!==k&&(l=(l=X(b,"rai"))?di(Zm(l)):null,hi(d,k,l));k=X(b,"pendingCreation");null!=k&&R(d,"pendingCreation",!!k);k=Ws(b,"lastServerSnapshotTimestamp");null!=k&&pi(d,k);k=Ws(b,"snapshotState");null===k||qi(d,k);k=Ws(b,"pendingQueueState");null===k||si(d,k);b=X(b,"odocid");null!==b&&S(d,"odocid",b);d.q=!1;if(!a.k[gi(d)])throw Error("No document adapter found for type: "+gi(d));c(d)}else c(null)}),d?new Ep(function(a,b){d(new Hh(Hs(a),
b))}):null)}ft.prototype.j=function(a){switch(a.e){case "update-record":return new et(Zl(a),a.g,a.i);case "delete-record":return new Qs(new Ts(Zl(a)));case "append-commands":if(!this.k[a.g])throw Error("No document adapter found for type:"+a.g);return Fs(a);default:throw Error("Operation type "+a.e+" not supported.");}};function gt(a){this.recordType=0;this.documentType=a}F(gt,Ss);function ht(){this.e={}}F(ht,Us);ht.prototype.setSerializedInitialCommands=g();function Pp(a){this.e=a}Pp.prototype.callback=function(a){this.e(a)};function it(a,b,c,d){dt.call(this,new gt(a),ct(b),d);this.serializedInitialCommands=c;this.hasJobsetModification=!1;this.jobsetModification=null;"jobset"in b&&(this.hasJobsetModification=!0,this.jobsetModification=b.jobset)}F(it,dt);it.prototype.e=aa("application-metadata");function jt(a,b){gm.call(this,a);this.k=b}t(jt,gm);function Qp(a){return a?new Ep(function(b,c){a(new Hh(Hs(b),c))}):null}
jt.prototype.j=function(a){var b=a.e;if("update-application-metadata"==b){b=null;if(null!=a.j){b=Zl(a);if(!this.n[b])throw Error("No adapter found for this type: "+b);b=[];if(a.j)var c=a.j;else throw Error("No new initial commands are available.");for(var d=0;d<c.length;d++)b.push(qk(c[d]))}c=null;b&&(c=JSON.stringify(b));return new it(Zl(a),a.g,c,a.i)}throw Error("Operation type "+b+" not supported.");};function kt(a,b,c){this.recordType=3;this.entityId=a;this.entityType=b;this.docId=c}F(kt,Ss);function lt(){this.e={}}F(lt,Us);function mt(a,b,c){dt.call(this,a,b,c)}F(mt,dt);mt.prototype.e=aa("simple");function nt(){H.call(this)}t(nt,im);nt.prototype.j=function(a){switch(a.e){case "update-record":var b=Zl(a);return new mt(new kt(b[2],b[1],b[0]),ct(a.g),a.i);case "delete-record":return a=Zl(a),new Qs(new kt(a[2],a[1],a[0]));default:throw Error("Operation type "+a.e+" not supported.");}};function ot(a){this.e=a}ot.prototype.callback=function(a){this.e(a)};function pt(a,b){this.type=11;this.documentId=a;this.lockLevel=b}F(pt,Bs);function qt(a,b){H.call(this);this.o=a;this.n=b;this.k=new P;I(this,this.k)}t(qt,jm);function Yo(a,b,c,d){a.o.acquireLock(a.n,b,new ot(function(a){if(0==a)c(1);else if(1==a)c(2);else throw Error("Lock acquisition result unsupported: "+a);}),new Ep(function(a,b){d(new Hh(Hs(a),b))}))}
qt.prototype.j=function(a){var b=a.e;if("document-lock"==b){b=a.g;a=a.i;if(1==a)a=0;else if(2==a)a=1;else throw Error("Document lock requirement level "+a+" not supported by the native document lock capability.");return new pt(b,a)}throw Error("Operation type "+b+" not supported by the document lock capability.");};function rt(a){H.call(this);this.j=a}t(rt,nm);function dp(a,b,c,d){a.j.removeNonSnapshottedDocumentIds(b,new Dp(c),d?new Ep(function(a,b){d(new Hh(Hs(a),b))}):null)};function st(a){this.e=a}st.prototype.callback=function(a){this.e(a)};function tt(a,b){this.recordType=6;this.docId=a;this.placeholderId=b}F(tt,Ss);function ut(a,b){this.g=new tt(a,b);this.e={}}F(ut,Us);function vt(a){a=new om(a.g.docId,a.g.placeholderId,X(a,"u"),X(a,"ou"),X(a,"f"),X(a,"c"),X(a,"s"),X(a,"oc"),!1);a.q=!1;return a};function wt(a){H.call(this);this.k=a}t(wt,rm);function to(a,b,c,d){a.k.readAllBlobMetadataForDocument(b,new st(function(a){for(var b=[],d=0;d<a.length;d++)b.push(vt(a[d]));c(b)}),d?new Ep(function(a,b){d(new Hh(Hs(a),b))}):null)}function ep(a,b,c,d){a.k.clearBlobMetadataForDocument(b,new Dp(c),d?new Ep(function(a,b){d(new Hh(Hs(a),b))}):null)}
wt.prototype.j=function(a){switch(a.e){case "update-record":var b=Zl(a);return new mt(new tt(b[0],b[1]),ct(a.g),a.i);case "delete-record":return a=Zl(a),new Qs(new tt(a[0],a[1]));default:throw Error("Operation type "+a.e+" not supported.");}};function xt(a){this.recordType=2;this.docId=a}F(xt,Ss);function yt(a,b,c){dt.call(this,new xt(a),c,b,2)}F(yt,dt);yt.prototype.e=aa("pending-queue");function zt(a,b,c,d){dt.call(this,new xt(a),d,b,4);this.hasCommandsAfterFirstSentBundle=c}F(zt,dt);zt.prototype.e=aa("pending-queue");function At(a,b,c){dt.call(this,new xt(a),c,b,3)}F(At,dt);At.prototype.e=aa("pending-queue");function Bt(a,b,c,d){this.docId=a;this.sessionId=b;this.requestId=c;this.lastEntryIndex=d};function Ct(a,b){this.type=5;this.documentId=a;this.lastCommandsIndex=b}F(Ct,Bs);function Dt(a,b,c,d,e){dt.call(this,new xt(a),c,b,6);this.bundleMetadataArray=d;this.shouldReplaceOldBundles=e}F(Dt,dt);Dt.prototype.e=aa("pending-queue");function Et(){this.g=this.i=null;this.e={}}F(Et,Us);Et.prototype.setCommandBundleMetadataArray=m("i");Et.prototype.setCommandBatchArray=m("g");function Ft(a,b,c){this.type=7;this.documentId=a;this.serializedCommands=b;this.commandsIndex=c}F(Ft,Bs);function Gt(a){this.e=a}Gt.prototype.callback=function(a){this.e(a)};function Ht(a,b,c){zm.call(this,b,c);this.q=a}t(Ht,zm);
function gn(a,b,c,d){a.q.readPendingQueue(b,new Gt(function(b){if(b){var d=b.i,e=b.g;if(!d||!e)throw Error("Command bundle or command batch should not be null");var l=0,k=[],p=[],r=[],u=-1,w=X(b,"documentType"),B=Am(a,w),z=X(b,"unsentBundleMetadata");if(null===z)z=[];else{var y=null;try{y=Zm(z)}catch(xa){Sl(a.g,Error("Unable to parse unsent bundle metadata!"),{unsentBundleMetadata:z})}z=Em(y)}y=!0;for(var O=0;O<e.length;O++){u=e[O];var oa=null;try{oa=Zm(u.serializedCommands)}catch(xa){Sl(a.g,Error("Unable to parse serialized commands!"),
{serializedCommands:u.serializedCommands})}var ha=k,Ta=B.e,sa=oa;oa=E();sa=Ug(sa);oa=E()-oa;Ta.e.j("md",oa);Za(ha,sa);u=u.commandsIndex;l<d.length?(ha=d[l],ha.lastEntryIndex==u&&(p.push(new ql(k,ha.requestId,ha.sessionId)),k=[],l++)):l<z.length+d.length&&(ha=z[l-d.length],ha.lastEntryIndex==u&&(y=!1,r.push(new ql(k,ha.requestId,ha.sessionId)),k=[],l++))}y&&(z=[]);k.length&&(d=Zg(),r.push(new ql(k,0,d)),z.push(new Cm(0,d,u)));k=new rl(X(b,"docId"),w,!1,u,p,r);p=Ws(b,"accessLevel");null!==p&&S(k,"accessLevel",
p);p=(p=X(b,"revisionAccessInfo"))?di(Zm(p)):null;Pk(k,Ws(b,"revision"),p);p=X(b,"selection");null===p||wl(k,Zm(p));ul(k,!!X(b,"undeliverable"));Qk(k,!!X(b,"unsavedChanges"));p=Ws(b,"sentBundlesSavedRevision");null===p||vl(k,p);b=Ws(b,"snapshotBundleIndex");x(b)&&Nk(k,b);k.q=!1;xl(k,Dm(z));c(k)}else c(null)}),d?new Ep(function(a,b){d(new Hh(Hs(a),b))}):null)}
Ht.prototype.j=function(a){switch(a.e){case "update-record":return new mt(new xt(Zl(a)),ct(a.g),a.i);case "pq-clear":return new yt(Zl(a),a.i,ct(a.g));case "pq-clear-sent":return new At(Zl(a),a.i,ct(a.g));case "pq-clear-sent-bundle":return new zt(Zl(a),a.i,a.j,ct(a.g));case "pq-mark-sent":for(var b=a.j,c=[],d=Zl(a),e=0;e<b.length;e++){var f=b[e];c.push(new Bt(d,f.sessionId,f.requestId,f.lastEntryIndex))}return new Dt(d,a.i,ct(a.g),c,a.l);case "pq-delete-commands":return new Ct(a.g,a.i);case "pq-write-commands":return new Ft(a.j,
JSON.stringify(a.oa()),a.g);default:throw Error("Operation type "+a.e+" not supported.");}};function It(a){this.recordType=5;this.keyPath=a}F(It,Ss);function Jt(){this.e={}}F(Jt,Us);function Kt(a){var b=Zm(X(a,"keyPath")),c=Zm(X(a,"state"));a=Zm(X(a,"data"));b=new Hm(!1,b,c);b.q=!1;S(b,"data",a);return b};function Lt(a){this.e=a}Lt.prototype.callback=function(a){this.e(a)};function Mt(a){H.call(this);this.k=a}t(Mt,Jm);function Nt(a,b,c){a.k.getAllSyncObjects(new Lt(function(a){for(var c=[],d=0;d<a.length;d++)c.push(Kt(a[d]));b(c)}),c?new Ep(function(a,b){c(new Hh(Hs(a),b))}):null)}Mt.prototype.j=function(a){switch(a.e){case "update-record":return new mt(new It(JSON.stringify(Zl(a))),ct(a.g),a.i);case "delete-record":return new Qs(new It(JSON.stringify(Zl(a))));default:throw Error("Operation type "+a.e+" not supported.");}};function Ot(a){this.recordType=8;this.templateId=a[0]}F(Ot,Ss);function Pt(){this.e={}}F(Pt,Us);function Qt(a){this.recordType=7;this.templateId=a[0]}F(Qt,Ss);function Rt(){this.e={}}F(Rt,Us);function St(){H.call(this)}t(St,Lm);St.prototype.z=function(){Lm.prototype.z.call(this)};function Tt(a){this.e=a}Tt.prototype.callback=function(a){this.e(a)};function Ut(a){this.e=a}Ut.prototype.callback=function(a){this.e(a)};function Vt(a,b){Nm.call(this,b);this.k=a}t(Vt,Nm);function op(a,b,c,d){a.k.readAllTemplateMetadata(b,new Tt(function(a){for(var b={},d=0;d<a.length;d++){var e=Wt(a[d]);b[e.e.id]=e}c(b)}),new Ep(function(a,b){return Xt(d||null,a,b)}))}function Zp(a,b,c,d){a.k.readTemplateMetadata(b,new Ut(function(a){c(a?Wt(a):null)}),new Ep(function(a,b){return Xt(d||null,a,b)}))}function Gp(a,b,c,d){a.k.deleteTemplate(b,new Dp(c),new Ep(function(a,b){return Xt(d||null,a,b)}))}
Vt.prototype.j=function(a){switch(a.e){case "update-record":return new mt(Yt(a),ct(a.g),a.i);case "delete-record":return new Qs(Yt(a));case "append-template-commands":if(!Om(this,a.g))throw Error("No template adapter found for type: "+a.g);return Fs(a);default:throw Error("Operation type "+a.e+" not supported.");}};
function Wt(a){var b=X(a,"id"),c=X(a,"title"),d=Ws(a,"style"),e=Ws(a,"category"),f=X(a,"locale"),h=X(a,"creator"),l=X(a,"thumbnailUrl"),k=X(a,"documentType"),p=Ws(a,"lastModifiedTimestamp");var r=Zm(X(a,"fontFamilies"));a=new Mm(b,c,d,e,f,h,l,k,p,r,X(a,"brandedAuthor"),X(a,"brandedUrl"),Ws(a,"masterTemplate"),!!X(a,"isThumbnailReady"),!!X(a,"isReady"),!!X(a,"isDirty"),!1);a.q=!1;return a}function Xt(a,b,c){b=new Hh(Hs(b),c);if(a)a(b);else throw Error(Ih(b));}
function Yt(a){var b=a.q;if("templateMetadata"==b)return new Qt(Zl(a));if("templateCreationMetadata"==b)return new Ot(Zl(a));throw Error("Unsupported record type "+b);};function Zt(a,b){H.call(this);this.j=a;this.k=b}t(Zt,Qm);function nk(a,b){var c=new Pm("mobileUser",!1);R(c,"fastTrack",a.j);S(c,"locale",a.k);b([c])}Zt.prototype.g=function(){return[]};function $t(a){this.e=a}$t.prototype.callback=function(a){this.e(a)};function au(a){this.recordType=4;this.fontFamily=a}F(au,Ss);function bu(){this.e={}}F(bu,Us);function eu(a){Ym.call(this,X(a,"fontFamily"));this.g=a}t(eu,Ym);function fu(a){H.call(this);this.k=a}t(fu,$m);function cs(a,b,c){a.k.readAllFontMetadata(new $t(function(a){for(var c=E(),d=[],h=0;h<a.length;h++)d.push(new eu(a[h]));b(d,c,E()-c)}),c?new Ep(function(a,b){c(new Hh(Hs(a),b))}):null)}fu.prototype.j=function(a){switch(a.e){case "update-record":return new mt(new au(Zl(a)),ct(a.g),a.i);case "delete-record":return new Qs(new au(Zl(a)));default:throw Error("Operation type "+a.e+" not supported.");}};function gu(a,b,c,d,e,f,h,l,k,p,r,u,w,B,z,y,O){Fm.call(this);this.g=new Ht(e,a,O);Gm(this,this.g);this.e=new ft(c,a);Gm(this,this.e);this.v=new qt(f,h);this.k=new Zt(z,y);Gm(this,this.k);this.A=null;d&&(this.A=new wt(d),Gm(this,this.A));this.i=null;l&&(this.i=new jt(a,l),Gm(this,this.i));this.w=null;k&&(this.w=new nt(k),Gm(this,this.w));this.D=null;p&&(this.D=new rt(p),Gm(this,this.D));this.j=null;r&&(this.j=new Mt(r),Gm(this,this.j));this.l=null;u&&(this.l=new fu(u),Gm(this,this.l));this.o=null;
B&&w&&(this.o=new Vt(B,w),Gm(this,this.o));this.F=b}t(gu,Fm);q=gu.prototype;q.kc=n("A");q.db=n("i");q.gd=n("D");q.Nb=n("j");q.lc=n("l");q.eb=n("o");function dn(a,b,c,d){for(var e=[],f=0;f<b.length;f++){var h=b[f];(h=hu(a,h).j(h))&&e.push(h)}a.F.executeOperations(e,new Dp(c),d?new Ep(function(a,b){d(new Hh(Hs(a),b))}):null)}
function hu(a,b){var c=b.e;if("update-record"==c||"delete-record"==c){b=b.q;a=a.n[b]||null;if(!a)throw Error("No capability registered for record type "+b);return a}b=b.e;if("pq-clear"==b||"pq-clear-sent"==b||"pq-clear-sent-bundle"==b||"pq-delete-commands"==b||"pq-mark-sent"==b||"pq-write-commands"==b)return a.g;if("document-lock"==b)return a.v;if("append-commands"==b)return a.e;if("update-application-metadata"==b&&a.db())return a.db();if("append-template-commands"==b&&a.eb())return a.eb();throw Error("No capability registered for operation type "+
b);}q.z=function(){Sd(this.g,this.e,this.i,this.w,this.v,this.k,this.j,this.l,this.o);Fm.prototype.z.call(this)};function iu(a,b,c,d,e,f,h,l,k,p,r,u,w,B,z,y,O,oa,ha,Ta){H.call(this);this.l=a;this.Q=b;this.F=c;this.U=d;this.ga=e;this.L=f;this.A=h;this.H=l;this.K=k;this.O=p;this.ha=u;this.X=r;this.g=w;this.Y=B;a=new Js;this.v=z?new Os(z,a):null;this.i=y;this.w=O;this.D=oa;this.n=new T;this.j=new T;this.o=Ta}F(iu,H);iu.prototype.create=function(a){this.e(a);return this.j};
iu.prototype.e=function(a){var b={},c;for(c in this.l){var d=new Is(c,this.i,this.l[c],a);I(this,d);b[c]=d}d=null;if(this.g)for(c in d={},this.g){var e=new St(c,this.i,this.g[c],a);I(this,e);d[c]=e}a=new gu(b,this.Q,this.F,this.U,this.ga,this.L,this.A,this.H,this.K,this.O,this.X,this.ha,d,this.Y,this.w,this.D,this.o);I(this,a);a=new an(a);I(this,a);this.n.e(a);this.j.e(a);return a};iu.prototype.k=n("v");function ju(a){this.e=a}ju.prototype.clearPendingQueue=function(a){xi(pn(this.e),function(){return a.pendingQueueCleared()},function(){return a.pendingQueueClearFailed()})};function ku(a,b,c){this.docId=a;this.commandsIndex=b;this.serializedCommands=c};function lu(a){this.e=null;U(a,D(this.Be,this))}q=lu.prototype;q.Be=m("e");q.provideDocument=function(a){return new Xs(a)};q.provideDocumentEntity=function(a,b,c){return new lt(a,b,c)};q.provideCommandBatch=function(a,b,c,d,e){return new Es(a,b,c,d,e)};q.providePendingQueue=function(a){return new Et(a)};q.providePendingQueueCommandBatch=function(a,b,c){return new ku(a,b,c)};q.providePendingQueueCommandBundleMetadata=function(a,b,c,d){return new Bt(a,b,c,d)};q.provideApplicationMetadata=function(a){return new ht(a)};
q.provideFontMetadata=function(a){return new bu(a)};q.provideSyncObject=function(a){return new Jt(a)};q.provideLocalStorePendingQueueClearer=function(){return new ju(this.e)};q.provideBlobMetadata=function(a,b){return new ut(a,b)};q.provideTemplateMetadata=function(a){return new Rt([a])};q.provideTemplateCreationMetadata=function(a){return new Pt([a])};function mu(){}mu.prototype.create=function(){return Ni(null)};mu.prototype.e=kb("Cannot call #createSynchronously in NoOpLocalStoreFactory");mu.prototype.k=aa(null);function nu(){}q=nu.prototype;q.jc=null;q.Yc=!1;q.fd=null;q.Ld=!1;q.setSystemSupportedFonts=m("jc");q.setNativeFontInstaller=g();q.setMenuFontsEnabled=g();q.setAcceleratedNonLatinEnabled=m("Yc");q.setAcceleratedNonLatinSyncCheck=g();q.setFormat=m("fd");q.setDomainFontsEnabled=g();q.setSubsetExtractionEnabled=m("Ld");q.setIndependentDefaultFonts=g();q.setNonLatinUi=g();q.setJapaneseSystemFontsAsWebfonts=g();q.setKoreanSystemFontsAsWebfonts=g();
function ou(a){a.jc||(a.jc=Tr);fh=new eh(a.Yc,a.Ld,!0,a.fd)};function pu(){this.e={}}function qu(a,b,c,d){var e=a.e[b];return e?function(a){var b=c.apply(this,arguments);return b?e(b,d):null}:c};function Z(a,b){var c=new pu;this.e(c);for(var d in this)if("constructor"!=d&&ya(a[d])){var e=Sq(b,a[d],a);this[d]=qu(c,d,e,b)}}Z.prototype.e=ta;function ru(a,b){Z.call(this,a||{},b)}F(ru,Z);ru.prototype.readCommands=function(a,b,c,d){d.callback(0,"Native readCommands is not supported")};function su(a,b){Z.call(this,a||{},b)}F(su,Z);su.prototype.readDocument=function(a,b,c,d){d.callback(0,"Native readDocument is not supported")};function tu(a,b){Z.call(this,a||{},b)}F(tu,Z);q=tu.prototype;q.popUnusedDocumentId=function(a,b,c){c.callback(0,"Native popUnusedDocumentId is not supported")};q.pushUnusedDocumentIds=function(a,b,c,d){d.callback(0,"Native pushUnusedDocumentIds is not supported")};q.getUnusedDocumentIdCount=function(a,b,c){c.callback(0,"Native getUnusedDocumentIdCount is not supported")};q.getApplicationMetadata=function(a,b,c){c.callback(0,"Native getApplicationMetadata is not supported")};
q.getAllApplicationMetadata=function(a,b){b.callback(0,"Native getAllApplicationMetadata is not supported")};function uu(a,b){Z.call(this,a||{},b)}F(uu,Z);uu.prototype.readDocumentEntity=function(a,b,c,d,e){e.callback(0,"Native readDocumentEntity is not supported")};uu.prototype.readDocumentEntities=function(a,b,c,d){d.callback(0,"Native readDocumentEntities is not supported")};uu.prototype.readDocumentEntitiesByIds=function(a,b,c,d,e){e.callback(0,"Native readDocumentEntitiesByIds is not supported")};function vu(a,b){Z.call(this,a||{},b)}F(vu,Z);vu.prototype.acquireLock=function(a,b,c,d){d.callback(0,"Native acquireLock is not supported")};vu.prototype.releaseAllLocks=ta;function wu(a,b){Z.call(this,a||{},b)}F(wu,Z);q=wu.prototype;q.addFile=function(a,b,c,d,e,f){f.callback(2,"Native addFile is not supported")};q.getFileUrl=function(a,b,c,d){d.callback(null)};q.getDirectoryContents=function(a,b,c,d){d.callback([])};q.getAllFilesWithUri=kb("Native getAllFilesWithUri is not supported");q.removeFile=function(a,b,c,d,e){e.callback(2,"Native removeFile is not supported")};q.removeDirectory=function(a,b,c,d){d.callback(2,"Native removeDirectory is not supported")};function xu(a,b){Z.call(this,a||{},b)}F(xu,Z);xu.prototype.pushNonSnapshottedDocumentId=function(a,b,c){c.callback(0,"Native non-snapshotted document id push is not supported")};xu.prototype.removeNonSnapshottedDocumentIds=function(a,b,c){c.callback(0,"Native non-snapshotted document id removal is not supported")};function yu(a,b){Z.call(this,a||{},b)}F(yu,Z);yu.prototype.executeOperations=function(a,b,c){c.callback(0,"Native executeOperations is not supported")};function zu(a,b){Z.call(this,a||{},b)}F(zu,Z);zu.prototype.readAllBlobMetadataForDocument=function(a,b,c){c.callback(0,"Native blob metadata for a document is not supported")};zu.prototype.clearBlobMetadataForDocument=function(a,b,c){c.callback(0,"Native clearing of blob metadata for a document is not supported")};function Au(a,b){Z.call(this,a||{},b)}F(Au,Z);Au.prototype.readPendingQueue=function(a,b,c){c.callback(0,"Native readPendingQueue is not supported")};function Bu(a,b){Z.call(this,a||{},b)}F(Bu,Z);Bu.prototype.getAllSyncObjects=function(a,b){b.callback(0,"Native getAllSyncObjects is not supported")};function Cu(a,b){Z.call(this,a,b)}F(Cu,Z);Cu.prototype.readCommands=function(a,b,c,d){d.callback(0,"Native readCommands is not supported")};Cu.prototype.addCommands=kb("Native addCommands is not supported");function Du(a,b){Z.call(this,a||{},b)}F(Du,Z);Du.prototype.readAllTemplateMetadata=function(a,b,c){c.callback(0,"Native readAllTemplateMetadata is not supported")};Du.prototype.readTemplateMetadata=function(a,b,c){c.callback(0,"Native readTemplateMetadata is not supported")};Du.prototype.readTemplateCreationMetadata=function(a,b,c){c.callback(0,"Native readTemplateCreationMetadata is not supported")};Du.prototype.deleteTemplate=function(a,b,c){c.callback(2,"Native deleteTemplate is not supported")};function Eu(a,b){Z.call(this,a||{},b)}F(Eu,Z);Eu.prototype.readAllFontMetadata=function(a,b){b.callback(0,"Native readAllFontMetadata is not supported")};Eu.prototype.readFontMetadata=function(a,b,c){c.callback(0,"Native readFontMetadata is not supported")};function Fu(){this.e=new nu;this.o=!1}F(Fu,H);q=Fu.prototype;q.oc=null;q.wc=null;q.xc=null;q.rc=null;q.pc=null;q.qc=null;q.uc=null;q.yc=null;q.Bc=null;q.zc=null;q.Ac=null;q.vc=null;q.nc=null;q.tc=null;q.jd=!0;q.td=null;q.hd=new T;q.setNativeDocumentCapability=m("oc");q.setNativePendingBlobCapability=m("wc");q.setNativePendingQueueCapability=m("xc");q.setNativeDocumentLockCapability=m("rc");q.setNativeDocumentCreationCapability=m("pc");q.setNativeNonSnapshottedDocsCapability=m("uc");
q.setNativeDocumentEntityCapability=m("qc");q.setNativeSyncObjectsCapability=m("yc");q.setNativeWebFontsCapability=m("Bc");q.setNativeTemplateAdapter=m("zc");q.setNativeTemplateCapability=m("Ac");q.setNativeOperationExecutor=m("vc");q.setNativeDocumentAdapter=m("nc");q.setNativeFileStorageAdapter=m("tc");q.setFastTrack=m("jd");q.setLocale=m("td");q.setFakeLocalStore=function(){this.o=!0};q.getWebFontsBuilder=n("e");q.createLocalStoreObjectProvider=function(){return new lu(this.hd)};
function Gu(a,b,c,d){if(a.o)return new mu;if(a.nc&&a.vc&&a.oc&&a.xc&&a.rc){var e={};e[c]=new ru(a.nc,d);var f=new yu(a.vc,d),h=new su(a.oc,d),l=new Au(a.xc,d),k=new vu(a.rc,d),p=null;a.pc&&(p=new tu(a.pc,d));var r=null;a.wc&&(r=new zu(a.wc,d));var u=null;a.qc&&(u=new uu(a.qc,d));var w=null;a.uc&&(w=new xu(a.uc,d));var B=null;a.yc&&(B=new Bu(a.yc,d));var z=null;a.Bc&&(z=new Eu(a.Bc,d));var y=null;a.zc&&(y={},y[c]=new Cu(a.zc,d));c=null;a.Ac&&(c=new Du(a.Ac,d));var O=null;a.tc&&(O=new wu(a.tc,d));return new iu(e,
f,h,r,l,k,!0,p,u,w,B,z,y,c,O,b,a.jd,a.td,a.hd,d)}return null};function Hu(a,b,c){K.call(this);this.g={"X-Same-Domain":"1"};!1===c&&(this.g={});this.j="";this.e=b||Sn();(a=oc((a||v).location.href,"authkey"))&&Iu(this,"authkey",a)}F(Hu,K);function Ju(a,b){var c=b.length-1;0<=c&&b.indexOf("/",c);a.j=b}Hu.prototype.k=function(a){Iu(this,"tfe",a)};function Iu(a,b,c){var d=a.e;if(c){if(d.e[b]=c,d.g&&(b=d.e.token||null))d.g.e(b),d.g=null}else delete d.e[b];ve(a,"C")};function Ku(a){K.call(this);this.g=a;this.e=null;this.j=new yk(this);this.j.ia(this.g,"C",this.k)}F(Ku,K);Ku.prototype.k=function(){this.e&&this.e.j(this.g.e.e)};Ku.prototype.z=function(){this.e&&!this.e.q()&&(this.e.l("tfe_changed",this.g.k,this.g),this.e.e(),this.e.k());this.e=null;Rd(this.j);Ku.G.z.call(this)};!Wc&&!Uc||Uc&&9<=Number(hd)||Wc&&gd("1.9.1");Uc&&gd("9");new vr;function Lu(a,b){H.call(this);this.g=[];this.k=a;(this.i=b||null)&&I(this,this.i);this.e=this.j=null;this.i&&(this.e=new Cf(500),this.j=new yk(this),this.j.ia(this.e,"tick",this.l))}F(Lu,H);Lu.prototype.reset=function(){this.g=[];this.e&&Ef(this.e)};Lu.prototype.na=function(a){return 0<=Oa(this.g,a)};Lu.prototype.l=function(){for(;0<this.g.length&&jq(this.i);)kq(this.i),this.k(this.g.shift());0==this.g.length&&this.e&&Ef(this.e)};Lu.prototype.z=function(){Rd(this.j);Rd(this.e);Lu.G.z.call(this)};function Mu(a,b){J.call(this,"F",a);this.Gd=b}F(Mu,J);function Nu(a,b,c,d,e,f,h,l,k,p,r,u,w,B,z,y){K.call(this);this.j=a;this.ha=b;this.n=c;this.k=d;this.v=w||(c?"POST":"GET");this.w=p;this.A=e;this.o=f;this.X=h;this.H=l;this.Q=k;this.Y=u;this.O=B;this.g=this.F=this.l=0;this.L=yb(z);this.U=y||3E4}F(Nu,K);var Ou=5E3*(.75+.5*Math.random());
Nu.prototype.T=function(a){this.l++;this.F=E();this.e=new Tn;this.D.kb(this.e,"complete",D(this.la,this));this.e.n=Math.max(0,this.Y);"text"!=this.w&&(this.e.l=Pu(this.w));var b=lc(this.ha+this.j,a.e.e),c={};Bb(c,this.L,yb(a.g));this.e.T(b,this.v,this.n,c)};Nu.prototype.reset=ta;Nu.prototype.z=function(){ve(this,"G");this.reset();delete this.o;delete this.A;Nu.G.z.call(this)};function Qu(a){dk(this,a,"er",null)}F(Qu,bk);Qu.e="er";Qu.prototype.getData=function(){return W(this,4)};function Ru(a){dk(this,a,"xsrf",null)}F(Ru,bk);Ru.e="xsrf";function Su(a){return"text"==a.j&&null!=a.e&&0==(a.e||"").lastIndexOf(")]}'\n",0)&&(a=tj(a),va(a)&&(a=a[0],va(a)&&"er"==a[0]))?new Qu(a):null}function Tu(a){a=Su(a);if(!a)return null;a=a.getData();return va(a)&&"xsrf"==a[0]?new Ru(a):null};function Uu(a,b,c,d,e,f,h,l){K.call(this);this.H=a;this.k=new Hu(b,e,h);this.j=new Ku(this.k);this.l=new yk(this);this.v=c||null;c&&this.l.ia(c,"z",this.te);this.e=d||new Co;this.F=l||null;this.A=new uq;this.g=[];this.w=[];this.n=new Lu(D(this.bf,this),f);this.o=Oo;this.D=new Jj;I(this,this.D);this.l.ia(this.j,"B",this.le)}F(Uu,K);function oj(a,b){var c=a.H;b=new Vu(a,b,a,a.F,!0);c.e&&(b.q=c.e);b.i=a.k.j;return b}q=Uu.prototype;
q.T=function(a){if(!a.q()){var b=this.g;0<=Oa(b,a)||b.push(a);a:{b=this.n;if(b.i){if(!jq(b.i)||0!=b.g.length){b.g.push(a);Ff(b.e);break a}kq(b.i)}b.k(a)}this.l.kb(a,"G",this.Ie)}};q.bf=function(a){5<=this.e.e.e||(this.e.e==Do&&Eo(this.e,Go),this.l.kb(a,"F",this.od),a.T(this.k))};
q.od=function(a){var b=a.ea;a=a.Gd;"SOON"==a.q["x-restart"]&&Q(this.e.i,null);this.v&&Wu(a)&&1!=b.k&&this.v.log(Error("blank JSON response"),Xu(a));if("NOW"==a.q["x-restart"])var c=new xk("j",a.g,a.i);else if(7==a.g)c=null;else{c=a.g;var d=a.i;(0==a.g?0==c&&0==d&&("text"!=a.j||null==a.e):8==c||5==c||6==c&&(0>=d||503==d||405==d||Uc&&12001<=d&&12156>=d))?c="g":(c=a.i,c=6==a.g&&(202==c||401==c||403==c||409==c||429==c||500<=c&&599>=c&&503!=c&&550!=c)||400==c&&null!=Tu(a)||200==c&&(null==a.k||Su(a)||Wu(a))?
"h":0==a.g?"f":"e");c=new xk(c,a.g,a.i,6==a.g&&500==a.i?Su(a):null)}if(c){d=!0;if("f"==c.type){try{b.A(a),Yu(this,b)}catch(p){c=new xk("i",c.q,c.g),c.k=p,c.i="f",Yu(this,b,this.o)}b.Z()}else if("g"==c.type||"h"==c.type){var e=c,f=!1;if(200==e.g){var h=Su(a);h&&"XSRF"==W(h,1)&&(Zu(this,h.getData()),f=!0)}400==e.g&&(a=Tu(a))&&W(a,1)&&(Zu(this,W(a,1)),f=!0);409==e.g&&this.k.k(null);a=5<=this.e.e.e;h="h"==e.type;a||!(f||1!=b.k&&4>b.l)?3==b.k?(a||(null==this.j.e||h?$u(this,b,!0):this.w.push(b),av(this),
Eo(this.e,bv(this,e.g),b.j)),a=2):a=1:($u(this,b,!1),a=3);switch(a){case 1:c.i=c.type;c.type="e";break;case 3:d=!1;break;case 2:c.j instanceof Qu&&W(c.j,2)}}else"j"==c.type&&(this.v&&this.v.W(Error("Incompatible server")),Yu(this,b,No),d=!1);if("e"==c.type){c.j instanceof Qu&&W(c.j,2);try{var l=b.o(c);0==(void 0!=l?0!=l:!b.X)&&(d=!1);if(b.Q)Yu(this,b);else{var k=b.H(c)||bv(this,c.g);Yu(this,b,k)}}catch(p){c=new xk("i",c.q,c.g),c.k=p,c.i="e",Yu(this,b,this.o)}b.Z()}d&&ve(this,c)}};
q.Ie=function(a){a=a.ea;if(this.n.na(a)){var b=this.n;Wa(b.g,a);0==b.g.length&&b.e&&Ef(b.e)}else 0<=Oa(this.g,a)&&(this.l.$b(a,"F",this.od),Yu(this,a));Wa(this.g,a);Wa(this.w,a)};function Yu(a,b,c){var d=a.e.e,e=d,f=c||Io;c=!c;Wa(a.g,b);Wa(a.w,b);a.n.na(b);if(!(5<=d.e))if(5<=f.e)Eo(a.e,f,b.j);else{var h=null!=a.j.e||Ra(a.g,function(a){return 3==a.k});if(d==Go)c||!h?0==a.g.length&&(e=Do):(av(a),e=f);else if(c)if(0<a.g.length)e=Ho,cv(a);else{if(null==a.j.e||a.j.e.i())e=Do}else e=f;Eo(a.e,e,b.j)}}
function av(a){null!=a.j.e&&1==a.e.e.e&&(a=a.j,a.e.e(),a.e.g())}q.aa=n("e");function $u(a,b,c){var d=Ou;c&&0!=b.g&&(d=b.g<b.U?1.5*b.g:b.g);b.g=d;c=Math.max(0,d-(E()-b.F));a.A.Ja(D(a.T,a,b),c)}q.le=function(a){var b=this.e.e;5<=b.e||(a.g?1!=b.e&&(0<this.g.length?(Eo(this.e,Ho),cv(this)):Eo(this.e,Do)):Eo(this.e,bv(this,a.i)))};function cv(a){var b=a.w.shift();b&&a.T(b)}
function bv(a,b){return 401==b?Lo:403==b?Ko:421==b?Mo:202==b||405==b||409==b||429==b||500<=b&&599>=b&&550!=b?Jo:400<=b&&499>=b||550==b?a.o:Io}function Zu(a,b){a=a.k;a.e.e.at&&Iu(a,"at",b);Iu(a,"token",b)}q.te=function(){Eo(this.e,this.o)};q.z=function(){Sd(this.g);Rd(this.j);Rd(this.k);Rd(this.A);Rd(this.n);Rd(this.l);Uu.G.z.call(this)};function dv(a){var b=this;H.call(this);this.i=a;this.e=new P;this.g=new Jj;I(this,this.g);Kj(this.g,a.g,function(a){1==a.i.e!=(1==a.g.e)&&Q(b.e,new Gj(1==a.g.e))})}F(dv,H);dv.prototype.isOnline=function(){return 1==this.i.e.e};var ev=/\/d\/([^\/]+)/;function fv(a){a=a.match(bc)[5]||null;return ev.test(a)};function gv(a,b,c){this.g=a;this.I=c;this.i="";this.e=void 0;this.l=null;this.H={};this.B=3;this.w=!1;this.j=ta;this.o=!1;this.k=jb;this.n=ta;this.v=-1;this.A=this.F=!1;this.q=new In}function nj(a,b,c){a.g=mc(a.g,b,c);return a}function Xk(a){a.A=!0;return a}function mj(a,b){a.e=b;return a}function Vo(a,b){a.e=b;return a}function Nj(a,b){b=sb(b,function(a){return A(a)?a:xe(a)});return mj(a,jc(b))}function To(a){a.w=!0;return a}function rj(a,b){a.j=b;a.o=!1;return a}
function Uo(a,b){a.k=b;return a}function pj(a,b){a.B=b;return a}function sj(a,b){a.n=b;return a}gv.prototype.setTimeout=function(a){this.v=a;return this};function So(a){a.F=!0;return a}
function qj(a){a.F&&(A(a.e)||va(a.e));var b=a.v;0>b&&(b=a.K?4E4:2E4);var c=a.g,d=hv(a);a:{if(va(a.e)){var e=a.e;try{if(N(M(),"docs-net-cbfd")&&v.FormData){for(var f=new v.FormData,h=0;h<e.length;h+=2)f.append(e[h],e[h+1]);var l=f}else l=ic(e);var k=l;break a}catch(p){if(p instanceof URIError&&"URI malformed"==p.message){b=[];for(c=1;c<e.length;c+=2)if(d=ch(e[c].toString()))b.push(e[c-1]),b.push(d);e=b.toString().substr(0,100);a=iv(a).substr(0,100);throw nd(p,{illegal_request_content:e,request_uri:a});
}throw p;}}k=a.e}e=new jv(c,d,k,a.B,a.n,a.j,a.o,a.k,!1,"text",a.w,b,a.l,a.q,a.H,void 0);if(!a.D)throw Error("Trying to send a request without a request sender for - "+iv(a));a.D.T(e);return e}function iv(a){return hv(a)+a.g}function hv(a){if(a.A){if(a=a.i,fv(a)){fv(a);a=a.match(bc);var b=a[5];b=b.replace(ev,"");a=ac(a[1],a[2],a[3],a[4],b,a[6],a[7])}}else a=a.i;return a};function kv(a,b,c,d,e,f,h,l){this.e=a;this.j=b||"text";this.k=/^[\s\xa0]*$/.test(Ob(c))?null:c;this.i=x(d)?d:200;this.q={};if(f)for(var k in f)this.q[k.toLowerCase()]=f[k];this.g=x(e)?e:0;this.I=h||{};this.B=l||null;this.l=void 0}function tj(a){x(a.l)||(a.l=Kn(a.e||"",a.B));return a.l}
function Xu(a){var b=a.i,c=a.g,d=a.j,e=a.k;if("text"==a.j){var f=a.e||"";f=-1!=f.indexOf("&")?"document"in v?Kb(f):Mb(f):f;50<f.length&&(f=f.substring(0,47)+"...");Jb.test(f)&&(-1!=f.indexOf("&")&&(f=f.replace(Db,"&amp;")),-1!=f.indexOf("<")&&(f=f.replace(Eb,"&lt;")),-1!=f.indexOf(">")&&(f=f.replace(Fb,"&gt;")),-1!=f.indexOf('"')&&(f=f.replace(Gb,"&quot;")),-1!=f.indexOf("'")&&(f=f.replace(Hb,"&#39;")),-1!=f.indexOf("\x00")&&(f=f.replace(Ib,"&#0;")));f+="   (truncated)"}else f="responseObject";b=
{RespStatus:b,RespErr:c,RespType:d,RespContentType:e,RespString:f};Bb(b,a.I);return b}function Wu(a){if(200==a.i&&null!=a.k&&!Su(a)&&"text"==a.j){if(/^[\s\xa0]*$/.test(Ob(a.e)))return!0;if(0==(a.e||"").lastIndexOf(")]}'\n",0))return null==tj(a)}return!1};function jv(a,b,c,d,e,f,h,l,k,p,r,u,w,B,z,y){Nu.call(this,a,b,c,d,e,f,h,l,k,p,r,u,w,B,z,y);this.e=null;this.D=new yk(this)}F(jv,Nu);
jv.prototype.la=function(){var a=this.e;var b="";var c=null;try{""==a.l?b=fo(a):b=go(a),c=a.Sb("Content-Type")}catch(p){}var d=lv(a.l),e=a.aa(),f=a.j,h={};a=a.Rb().split("\r\n");for(var l=0;l<a.length;l++)if(!/^[\s\xa0]*$/.test(Ob(a[l]))){var k=a[l].split(": ");2==k.length&&(h[k[0]]=k[1])}b=new kv(b,d,c,e,f,h,{ReqUri:this.j,ReqContent:this.n,ReqMethod:this.v},this.O);this.reset();ve(this,new Mu(this,b))};jv.prototype.reset=function(){this.e&&(this.e.Z(),this.e=null)};
jv.prototype.z=function(){Rd(this.D);jv.G.z.call(this)};function lv(a){switch(a){case "arraybuffer":return"arraybuffer";case "blob":return"blob";case "document":return"document";case "text":return"text";case "":return"text";default:throw Error("Unsupported Xhr Response Type - "+a);}}function Pu(a){switch(a){case "arraybuffer":return"arraybuffer";case "blob":return"blob";case "document":return"document";default:return""}};function Vu(a,b,c,d,e){gv.call(this,b,c,d);this.D=a;this.K=!!e}F(Vu,gv);function mv(){this.e=null};function nv(a,b,c,d,e){H.call(this);this.i=a;this.j=b;this.e=c;this.k=e;this.g=new yk(this);I(this,this.g)}F(nv,H);nv.prototype.l=function(a,b){this.e.W(Error(Ih(b)));a()};
nv.prototype.n=function(a,b,c,d){try{var e=tj(d)}catch(k){this.e.W(Error("Could not interpret result of /getappmetadata "+(d.e||"")));c();return}var f=e;if(f&&f.newModelCommands&&f.jobset){d=Ug(f.newModelCommands);e=f.jobset;var h=f.docosKeyData;f=f.version;var l=new em(this.i,!0);S(l,"jobset",e);l.i=d.concat();l.g=!0;h&&S(l,"docosKeyData",h);x(f)&&S(l,"version",f);d=l}else d=null;d?a.ka([d],b,D(this.l,this,c)):b()};nv.prototype.z=function(){nv.G.z.call(this);delete this.g;delete this.e};function ov(a,b,c){H.call(this);this.e=a;this.j=b;this.g=c}F(ov,H);ov.prototype.i=function(a,b){this.g.W(Error(Ih(b)));a()};ov.prototype.k=function(a,b,c,d){var e=Mg("docs-offline-nnodi");d<.9*e?(a=qj(pj(rj(sj(nj(oj(this.j,"/getids"),"num",String(e-d)),D(this.l,this,a,b,c)),c),2)),I(this,a)):b(0)};
ov.prototype.l=function(a,b,c,d){try{var e=tj(d)}catch(f){this.g.W(Error("Could not interpret result of /getids: "+(d.e||"")));c();return}e&&0!=e.length?(a=a.e.db())?(c=D(this.i,this,c),a.k.pushUnusedDocumentIds(this.e,e,new Dp(Ea(b,e.length)),Qp(c))):b(e.length):b(0)};function pv(a,b,c,d,e){H.call(this);this.j=a;this.g=new ov(a,b,c);this.e=new nv(a,b,c,d,e)}F(pv,H);pv.prototype.i=function(a,b,c,d){var e=Ea(b,d);b=this.e;d=Ea(e,!0);e=Ea(e,!1);a=pj(rj(sj(nj(oj(b.j,"/getappmetadata"),"smv",String(b.k)),D(b.n,b,a,d,e)),e),2);c&&nj(nj(a,"forcehl","1"),"hl",c);c=qj(a);I(b,c)};pv.prototype.toString=function(){return"EditorMetadataFetcher for "+this.j};pv.prototype.z=function(){Rd(this.g);delete this.g;Rd(this.e);delete this.e;pv.G.z.call(this)};Fa(g().prototype,g().prototype);function qv(){this.g=!1}F(qv,wj);qv.prototype.e=function(a,b,c,d,e){"labelpath"==c.entityType?(c=JSON.parse(c.path),a=new hm(b,a,"labelPath",c,!0),e.push(a)):qv.G.e.call(this,a,b,c,d,e)};function rv(a,b){Z.call(this,a||{},b)}F(rv,Z);rv.prototype.onSyncResult=lb(ta,0);rv.prototype.onSyncResult2=function(a){this.onSyncResult(a.getRequestId(),a.getSyncResult())};rv.prototype.fatalError=ta;function sv(a,b){this.Tc=a;this.e=b}sv.prototype.Ic=function(){return null!=this.Tc&&null==this.e};function tv(a){P.call(this);this.value=null;this.value=a}t(tv,P);function uv(a){tv.call(this,a)}t(uv,tv);function vv(){}t(vv,Rf);function wv(a,b,c){var d=this;this.B=a;this.k=null;this.q=b;this.l=c;this.e={};this.i=[];this.I=new uv(!0);Ui(this.q,function(a){d.k=a;a=d.i;d.i=[];xv(d,a)})}
function $q(a,b){for(var c=[],d=[],e={},f=0;f<b.length;e={Dc:e.Dc},f++){var h=jh(b[f].e),l=a.e[h];l?(e.Dc=b[f].e,l=Wi(l,function(a){return function(b){b.Ic()&&(b=b.Tc,b=new sv(new or(a.Dc,b.i,b.g),null));return b}}(e))):(c.push(b[f]),a.e[h]=l=bj());d.push(l)}var k=bj();xi(Yi(d,!1),function(a){for(var b=[],c={},d=0;d<a.length;d++){var e=a[d];if(!e.e)throw Error("Deferred result should always be successful after a whole flight.");e=e.g();e.Ic()?b.push(e.Tc):(e=e.e,c[jh(e)]=e)}V(k,new Or(b,ub(c)))},
function(a){return k.errback(a)});yv(a);zv(a,c);return k}function zv(a,b){if(b.length){for(var c=Rr(a.B,b),d=[],e=0;e<b.length;e++)d.push(b[e].e);xi(c,function(b){var c=b.e;b=b.g;b.length&&a.j("Fetch failed",b,"Individual fetches failed.");b=[];for(var d=0;d<c.length;d++){var e=c[d];switch(e.g){case "sync-needed":b.push(e);break;case "sync-needed-non-blocking":b.push(e);a.g(e);break;case "sync-not-needed":a.g(e)}}xv(a,b)},function(b){a.j("Entire fetch failed",d,b?gj(b):null)})}}
function xv(a,b){if(1!=a.q.e)if(a.k)for(var c={},d=0;d<b.length;c={errback:c.errback,Ob:c.Ob},d++){var e=b[d],f=a.k.i(e);if("sync-needed"==e.g){var h=D(a.g,a);c.errback=D(a.j,a,"Local syncing of remote resource failed",[e.e]);xi(f,h,function(a){return function(b){b?a.errback(b.$()):a.errback(null)}}(c))}else h=ta,c.Ob=D(a.n,a,"Local non-blocking syncing of remote resource failed",[e.e]),xi(f,h,function(a){return function(b){b?a.Ob(b.$()):a.Ob(null)}}(c))}else for(c=0;c<b.length;c++)"sync-needed"==
b[c].g&&a.g(b[c]);else a.i=a.i.concat(b)}wv.prototype.g=function(a){var b=jh(a.e),c=this.e[b];c?(delete this.e[b],V(c,new sv(a,null))):(b={resultIdString:b},b.syncStatus=a.g,b.totalDeferreds=Object.keys(this.e).length,this.l.W(Error("Missing deferred for completed fetch result"),b));yv(this)};wv.prototype.n=g();wv.prototype.j=function(a,b){for(a=0;a<b.length;a++){var c=jh(b[a]),d=this.e[c];delete this.e[c];V(d,new sv(null,b[a]))}yv(this)};
function yv(a){var b=a.I;a=!vb(a.e).length;if(!Sf(b.value,a)){var c=b.value;b.value=a;Q(b,new vv(c,a))}};function Av(){}Av.prototype.e=ta;function Bv(a,b){this.e=a;this.g=b}Bv.prototype.i=function(a){a.errback("Sync update server error");this.e.log(Error("Sync update server error"))};Bv.prototype.j=function(a,b){try{var c=Kn(b.e||"")}catch(f){a.errback("Could not interpret result of /sync/get");this.e.log(Error("Could not interpret result of /sync/get"));return}b=[];if(c)for(var d=0;d<c.length;d++){var e=c[d];try{b.push(e)}catch(f){a.errback("Invalid sync update");this.e.log(Error("Invalid sync update"));return}}a.e(b)};function Cv(a,b){this.e=a;this.g=b};function Dv(a,b,c){this.j=a;this.g=b;this.e=c||[]}Dv.prototype.i=function(a){Nt(this.j,D(this.l,this,a||ta),Ea(a||ta,0))};Dv.prototype.l=function(a,b){for(var c=[],d=0;d<b.length;d++){var e=new Cv(ai(b[d]),Im(b[d])),f={};f.keyPath=e.e;f.state=e.g;c.push(f)}b=[];for(d=0;d<this.g.length;d++)b.push(Ev(this.g[d],c));c=sk(b);U(c,D(this.q,this,a));Hi(c,null,Ea(a,0),void 0)};
Dv.prototype.q=function(a,b){for(var c=[],d=0;d<b.length;d++)c.push.apply(c,b[d]);b=[];for(d=0;d<this.e.length;d++){var e=new T;Wr(this.e[d],c,D(e.e,e),D(e.errback,e));b.push(e)}b=new rk(b);U(b,D(this.k,this,a,c))};Dv.prototype.k=function(a,b,c){for(var d=0,e=0;e<c.length;e++)c[e][0]||d++;a(b.length,0<d?d+" post processors failed.":null)};function Fv(a,b){this.g=a;this.i=b}function Ev(a,b){var c=new T,d=a.g,e=new T;b=["syncStates",xe(b)];d=mj(rj(sj(oj(d.g,"/sync/get"),D(d.j,d,e)),D(d.i,d,e)),ic(b));d.l="POST";qj(pj(d,2));U(e,D(a.e,a,c));a=D(c.errback,c);Hi(e,null,a,void 0);return c}
Fv.prototype.e=function(a,b){var c=this.i;a=D(a.e,a);for(var d=[],e=0;e<b.length;e++){var f=b[e],h=f.keyPath,l=f.state;f=f.data;if(!h||!l||!f)throw Error("Serialized SyncUpdate missing required key.");if(!h.length)throw Error("SyncUpdate key may not be empty.");d.push(Gr(c,new zr(h,l,f)))}c.g&&c.g.ka(d,Ea(a,d))};function Gv(a,b,c){this.j=b;this.g=a;this.k=c;this.e=!1}Gv.prototype.i=function(a){if(!this.e){var b=this.j,c=this.g,d=c?c.e.Nb():null;c&&d?(b.g=new yr(c,d,b.j),c=b.g,d=D(b.k,b),b=D(b.e.errback,b.e),Nt(c.i,Ea(c.j,d),b)):b.e.e();this.e=!0}this.k.i(a)};function Hv(){Fu.call(this);this.v=[];this.l=this.i=null;this.w=!1;this.g=0;this.k=null;this.j=this.n=!1}F(Hv,Fu);q=Hv.prototype;q.buildForKix=function(a,b){return Iv(this,"kix",a,b)};q.buildForRitz=function(a,b){return Iv(this,"ritz",a,b,"top","chunk",new wj(!0))};q.buildForPunch=function(a,b){return Iv(this,"punch",a,b,void 0,void 0,new qv)};q.buildForDrawings=function(a,b){return Iv(this,"drawing",a,b,void 0,void 0,new qv)};q.setSupportedFonts=m("v");q.setBlobTransporter=m("i");
q.setSupportsIncrementalXHRRead=m("w");q.setImageUrlRevoker=m("l");q.setSupportedModelVersion=m("g");q.setFirstChunkSize=m("k");q.setNonLatinInfrastructure=function(a,b){this.e.setAcceleratedNonLatinEnabled(a);this.e.setAcceleratedNonLatinSyncCheck(b)};q.setUseLatestTemplateMetadataIos=m("n");q.setEnableModelMetadataVersionParam=m("j");
function Iv(a,b,c,d,e,f,h){var l=new pk,k=new Nq(void 0,void 0,void 0,!1);k.g["docs.offline.mobilenative.SyncApplication"]="true";ou(a.e);var p=new rv(d,k);Pq(k,new Vq(p.fatalError,p));var r=Gu(a,l,b,k);if(!r)throw Error("Incomplete sync application.");var u=new Uu(new mv);Ju(u.k,c);d=new pv(b,u,k,l,a.g);var w=r.e(function(){Sl(k,Error("Unexpected sync application localstore error"))});if(w.g)throw Error("Called setWritable on an already writable localstore.");w.g=!0;r=r.k();var B=null,z=null;r&&
(B=new zs(r),z=new As(B));var y=null,O=null,oa=w.e.Nb()?new Er(k):null,ha=w.e.lc(),Ta=[hh()];if(ha&&r&&B){y=new Pr(u,k);var sa=bj();O=new wv(y,sa,k);var xa=new Xq(new ar(new Ur(a.v)));O=new Zq(xa,O,new Av);V(sa,new pr(w,B));sa=new bs(w,r);xa=Mr().concat(Nr);N(M(),"docs-emfms")&&Ta.push("menu");var pc=null;pc=gh().e?"locale":"core";y=new ss(new ls(ha,w.e.k,sa,y,O,xa,Ta,r,k,oa,pc),sa)}sa=ha=null;if(xa=w.e.Nb()){sa=new Bv(k,u);var nb;O&&(nb=[new Vr(O,Ta)]);ha=new Gv(w,oa,new Dv(xa,[new Fv(sa,oa)],nb))}nb=
new dv(new Co);a=new Op(w,w.e.e,d,new jp(c,u,l,w,z,O,k,a.l,a.i,nb,a.w,a.g,a.k,a.j,e,f,h),p,b,y,ha,r,B,c,k,O,a.n);I(a,w);I(a,d);O&&I(a,O);return a};qa("createApplicationBuilder",function(){return new Hv});}).call(this);
