(function(){function h(){return function(){}}function m(a){return function(b){this[a]=b}}function n(a){return function(){return this[a]}}function aa(a){return function(){return a}}var q,ba="function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b},ca;
if("function"==typeof Object.setPrototypeOf)ca=Object.setPrototypeOf;else{var da;a:{var ea={a:!0},fa={};try{fa.__proto__=ea;da=fa.a;break a}catch(a){}da=!1}ca=da?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var ia=ca;
function t(a,b){a.prototype=ba(b.prototype);a.prototype.constructor=a;if(ia)ia(a,b);else for(var c in b)if("prototype"!=c)if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d)}else a[c]=b[c];a.G=b.prototype}
var ja={Gb:function(a){if(null==a)return a+"";if(a instanceof Array)return"Array["+a.length+"]";if("function"==typeof a){a=a.toString();var b=a.indexOf("{");return a.substring(0,b+1).replace("\n"," ")+"...}"}return"object"==typeof a?"["+ModelServices.Hf(a)+"]":a.toString()},Nd:function(a){return null==a?ja.Gb(a):a instanceof Array?ja.ae(a,10):"function"==typeof a?a.toString():"object"==typeof a?ja.ce(a,10):ja.Gb(a)},ae:function(a,b){var c="[";a.length&&(c+="\n");for(var d=0;d<a.length;d++){if(d>b){c+=
"  + "+(a.length-b)+" more...\n";break}c+="  "+ja.Gb(a[d])+"\n"}return c+"]"},ce:function(a,b){var c=ja.Gb(a)+" {",d=Object.keys(a);d.length&&(c+="\n");for(var e=0;e<d.length;e++){if(e>b){c+="  + "+(d.length-b)+" more...\n";break}var f=d[e];c+="  "+f+": "+ja.Gb(a[f])+"\n"}return c+"}"},Ab:function(a,b,c){if(0!==c.length){for(var d="",e=0;e<c.length-1;e++)d+=ja.Nd(c[e])+" ";d+=ja.Nd(c[e]);ModelServices.log(b,a,d)}},log:function(a){ja.Ab("console.log",1,arguments)},Bf:function(a){ja.Ab("console.debug",
1,arguments)},V:function(a){ja.Ab("console.info",1,arguments)},eg:function(a){ja.Ab("console.warn",2,arguments)},Ba:function(a){ja.Ab("console.error",3,arguments)}},ka={search:""},la={},ma={},window={};window.location=ka;window.location.href="";window.location.Wb="";window.vf=ja;window.Xf={now:function(){return ModelServices.getTime()}};window.top=window;window.C=window;window.document=ma;ma.location=ka;ma.hd={};ma.xf=function(){return{}};ma.If=function(){return[]};
function na(){throw Error("XMLHttpRequest is not supported.");}q=na.prototype;q.open=h();q.Id=h();q.R=h();q.Ga=h();q.Qb=aa("");q.Rb=aa(null);this.__mobile_docs_flagsData&&(this._docs_flag_initialData=eval("("+this.__mobile_docs_flagsData+")"),window._docs_flag_initialData=this._docs_flag_initialData);window.pf=Function;window.rf=String;var goog=goog||{},v=this;function x(a){return void 0!==a}function A(a){return"string"==typeof a}function pa(a){return"number"==typeof a}function qa(a,b){a=a.split(".");var c=v;a[0]in c||"undefined"==typeof c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)!a.length&&x(b)?c[d]=b:c[d]&&c[d]!==Object.prototype[d]?c=c[d]:c=c[d]={}}function ra(a){a=a.split(".");for(var b=v,c=0;c<a.length;c++)if(b=b[a[c]],null==b)return null;return b}function ta(){}
function ua(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function va(a){return"array"==ua(a)}function wa(a){var b=ua(a);return"array"==b||"object"==b&&"number"==typeof a.length}function ya(a){return"function"==ua(a)}function za(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}var Aa="closure_uid_"+(1E9*Math.random()>>>0),Ba=0;function Ca(a,b,c){return a.call.apply(a.bind,arguments)}
function Da(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function D(a,b,c){Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?D=Ca:D=Da;return D.apply(null,arguments)}
function Ea(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}}function Fa(a,b){for(var c in b)a[c]=b[c]}var E=Date.now||function(){return+new Date};
function Ga(a){if(v.execScript)v.execScript(a,"JavaScript");else if(v.jd){if(null==Ha){try{v.jd("var _evalTest_ = 1;")}catch(d){}if("undefined"!=typeof v._evalTest_){try{delete v._evalTest_}catch(d){}Ha=!0}else Ha=!1}if(Ha)v.jd(a);else{var b=v.document,c={type:"text/javascript",Cf:!1};c.ec(b.zf(a));b.Oe.ec(c);b.Oe.removeChild(c)}}else throw Error("goog.globalEval not available");}var Ha=null;
function F(a,b){function c(){}c.prototype=b.prototype;a.G=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.sf=function(a,c,f){for(var d=Array(arguments.length-2),e=2;e<arguments.length;e++)d[e-2]=arguments[e];return b.prototype[c].apply(a,d)}};function Ia(a){if(Error.captureStackTrace)Error.captureStackTrace(this,Ia);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}F(Ia,Error);Ia.prototype.name="CustomError";function Ja(){}Ja.prototype.i=null;function Ka(a){return a.i||(a.i=a.j())};var La;function Ma(){}F(Ma,Ja);Ma.prototype.g=function(){var a=Na(this);return a?new ActiveXObject(a):new na};Ma.prototype.j=function(){var a={};Na(this)&&(a[0]=!0,a[1]=!0);return a};
function Na(a){if(!a.e&&"undefined"==typeof na&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.e=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.e}La=new Ma;var Oa=Array.prototype.indexOf?function(a,b){return Array.prototype.indexOf.call(a,b,void 0)}:function(a,b){if(A(a))return A(b)&&1==b.length?a.indexOf(b,0):-1;for(var c=0;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Pa=Array.prototype.forEach?function(a,b,c){Array.prototype.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=A(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Qa=Array.prototype.map?function(a,b,c){return Array.prototype.map.call(a,b,c)}:function(a,b,c){for(var d=
a.length,e=Array(d),f=A(a)?a.split(""):a,g=0;g<d;g++)g in f&&(e[g]=b.call(c,f[g],g,a));return e},Sa=Array.prototype.some?function(a,b){return Array.prototype.some.call(a,b,void 0)}:function(a,b){for(var c=a.length,d=A(a)?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a))return!0;return!1};function Ta(a){a:{var b=Ua;for(var c=a.length,d=A(a)?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a)){b=e;break a}b=-1}return 0>b?null:A(a)?a.charAt(b):a[b]}
function Va(a,b){b=Oa(a,b);var c;(c=0<=b)&&Array.prototype.splice.call(a,b,1);return c}function Xa(a){return Array.prototype.concat.apply([],arguments)}function Ya(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}function Za(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c];if(wa(d)){var e=a.length||0,f=d.length||0;a.length=e+f;for(var g=0;g<f;g++)a[e+g]=d[g]}else a.push(d)}}
function $a(a,b,c){return 2>=arguments.length?Array.prototype.slice.call(a,b):Array.prototype.slice.call(a,b,c)}function ab(a,b,c){function d(a){return za(a)?"o"+(a[Aa]||(a[Aa]=++Ba)):(typeof a).charAt(0)+a}b=b||a;c=c||d;for(var e={},f=0,g=0;g<a.length;){var l=a[g++],k=c(l);Object.prototype.hasOwnProperty.call(e,k)||(e[k]=!0,b[f++]=l)}b.length=f}function bb(a,b,c){if(!wa(a)||!wa(b)||a.length!=b.length)return!1;var d=a.length;c=c||cb;for(var e=0;e<d;e++)if(!c(a[e],b[e]))return!1;return!0}
function cb(a,b){return a===b}function eb(a,b){return Xa.apply([],Qa(a,b,void 0))};function fb(a){return function(){return a}}var gb=fb(!1),hb=fb(!0),ib=fb(null);function jb(a){return function(){throw Error(a);}}function kb(a,b){b=b||0;return function(){return a.apply(this,Array.prototype.slice.call(arguments,0,b))}};function lb(a){return Math.floor(Math.random()*a)};var mb="StopIteration"in v?v.StopIteration:{message:"StopIteration",stack:""};function ob(){}ob.prototype.next=function(){throw mb;};ob.prototype.Jb=function(){return this};function pb(a){if(a instanceof ob)return a;if("function"==typeof a.Jb)return a.Jb(!1);if(wa(a)){var b=0,c=new ob;c.next=function(){for(;;){if(b>=a.length)throw mb;if(b in a)return a[b++];b++}};return c}throw Error("Not implemented");};function qb(a,b,c){for(var d in a)b.call(c,a[d],d,a)}function rb(a,b){var c={},d;for(d in a)c[d]=b.call(void 0,a[d],d,a);return c}function sb(a){var b=0,c;for(c in a)b++;return b}function tb(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function ub(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function vb(a){for(var b in a)return!1;return!0}function wb(a){var b={},c;for(c in a)b[c]=a[c];return b}
function xb(a){var b=ua(a);if("object"==b||"array"==b){if(ya(a.T))return a.T();b="array"==b?[]:{};for(var c in a)b[c]=xb(a[c]);return b}return a}var yb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function zb(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<yb.length;f++)c=yb[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var Ab=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]},Bb=/&/g,Cb=/</g,Db=/>/g,Eb=/"/g,Fb=/'/g,Gb=/\x00/g,Hb=/[\x00&<>"']/;function Ib(a){var b={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'};var c={};return a.replace(Jb,function(a,e){var d=b[a];if(d)return d;"#"==e.charAt(0)&&(e=Number("0"+e.substr(1)),isNaN(e)||(d=String.fromCharCode(e)));d||(c.Lf=a+" ",d=c.Ff.Pf.slice(0,-1));return b[a]=d})}
function Kb(a){return a.replace(/&([^;]+);/g,function(a,c){switch(c){case "amp":return"&";case "lt":return"<";case "gt":return">";case "quot":return'"';default:return"#"!=c.charAt(0)||(c=Number("0"+c.substr(1)),isNaN(c))?a:String.fromCharCode(c)}})}var Jb=/&([^;\s<&]+);?/g,Lb=String.prototype.repeat?function(a,b){return a.repeat(b)}:function(a,b){return Array(b+1).join(a)};function Mb(a){return null==a?"":String(a)}function Nb(a){return Array.prototype.join.call(arguments,"")}
function Ob(a,b){return a<b?-1:a>b?1:0};function Pb(a,b){this.g={};this.e=[];this.j=this.i=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a)if(a instanceof Pb)for(c=a.ma(),d=0;d<c.length;d++)this.set(c[d],a.get(c[d]));else for(d in a)this.set(d,a[d])}q=Pb.prototype;q.W=n("i");q.O=function(){Qb(this);for(var a=[],b=0;b<this.e.length;b++)a.push(this.g[this.e[b]]);return a};q.ma=function(){Qb(this);return this.e.concat()};
q.cb=function(a){if(this===a)return!0;if(this.i!=a.W())return!1;var b=Rb;Qb(this);for(var c,d=0;c=this.e[d];d++)if(!b(this.get(c),a.get(c)))return!1;return!0};function Rb(a,b){return a===b}q.L=function(){return 0==this.i};function Qb(a){if(a.i!=a.e.length){for(var b=0,c=0;b<a.e.length;){var d=a.e[b];Sb(a.g,d)&&(a.e[c++]=d);b++}a.e.length=c}if(a.i!=a.e.length){var e={};for(c=b=0;b<a.e.length;)d=a.e[b],Sb(e,d)||(a.e[c++]=d,e[d]=1),b++;a.e.length=c}}
q.get=function(a,b){return Sb(this.g,a)?this.g[a]:b};q.set=function(a,b){Sb(this.g,a)||(this.i++,this.e.push(a),this.j++);this.g[a]=b};q.forEach=function(a,b){for(var c=this.ma(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};q.T=function(){return new Pb(this)};q.Jb=function(a){Qb(this);var b=0,c=this.j,d=this,e=new ob;e.next=function(){if(c!=d.j)throw Error("The map has changed since the iterator was created");if(b>=d.e.length)throw mb;var e=d.e[b++];return a?e:d.g[e]};return e};
function Sb(a,b){return Object.prototype.hasOwnProperty.call(a,b)};function Tb(a){if(a.O&&"function"==typeof a.O)return a.O();if(A(a))return a.split("");if(wa(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return tb(a)}function Ub(a){if(a.ma&&"function"==typeof a.ma)return a.ma();if(!a.O||"function"!=typeof a.O){if(wa(a)||A(a)){var b=[];a=a.length;for(var c=0;c<a;c++)b.push(c);return b}return ub(a)}}
function Vb(a,b){if(a.forEach&&"function"==typeof a.forEach)a.forEach(b,void 0);else if(wa(a)||A(a))Pa(a,b,void 0);else for(var c=Ub(a),d=Tb(a),e=d.length,f=0;f<e;f++)b.call(void 0,d[f],c&&c[f],a)};function Wb(a,b,c,d,e,f,g){var l="";a&&(l+=a+":");c&&(l+="//",b&&(l+=b+"@"),l+=c,d&&(l+=":"+d));e&&(l+=e);f&&(l+="?"+f);g&&(l+="#"+g);return l}var Xb=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Yb(a){a=a.match(Xb);return Wb(a[1],a[2],a[3],a[4])}
function Zb(a,b){if(a){a=a.split("&");for(var c=0;c<a.length;c++){var d=a[c].indexOf("="),e=null;if(0<=d){var f=a[c].substring(0,d);e=a[c].substring(d+1)}else f=a[c];b(f,e?decodeURIComponent(e.replace(/\+/g," ")):"")}}}function $b(a,b){if(!b)return a;var c=a.indexOf("#");0>c&&(c=a.length);var d=a.indexOf("?");if(0>d||d>c){d=c;var e=""}else e=a.substring(d+1,c);a=[a.substr(0,d),e,a.substr(c)];c=a[1];a[1]=b?c?c+"&"+b:b:c;return a[0]+(a[1]?"?"+a[1]:"")+a[2]}
function bc(a,b,c){if(va(b))for(var d=0;d<b.length;d++)bc(a,String(b[d]),c);else null!=b&&c.push(a+(""===b?"":"="+encodeURIComponent(String(b))))}function cc(a,b){var c=[];for(b=b||0;b<a.length;b+=2)bc(a[b],a[b+1],c);return c.join("&")}function dc(a){var b=[],c;for(c in a)bc(c,a[c],b);return b.join("&")}function ec(a,b){var c=2==arguments.length?cc(arguments[1],0):cc(arguments,1);return $b(a,c)}function fc(a,b){b=dc(b);return $b(a,b)}
function hc(a,b,c){c=null!=c?"="+encodeURIComponent(String(c)):"";return $b(a,b+c)}var ic=/#|$/;function jc(a,b){var c=a.search(ic);a:{var d=0;for(var e=b.length;0<=(d=a.indexOf(b,d))&&d<c;){var f=a.charCodeAt(d-1);if(38==f||63==f)if(f=a.charCodeAt(d+e),!f||61==f||38==f||35==f)break a;d+=e+1}d=-1}if(0>d)return null;e=a.indexOf("&",d);if(0>e||e>c)e=c;d+=b.length+1;return decodeURIComponent(a.substr(d,e-d).replace(/\+/g," "))};function kc(a){this.e=this.B=this.j="";this.k=null;this.q=this.g="";this.l=!1;var b;a instanceof kc?(this.l=x(void 0)?void 0:a.l,lc(this,a.j),this.B=a.B,this.e=a.e,mc(this,a.k),this.g=a.g,nc(this,a.i.T()),this.q=a.q):a&&(b=String(a).match(Xb))?(this.l=!1,lc(this,b[1]||"",!0),this.B=oc(b[2]||""),this.e=oc(b[3]||"",!0),mc(this,b[4]),this.g=oc(b[5]||"",!0),nc(this,b[6]||"",!0),this.q=oc(b[7]||"")):(this.l=!1,this.i=new pc(null,this.l))}
kc.prototype.toString=function(){var a=[],b=this.j;b&&a.push(rc(b,sc,!0),":");var c=this.e;if(c||"file"==b)a.push("//"),(b=this.B)&&a.push(rc(b,sc,!0),"@"),a.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.k,null!=c&&a.push(":",String(c));if(c=this.g)this.e&&"/"!=c.charAt(0)&&a.push("/"),a.push(rc(c,"/"==c.charAt(0)?tc:uc,!0));(c=this.i.toString())&&a.push("?",c);(c=this.q)&&a.push("#",rc(c,vc));return a.join("")};
kc.prototype.resolve=function(a){var b=this.T(),c=!!a.j;c?lc(b,a.j):c=!!a.B;c?b.B=a.B:c=!!a.e;c?b.e=a.e:c=null!=a.k;var d=a.g;if(c)mc(b,a.k);else if(c=!!a.g){if("/"!=d.charAt(0))if(this.e&&!this.g)d="/"+d;else{var e=b.g.lastIndexOf("/");-1!=e&&(d=b.g.substr(0,e+1)+d)}e=d;if(".."==e||"."==e)d="";else if(-1!=e.indexOf("./")||-1!=e.indexOf("/.")){d=0==e.lastIndexOf("/",0);e=e.split("/");for(var f=[],g=0;g<e.length;){var l=e[g++];"."==l?d&&g==e.length&&f.push(""):".."==l?((1<f.length||1==f.length&&""!=
f[0])&&f.pop(),d&&g==e.length&&f.push("")):(f.push(l),d=!0)}d=f.join("/")}else d=e}c?b.g=d:c=""!==a.i.toString();c?nc(b,a.i.T()):c=!!a.q;c&&(b.q=a.q);return b};kc.prototype.T=function(){return new kc(this)};function lc(a,b,c){a.j=c?oc(b,!0):b;a.j&&(a.j=a.j.replace(/:$/,""))}function mc(a,b){if(b){b=Number(b);if(isNaN(b)||0>b)throw Error("Bad port number "+b);a.k=b}else a.k=null}function nc(a,b,c){b instanceof pc?(a.i=b,wc(a.i,a.l)):(c||(b=rc(b,xc)),a.i=new pc(b,a.l))}
function oc(a,b){return a?b?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function rc(a,b,c){return A(a)?(a=encodeURI(a).replace(b,yc),c&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function yc(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var sc=/[#\/\?@]/g,uc=/[#\?:]/g,tc=/[#\?]/g,xc=/[#\?@]/g,vc=/#/g;function pc(a,b){this.g=this.e=null;this.i=a||null;this.j=!!b}
function zc(a){a.e||(a.e=new Pb,a.g=0,a.i&&Zb(a.i,function(b,c){a.add(decodeURIComponent(b.replace(/\+/g," ")),c)}))}q=pc.prototype;q.W=function(){zc(this);return this.g};q.add=function(a,b){zc(this);this.i=null;a=Ac(this,a);var c=this.e.get(a);c||this.e.set(a,c=[]);c.push(b);this.g=this.g+1;return this};function Bc(a,b){zc(a);b=Ac(a,b);Sb(a.e.g,b)&&(a.i=null,a.g=a.g-a.e.get(b).length,a=a.e,Sb(a.g,b)&&(delete a.g[b],a.i--,a.j++,a.e.length>2*a.i&&Qb(a)))}q.L=function(){zc(this);return 0==this.g};
function Cc(a,b){zc(a);b=Ac(a,b);return Sb(a.e.g,b)}q.forEach=function(a,b){zc(this);this.e.forEach(function(c,d){Pa(c,function(c){a.call(b,c,d,this)},this)},this)};q.ma=function(){zc(this);for(var a=this.e.O(),b=this.e.ma(),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c};q.O=function(a){zc(this);var b=[];if(A(a))Cc(this,a)&&(b=Xa(b,this.e.get(Ac(this,a))));else{a=this.e.O();for(var c=0;c<a.length;c++)b=Xa(b,a[c])}return b};
q.set=function(a,b){zc(this);this.i=null;a=Ac(this,a);Cc(this,a)&&(this.g=this.g-this.e.get(a).length);this.e.set(a,[b]);this.g=this.g+1;return this};q.get=function(a,b){if(!a)return b;a=this.O(a);return 0<a.length?String(a[0]):b};
q.toString=function(){if(this.i)return this.i;if(!this.e)return"";for(var a=[],b=this.e.ma(),c=0;c<b.length;c++){var d=b[c],e=encodeURIComponent(String(d));d=this.O(d);for(var f=0;f<d.length;f++){var g=e;""!==d[f]&&(g+="="+encodeURIComponent(String(d[f])));a.push(g)}}return this.i=a.join("&")};q.T=function(){var a=new pc;a.i=this.i;this.e&&(a.e=this.e.T(),a.g=this.g);return a};function Ac(a,b){b=String(b);a.j&&(b=b.toLowerCase());return b}
function wc(a,b){b&&!a.j&&(zc(a),a.i=null,a.e.forEach(function(a,b){var c=b.toLowerCase();b!=c&&(Bc(this,b),Bc(this,c),0<a.length&&(this.i=null,this.e.set(Ac(this,c),Ya(a)),this.g=this.g+a.length))},a));a.j=b};function Dc(a){this.e=a}Dc.prototype.isOnline=function(){return this.e.isOnline()};var Ec;a:{var Fc=v.navigator;if(Fc){var Gc=Fc.cg;if(Gc){Ec=Gc;break a}}Ec=""}function G(a){return-1!=Ec.indexOf(a)};function Hc(){return(G("Chrome")||G("CriOS"))&&!G("Edge")};function Ic(){return G("iPhone")&&!G("iPod")&&!G("iPad")};function Jc(a){Jc[" "](a);return a}Jc[" "]=ta;function Kc(a,b,c){return Object.prototype.hasOwnProperty.call(a,b)?a[b]:a[b]=c(b)};var Lc=G("Opera"),Nc=G("Trident")||G("MSIE"),Qc=G("Edge"),Rc=G("Gecko")&&!(-1!=Ec.toLowerCase().indexOf("webkit")&&!G("Edge"))&&!(G("Trident")||G("MSIE"))&&!G("Edge"),Sc=-1!=Ec.toLowerCase().indexOf("webkit")&&!G("Edge");Sc&&G("Mobile");G("Macintosh");G("Windows");G("Linux")||G("CrOS");var Tc=v.navigator||null;Tc&&(Tc.appVersion||"").indexOf("X11");G("Android");Ic();G("iPad");G("iPod");Ic()||G("iPad")||G("iPod");function Uc(){var a=v.document;return a?a.documentMode:void 0}var Wc;
a:{var Xc="",Yc=function(){var a=Ec;if(Rc)return/rv:([^\);]+)(\)|;)/.exec(a);if(Qc)return/Edge\/([\d\.]+)/.exec(a);if(Nc)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(Sc)return/WebKit\/(\S+)/.exec(a);if(Lc)return/(?:Version)[ \/]?(\S+)/.exec(a)}();Yc&&(Xc=Yc?Yc[1]:"");if(Nc){var Zc=Uc();if(null!=Zc&&Zc>parseFloat(Xc)){Wc=String(Zc);break a}}Wc=Xc}var $c=Wc,ad={};
function bd(a){return Kc(ad,a,function(){for(var b=0,c=Ab(String($c)).split("."),d=Ab(String(a)).split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||"",l=d[f]||"";do{g=/(\d*)(\D*)(.*)/.exec(g)||["","","",""];l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""];if(0==g[0].length&&0==l[0].length)break;b=Ob(0==g[1].length?0:parseInt(g[1],10),0==l[1].length?0:parseInt(l[1],10))||Ob(0==g[2].length,0==l[2].length)||Ob(g[2],l[2]);g=g[3];l=l[3]}while(0==b)}return 0<=b})}var cd;var dd=v.document;
cd=dd&&Nc?Uc()||("CSS1Compat"==dd.compatMode?parseInt($c,10):5):void 0;function ed(a){var b=v,c=b.yd,d=!1;Sc&&!bd("535.3")&&(d=!d);b.yd=function(b,f,g,l,k){c&&c(b,f,g,l,k);a({message:b,fileName:f,Qe:g,lineNumber:g,tf:l,Ba:k});return d}}function fd(a,b){a instanceof Error||(a=Error(a),Error.captureStackTrace&&Error.captureStackTrace(a,fd));a.stack||(a.stack=gd(fd));if(b){for(var c=0;a["message"+c];)++c;a["message"+c]=String(b)}return a}
function hd(a,b){a=fd(a);if(b)for(var c in b){var d=a,e=c,f=b[c];d.__closure__error__context__984382||(d.__closure__error__context__984382={});d.__closure__error__context__984382[e]=f}return a}function gd(a){var b=Error();if(Error.captureStackTrace)Error.captureStackTrace(b,a||gd),b=String(b.stack);else{try{throw b;}catch(c){b=c}b=(b=b.stack)?String(b):null}b||(b=id(a||arguments.callee.caller,[]));return b}
function id(a,b){var c=[];if(0<=Oa(b,a))c.push("[...circular reference...]");else if(a&&50>b.length){c.push(kd(a)+"(");for(var d=a.arguments,e=0;d&&e<d.length;e++){0<e&&c.push(", ");var f=d[e];switch(typeof f){case "object":f=f?"object":"null";break;case "string":break;case "number":f=String(f);break;case "boolean":f=f?"true":"false";break;case "function":f=(f=kd(f))?f:"[fn]";break;default:f=typeof f}40<f.length&&(f=f.substr(0,40)+"...");c.push(f)}b.push(a);c.push(")\n");try{c.push(id(a.caller,b))}catch(g){c.push("[exception trying to get caller]\n")}}else a?
c.push("[...long stack...]"):c.push("[end]");return c.join("")}function kd(a){if(ld[a])return ld[a];a=String(a);if(!ld[a]){var b=/function ([^\(]+)/.exec(a);ld[a]=b?b[1]:"[Anonymous]"}return ld[a]}var ld={};function md(){this.Kb=nd||od}function od(a,b){return String(a)<String(b)?-1:String(a)>String(b)?1:0}q=md.prototype;q.ba=null;q.Kb=null;q.wa=null;q.va=null;
q.add=function(a){if(null==this.ba)return this.va=this.wa=this.ba=new pd(a),!0;var b=null;qd(this,function(c){var d=null,f=this.Kb(c.value,a);0<f?(d=c.e,null==c.e&&(b=new pd(a,c),c.e=b,c==this.wa&&(this.wa=b))):0>f&&(d=c.g,null==c.g&&(b=new pd(a,c),c.g=b,c==this.va&&(this.va=b)));return d});if(b){var c=b;qd(this,function(a){a.i++;return a.C},c.C);rd(this,c.C)}return!!b};
function sd(a,b){var c=null;qd(a,function(a){var d=null,f=this.Kb(a.value,b);0<f?d=a.e:0>f?d=a.g:(c=a.value,td(this,a));return d});return c}function ud(a){a.ba=null;a.wa=null;a.va=null}q.indexOf=function(a){var b=-1,c=0;qd(this,function(d){var e=this.Kb(d.value,a);if(0<e)return d.e;d.e&&(c+=d.e.i);if(0>e)return c++,d.g;b=c;return null});return b};q.W=function(){return this.ba?this.ba.i:0};function vd(a){return a.ba?a.ba.j:0}q.O=function(){var a=[];wd(this,function(b){a.push(b)});return a};
function wd(a,b){if(a.ba){a=xd(a);for(var c=a.e?a.e:a;null!=a;)if(null!=a.e&&a.e!=c&&a.g!=c)a=a.e;else{if(a.g!=c&&b(a.value))break;var d=a;a=null!=a.g&&a.g!=c?a.g:a.C;c=d}}}function qd(a,b,c){for(c=c?c:a.ba;c&&null!=c;)c=b.call(a,c)}function rd(a,b){qd(a,function(a){var b=a.e?a.e.j:0,c=a.g?a.g.j:0;1<b-c?(a.e.g&&(!a.e.e||a.e.e.j<a.e.g.j)&&yd(this,a.e),zd(this,a)):1<c-b&&(a.g.e&&(!a.g.g||a.g.g.j<a.g.e.j)&&zd(this,a.g),yd(this,a));b=a.e?a.e.j:0;c=a.g?a.g.j:0;a.j=Math.max(b,c)+1;return a.C},b)}
function yd(a,b){Ad(b)?(b.C.e=b.g,b.g.C=b.C):Bd(b)?(b.C.g=b.g,b.g.C=b.C):(a.ba=b.g,a.ba.C=null);a=b.g;b.g=b.g.e;null!=b.g&&(b.g.C=b);a.e=b;b.C=a;a.i=b.i;b.i-=(a.g?a.g.i:0)+1}function zd(a,b){Ad(b)?(b.C.e=b.e,b.e.C=b.C):Bd(b)?(b.C.g=b.e,b.e.C=b.C):(a.ba=b.e,a.ba.C=null);a=b.e;b.e=b.e.g;null!=b.e&&(b.e.C=b);a.g=b;b.C=a;a.i=b.i;b.i-=(a.e?a.e.i:0)+1}
function td(a,b){if(null!=b.e||null!=b.g){var c=null;if(null!=b.e){var d=Cd(a,b.e);qd(a,function(a){a.i--;return a.C},d);if(d!=b.e){if(d.C.g=d.e)d.e.C=d.C;d.e=b.e;d.e.C=d;c=d.C}d.C=b.C;d.g=b.g;d.g&&(d.g.C=d);b==a.va&&(a.va=d)}else{d=xd(a,b.g);qd(a,function(a){a.i--;return a.C},d);if(d!=b.g){if(d.C.e=d.g)d.g.C=d.C;d.g=b.g;d.g.C=d;c=d.C}d.C=b.C;d.e=b.e;d.e&&(d.e.C=d);b==a.wa&&(a.wa=d)}d.i=b.i;Ad(b)?b.C.e=d:Bd(b)?b.C.g=d:a.ba=d;rd(a,c?c:d)}else qd(a,function(a){a.i--;return a.C},b.C),Ad(b)?(b.C.e=null,
b==a.wa&&(a.wa=b.C),rd(a,b.C)):Bd(b)?(b.C.g=null,b==a.va&&(a.va=b.C),rd(a,b.C)):ud(a)}function xd(a,b){if(!b)return a.wa;var c=b;qd(a,function(a){var b=null;a.e&&(b=c=a.e);return b},b);return c}function Cd(a,b){if(!b)return a.va;var c=b;qd(a,function(a){var b=null;a.g&&(b=c=a.g);return b},b);return c}function pd(a,b){this.value=a;this.C=b?b:null;this.i=1}pd.prototype.e=null;pd.prototype.g=null;pd.prototype.j=1;function Bd(a){return!!a.C&&a.C.g==a}function Ad(a){return!!a.C&&a.C.e==a};function Dd(){this.g=ModelServices;this.j=1;this.e=new md;this.i=!1}function nd(a,b){var c=a.getTime(),d=b.getTime();return c==d?a.e-b.e:c-d}Dd.prototype.setTimeout=function(a,b){return Ed(this,a,b,!1)};Dd.prototype.setTimeout=Dd.prototype.setTimeout;Dd.prototype.setInterval=function(a,b){return Ed(this,a,b,!0)};Dd.prototype.setInterval=Dd.prototype.setInterval;
function Ed(a,b,c,d){var e=a.g.getTime(),f=a.j++;e+=c;b=new Fd(f,b,e,d?c:null);d=Infinity;0<vd(a.e)&&(d=xd(a.e).value.getTime());a.e.add(b);d>e&&!a.i&&a.g.startTimer(c);return f}Dd.prototype.clearTimeout=function(a){Gd(this,a)};Dd.prototype.clearTimeout=Dd.prototype.clearTimeout;Dd.prototype.clearInterval=function(a){Gd(this,a)};Dd.prototype.clearInterval=Dd.prototype.clearInterval;function Gd(a,b){var c=a.e.O(),d;for(d in c){var e=c[d];if(e.e==b){sd(a.e,e);break}}}
Dd.prototype.invokeTimer=function(a){if(0==vd(this.e))return-1;var b=xd(this.e).value;if(b.getTime()>a)return Math.max(0,b.getTime()-this.g.getTime());this.i=!0;try{b.execute()}catch(d){throw d;}a=!sd(this.e,b);var c=b.Ed;null===c||a||this.e.add(Hd(b,this.g.getTime()+c));this.i=!1;if(0==vd(this.e))return-1;b=xd(this.e).value;return Math.max(0,b.getTime()-this.g.getTime())};Dd.prototype.invokeTimer=Dd.prototype.invokeTimer;function Fd(a,b,c,d){this.g=b;this.e=a;this.i=c;this.Ed=d}
Fd.prototype.execute=function(){this.g.call()};Fd.prototype.getTime=n("i");function Hd(a,b){return new Fd(a.e,a.g,b,a.Ed)};var Id=[],Jd=[],Kd=!1;function Ld(a){Id[Id.length]=a;if(Kd)for(var b=0;b<Jd.length;b++)a(D(Jd[b].e,Jd[b]))};function Md(){};function H(){this.I=this.I;this.B=this.B}H.prototype.I=!1;H.prototype.q=n("I");H.prototype.Z=function(){this.I||(this.I=!0,this.z())};function I(a,b){b=Ea(J,b);a.I?x(void 0)?b.call(void 0):b():(a.B||(a.B=[]),a.B.push(x(void 0)?D(b,void 0):b))}H.prototype.z=function(){if(this.B)for(;this.B.length;)this.B.shift()()};function J(a){a&&"function"==typeof a.Z&&a.Z()}function Nd(a){for(var b=0,c=arguments.length;b<c;++b){var d=arguments[b];wa(d)?Nd.apply(null,d):J(d)}};var Od;(Od=!Nc)||(Od=9<=Number(cd));var Pd=Od,Qd=Nc&&!bd("9");!Sc||bd("528");Rc&&bd("1.9b")||Nc&&bd("8")||Lc&&bd("9.5")||Sc&&bd("528");Rc&&!bd("8")||Nc&&bd("9");var Rd=function(){if(!v.Wa||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});v.Wa("test",ta,b);v.Mc("test",ta,b);return a}();function Sd(a,b){this.type=a;this.e=this.ea=b;this.ad=!1;this.Hd=!0}Sd.prototype.Cb=function(){this.ad=!0;this.Hd=!1};function Td(a,b){Sd.call(this,a?a.type:"");this.Bd=this.e=this.ea=null;this.La="";this.Da=0;this.gc=!1;this.g=null;if(a){var c=this.type=a.type;this.ea=a.ea||a.$f;this.e=b;if(b=a.Bd){if(Rc){a:{try{Jc(b.nodeName);var d=!0;break a}catch(e){}d=!1}d||(b=null)}}else"mouseover"==c?b=a.Gf:"mouseout"==c&&(b=a.ag);this.Bd=b;this.Da=a.Da||0;this.La=a.La||"";this.gc=a.gc;this.g=a;a.ad&&this.Cb()}}F(Td,Sd);
Td.prototype.Cb=function(){Td.G.Cb.call(this);var a=this.g;if(a.Cb)a.Cb();else if(a.Nc=!1,Qd)try{if(a.gc||112<=a.Da&&123>=a.Da)a.Da=-1}catch(b){}};var Ud="closure_listenable_"+(1E6*Math.random()|0);function Vd(a){return!(!a||!a[Ud])}var Wd=0;function Xd(a,b,c,d,e){this.Ma=a;this.e=null;this.src=b;this.type=c;this.ua=!!d;this.Tb=e;this.La=++Wd;this.lb=this.Ha=!1}function Yd(a){a.lb=!0;a.Ma=null;a.e=null;a.src=null;a.Tb=null};function Zd(a){this.src=a;this.e={};this.g=0}Zd.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.e[f];a||(a=this.e[f]=[],this.g++);var g=$d(a,b,d,e);-1<g?(b=a[g],c||(b.Ha=!1)):(b=new Xd(b,this.src,f,!!d,e),b.Ha=c,a.push(b));return b};function ae(a,b){var c=b.type;c in a.e&&Va(a.e[c],b)&&(Yd(b),0==a.e[c].length&&(delete a.e[c],a.g--))}Zd.prototype.wb=function(a,b,c,d){a=this.e[a.toString()];var e=-1;a&&(e=$d(a,b,c,d));return-1<e?a[e]:null};
function $d(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.lb&&f.Ma==b&&f.ua==!!c&&f.Tb==d)return e}return-1};var be="closure_lm_"+(1E6*Math.random()|0),ce={},de=0;function ee(a,b,c,d,e){if(d&&d.Tf)return fe(a,b,c,d,e);if(va(b)){for(var f=0;f<b.length;f++)ee(a,b[f],c,d,e);return null}c=ge(c);return Vd(a)?a.ia(b,c,za(d)?!!d.ua:!!d,e):he(a,b,c,!1,d,e)}
function he(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var g=za(e)?!!e.ua:!!e,l=ie(a);l||(a[be]=l=new Zd(a));c=l.add(b,c,d,g,f);if(c.e)return c;d=je();c.e=d;d.src=a;d.Ma=c;if(a.Wa)Rd||(e=g),void 0===e&&(e=!1),a.Wa(b.toString(),d,e);else if(a.Qd)a.Qd(ke(b.toString()),d);else if(a.Xc&&a.Dd)a.Xc(d);else throw Error("addEventListener and attachEvent are unavailable.");de++;return c}
function je(){var a=le,b=Pd?function(c){return a.call(b.src,b.Ma,c)}:function(c){c=a.call(b.src,b.Ma,c);if(!c)return c};return b}function fe(a,b,c,d,e){if(va(b)){for(var f=0;f<b.length;f++)fe(a,b[f],c,d,e);return null}c=ge(c);return Vd(a)?a.hb(b,c,za(d)?!!d.ua:!!d,e):he(a,b,c,!0,d,e)}function me(a,b,c,d,e){if(va(b))for(var f=0;f<b.length;f++)me(a,b[f],c,d,e);else d=za(d)?!!d.ua:!!d,c=ge(c),Vd(a)?a.Yb(b,c,d,e):a&&(a=ie(a))&&(b=a.wb(b,c,d,e))&&ne(b)}
function ne(a){if(!pa(a)&&a&&!a.lb){var b=a.src;if(Vd(b))ae(b.i,a);else{var c=a.type,d=a.e;b.Mc?b.Mc(c,d,a.ua):b.Td?b.Td(ke(c),d):b.Xc&&b.Dd&&b.Dd(d);de--;(c=ie(b))?(ae(c,a),0==c.g&&(c.src=null,b[be]=null)):Yd(a)}}}function ke(a){return a in ce?ce[a]:ce[a]="on"+a}function oe(a,b,c,d){var e=!0;if(a=ie(a))if(b=a.e[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.ua==c&&!f.lb&&(f=qe(f,d),e=e&&!1!==f)}return e}
function qe(a,b){var c=a.Ma,d=a.Tb||a.src;a.Ha&&ne(a);return c.call(d,b)}function le(a,b){if(a.lb)return!0;if(!Pd){var c=b||ra("window.event");b=new Td(c,this);var d=!0;if(!(0>c.Da||void 0!=c.Nc)){a:{var e=!1;if(0==c.Da)try{c.Da=-1;break a}catch(g){e=!0}if(e||void 0==c.Nc)c.Nc=!0}c=[];for(e=b.e;e;e=e.Ve)c.push(e);a=a.type;for(e=c.length-1;0<=e;e--){b.e=c[e];var f=oe(c[e],a,!0,b);d=d&&f}for(e=0;e<c.length;e++)b.e=c[e],f=oe(c[e],a,!1,b),d=d&&f}return d}return qe(a,new Td(b,this))}
function ie(a){a=a[be];return a instanceof Zd?a:null}var re="__closure_events_fn_"+(1E9*Math.random()>>>0);function ge(a){if(ya(a))return a;a[re]||(a[re]=function(b){return a.Ca(b)});return a[re]}Ld(function(a){le=a(le)});function K(){H.call(this);this.i=new Zd(this);this.ga=this;this.J=null}F(K,H);K.prototype[Ud]=!0;q=K.prototype;q.Wa=function(a,b,c,d){ee(this,a,b,c,d)};q.Mc=function(a,b,c,d){me(this,a,b,c,d)};
function se(a,b){var c=a.J;if(c){var d=[];for(var e=1;c;c=c.J)d.push(c),++e}a=a.ga;c=b.type||b;A(b)?b=new Sd(b,a):b instanceof Sd?b.ea=b.ea||a:(e=b,b=new Sd(c,a),zb(b,e));e=!0;if(d)for(var f=d.length-1;0<=f;f--){var g=b.e=d[f];e=te(g,c,!0,b)&&e}g=b.e=a;e=te(g,c,!0,b)&&e;e=te(g,c,!1,b)&&e;if(d)for(f=0;f<d.length;f++)g=b.e=d[f],e=te(g,c,!1,b)&&e}q.z=function(){K.G.z.call(this);if(this.i){var a=this.i,b=0,c;for(c in a.e){for(var d=a.e[c],e=0;e<d.length;e++)++b,Yd(d[e]);delete a.e[c];a.g--}}this.J=null};
q.ia=function(a,b,c,d){return this.i.add(String(a),b,!1,c,d)};q.hb=function(a,b,c,d){return this.i.add(String(a),b,!0,c,d)};q.Yb=function(a,b,c,d){var e=this.i;a=String(a).toString();if(a in e.e){var f=e.e[a];b=$d(f,b,c,d);-1<b&&(Yd(f[b]),Array.prototype.splice.call(f,b,1),0==f.length&&(delete e.e[a],e.g--))}};
function te(a,b,c,d){b=a.i.e[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var g=b[f];if(g&&!g.lb&&g.ua==c){var l=g.Ma,k=g.Tb||g.src;g.Ha&&ae(a.i,g);e=!1!==l.call(k,d)&&e}}return e&&0!=d.Hd}q.wb=function(a,b,c,d){return this.i.wb(String(a),b,c,d)};function ue(a){var b=[];ve(new we,a,b);return b.join("")}function we(){}
function ve(a,b,c){if(null==b)c.push("null");else{if("object"==typeof b){if(va(b)){var d=b;b=d.length;c.push("[");for(var e="",f=0;f<b;f++)c.push(e),ve(a,d[f],c),e=",";c.push("]");return}if(b instanceof String||b instanceof Number||b instanceof Boolean)b=b.valueOf();else{c.push("{");e="";for(d in b)Object.prototype.hasOwnProperty.call(b,d)&&(f=b[d],"function"!=typeof f&&(c.push(e),xe(d,c),c.push(":"),ve(a,f,c),e=","));c.push("}");return}}switch(typeof b){case "string":xe(b,c);break;case "number":c.push(isFinite(b)&&
!isNaN(b)?String(b):"null");break;case "boolean":c.push(String(b));break;case "function":c.push("null");break;default:throw Error("Unknown type: "+typeof b);}}}var ye={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\u000b"},ze=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;
function xe(a,b){b.push('"',a.replace(ze,function(a){var b=ye[a];b||(b="\\u"+(a.charCodeAt(0)|65536).toString(16).substr(1),ye[a]=b);return b}),'"')};function Ae(){this.q=0;this.e={}}F(Ae,Ja);Ae.prototype.g=function(){var a=this.q++,b=new Be(a,D(this.k,this,a));return this.e[a]=b};Ae.prototype.j=function(){return{}};Ae.prototype.k=function(a){delete this.e[a]};function Be(a,b){K.call(this);this.Qc=this.ta=0;this.Db="";this.ib=null;this.l=a;this.v=b;this.g={};this.e={};this.o=this.n="";this.j=this.k=!1}F(Be,K);q=Be.prototype;q.cc=0;q.Uc=1;q.pb=4;
function Ce(a,b,c,d,e){d&&(a.Db+=d);if(e){d=JSON.parse(e);a.e={};for(var f in d)a.e[f.toLowerCase()]=d[f]}a.ta!=a.pb&&a.ta!=a.cc&&(a.ta=b,a.Qc=c,De(a),b==a.pb&&a.v())}q.open=function(a,b,c){if(this.ta!=this.cc)throw this.Ga(),Error("Error reopening a connection");this.n=a.toString();this.o=b.toString();this.k=c||!1;this.ta=this.Uc;De(this)};q.Id=function(a,b){var c=this.g;c[a]=c[a]?c[a]+", "+b:b.toString()};
q.R=function(a){var b=ue(this.g);this.j=!0;ModelServices.sendHttpRequest(this.l,this.n,this.o,b,this.k,(a||"").toString())};q.Ga=function(){ModelServices.abortHttpRequest(this.l);this.Db="";this.g={};this.Qc=0;this.ta>=this.Uc&&this.j&&this.ta!=this.pb&&(this.ta=this.pb,this.j=!1,De(this));this.ta=this.cc;this.v()};q.Rb=function(a){return(a=this.e[a.toLowerCase()])&&"string"==typeof a?a:null};
q.Qb=function(){var a=this.e,b="",c;for(c in a)"string"==typeof c&&"string"==typeof a[c]&&(b+=c+": "+a[c]+"\r\n");return b};function De(a){a.ib&&a.ib.call(a)};function Ee(a,b){this.i=a;this.j=b;this.g=0;this.e=null}Ee.prototype.get=function(){if(0<this.g){this.g--;var a=this.e;this.e=a.next;a.next=null}else a=this.i();return a};Ee.prototype.xa=function(a){this.j(a);100>this.g&&(this.g++,a.next=this.e,this.e=a)};function Fe(a){v.setTimeout(function(){throw a;},0)}var Ge;
function He(){var a=v.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.Wa&&!G("Presto")&&(a=function(){var a={};a.style.Ef="none";a.src="";ma.hd.ec(a);var b=a.wf;a=b.document;a.open();a.ka("");a.close();var c="callImmediate"+Math.random(),d="file:"==b.location.Wb?"*":b.location.Wb+"//"+b.location.Pe;a=D(function(a){"*"!=d&&a.Vf!=d||a.data!=c||this.port1.Te()},this);b.Wa("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});
if("undefined"!==typeof a&&!G("Trident")&&!G("MSIE")){var b=new a,c={},d=c;b.port1.Te=function(){if(x(c.next)){c=c.next;var a=c.Zc;c.Zc=null;a()}};return function(a){d.next={Zc:a};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof ma&&"onreadystatechange"in{}?function(a){var b={ib:function(){b.ib=null;b.Ve.removeChild(b);b=null;a();a=null}};ma.hd.ec(b)}:function(a){v.setTimeout(a,0)}}function Ie(a){return a}Ld(function(a){Ie=a});function Je(){this.g=this.e=null}var Le=new Ee(function(){return new Ke},function(a){a.reset()});Je.prototype.add=function(a,b){var c=Le.get();c.set(a,b);this.g?this.g.next=c:this.e=c;this.g=c};function Me(){var a=Ne,b=null;a.e&&(b=a.e,a.e=a.e.next,a.e||(a.g=null),b.next=null);return b}function Ke(){this.next=this.g=this.e=null}Ke.prototype.set=function(a,b){this.e=a;this.g=b;this.next=null};Ke.prototype.reset=function(){this.next=this.g=this.e=null};function Oe(a,b){Pe||Qe();Se||(Pe(),Se=!0);Ne.add(a,b)}var Pe;function Qe(){if(v.ac&&v.ac.resolve){var a=v.ac.resolve(void 0);Pe=function(){a.then(Te)}}else Pe=function(){var a=Te;a=Ie(a);!ya(v.Pc)||v.Vc&&v.Vc.prototype&&!G("Edge")&&v.Vc.prototype.Pc==v.Pc?(Ge||(Ge=He()),Ge(a)):v.Pc(a)}}var Se=!1,Ne=new Je;function Te(){for(var a;a=Me();){try{a.e.call(a.g)}catch(b){Fe(b)}Le.xa(a)}Se=!1};function Ue(a){a.prototype.then=a.prototype.then;a.prototype.$goog_Thenable=!0}function Ve(a){if(!a)return!1;try{return!!a.$goog_Thenable}catch(b){return!1}};function We(a,b){this.e=0;this.l=void 0;this.j=this.g=this.i=null;this.k=this.q=!1;if(a!=ta)try{var c=this;a.call(b,function(a){Xe(c,2,a)},function(a){Xe(c,3,a)})}catch(d){Xe(this,3,d)}}function Ye(){this.next=this.j=this.g=this.k=this.e=null;this.i=!1}Ye.prototype.reset=function(){this.j=this.g=this.k=this.e=null;this.i=!1};var Ze=new Ee(function(){return new Ye},function(a){a.reset()});function $e(a,b,c){var d=Ze.get();d.k=a;d.g=b;d.j=c;return d}
function af(a){if(a instanceof We)return a;var b=new We(ta);Xe(b,2,a);return b}function bf(a,b,c){cf(a,b,c,null)||Oe(Ea(b,a))}function df(a){return new We(function(b,c){var d=a.length,e=[];if(d)for(var f=function(a,c){d--;e[a]=c;0==d&&b(e)},g=function(a){c(a)},l=0,k;l<a.length;l++)k=a[l],bf(k,Ea(f,l),g);else b(e)})}
function ef(a){return new We(function(b){var c=a.length,d=[];if(c)for(var e=function(a,e,f){c--;d[a]=e?{kd:!0,value:f}:{kd:!1,reason:f};0==c&&b(d)},f=0,g;f<a.length;f++)g=a[f],bf(g,Ea(e,f,!0),Ea(e,f,!1));else b(d)})}function ff(){var a,b,c=new We(function(c,e){a=c;b=e});return new gf(c,a,b)}We.prototype.then=function(a,b,c){return hf(this,ya(a)?a:null,ya(b)?b:null,c)};Ue(We);function jf(a,b){b=$e(b,b,void 0);b.i=!0;kf(a,b)}function lf(a){0==a.e&&Oe(function(){var a=new mf(void 0);nf(this,a)},a)}
function nf(a,b){if(0==a.e)if(a.i){var c=a.i;if(c.g){for(var d=0,e=null,f=null,g=c.g;g&&(g.i||(d++,g.e==a&&(e=g),!(e&&1<d)));g=g.next)e||(f=g);e&&(0==c.e&&1==d?nf(c,b):(f?(d=f,d.next==c.j&&(c.j=d),d.next=d.next.next):of(c),qf(c,e,3,b)))}a.i=null}else Xe(a,3,b)}function kf(a,b){a.g||2!=a.e&&3!=a.e||sf(a);a.j?a.j.next=b:a.g=b;a.j=b}
function hf(a,b,c,d){var e=$e(null,null,null);e.e=new We(function(a,g){e.k=b?function(c){try{var e=b.call(d,c);a(e)}catch(p){g(p)}}:a;e.g=c?function(b){try{var e=c.call(d,b);!x(e)&&b instanceof mf?g(b):a(e)}catch(p){g(p)}}:g});e.e.i=a;kf(a,e);return e.e}We.prototype.I=function(a){this.e=0;Xe(this,2,a)};We.prototype.n=function(a){this.e=0;Xe(this,3,a)};
function Xe(a,b,c){0==a.e&&(a===c&&(b=3,c=new TypeError("Promise cannot resolve to itself")),a.e=1,cf(c,a.I,a.n,a)||(a.l=c,a.e=b,a.i=null,sf(a),3!=b||c instanceof mf||tf(a,c)))}function cf(a,b,c,d){if(a instanceof We)return kf(a,$e(b||ta,c||null,d)),!0;if(Ve(a))return a.then(b,c,d),!0;if(za(a))try{var e=a.then;if(ya(e))return wf(a,e,b,c,d),!0}catch(f){return c.call(d,f),!0}return!1}
function wf(a,b,c,d,e){function f(a){l||(l=!0,d.call(e,a))}function g(a){l||(l=!0,c.call(e,a))}var l=!1;try{b.call(a,g,f)}catch(k){f(k)}}function sf(a){a.q||(a.q=!0,Oe(a.B,a))}function of(a){var b=null;a.g&&(b=a.g,a.g=b.next,b.next=null);a.g||(a.j=null);return b}We.prototype.B=function(){for(var a;a=of(this);)qf(this,a,this.e,this.l);this.q=!1};
function qf(a,b,c,d){if(3==c&&b.g&&!b.i)for(;a&&a.k;a=a.i)a.k=!1;if(b.e)b.e.i=null,xf(b,c,d);else try{b.i?b.k.call(b.j):xf(b,c,d)}catch(e){yf.call(null,e)}Ze.xa(b)}function xf(a,b,c){2==b?a.k.call(a.j,c):a.g&&a.g.call(a.j,c)}function tf(a,b){a.k=!0;Oe(function(){a.k&&yf.call(null,b)})}var yf=Fe;function mf(a){Ia.call(this,a)}F(mf,Ia);mf.prototype.name="cancel";function gf(a,b,c){this.g=a;this.resolve=b;this.e=c};function zf(a,b){K.call(this);this.k=a||1;this.g=b||Af;this.l=D(this.o,this);this.n=E()}F(zf,K);zf.prototype.j=!1;var Af=v;zf.prototype.e=null;zf.prototype.setInterval=function(a){this.k=a;this.e&&this.j?(Bf(this),Cf(this)):this.e&&Bf(this)};zf.prototype.o=function(){if(this.j){var a=E()-this.n;0<a&&a<.8*this.k?this.e=this.g.setTimeout(this.l,this.k-a):(this.e&&(this.g.clearTimeout(this.e),this.e=null),se(this,"tick"),this.j&&(this.e=this.g.setTimeout(this.l,this.k),this.n=E()))}};
function Cf(a){a.j=!0;a.e||(a.e=a.g.setTimeout(a.l,a.k),a.n=E())}function Bf(a){a.j=!1;a.e&&(a.g.clearTimeout(a.e),a.e=null)}zf.prototype.z=function(){zf.G.z.call(this);Bf(this);delete this.g};function Df(a,b,c){if(ya(a))c&&(a=D(a,c));else if(a&&"function"==typeof a.Ca)a=D(a.Ca,a);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:Af.setTimeout(a,b||0)};function Ef(){this.g=new Dd;this.e=new Ae}var Ff=null;
function Gf(a){var b=ModelServices.getTime,c=Ff.g;La=Ff.e;E=b;Af=c;setTimeout=function(a,b){return Af.setTimeout(a,b)};clearTimeout=function(a){Af.clearTimeout(a)};setInterval=function(a,b){return Af.setInterval(a,b)};clearInterval=function(a){Af.clearInterval(a)};window.setTimeout=setTimeout;window.clearTimeout=clearTimeout;window.setInterval=setInterval;window.clearInterval=clearInterval;a&&(window.ac=Promise);v.window=window;v.Oc=window;v.USE_V8=!0;v.JSON=JSON}q=Ef.prototype;
q.handleHttpDataBatch=function(a,b,c,d,e,f){if(d=this.e.e[a])Ce(d,b,c,e,f);else throw Error("XMLHttpRelay: non-existent stream id="+a);};q.handleHttpRequestFailure=function(a,b){var c=this.e.e[a];if(c)Ce(c,c.pb,b,"","{}");else throw Error("XMLHttpRelay: non-existent stream id="+a);};q.invokeTimer=function(a){return this.g.invokeTimer(a)};function Hf(a){Ff||(v=window,Ff=new Ef,Gf(a),a=Ff,la={},Object.defineProperty(la,"onLine",{get:D(a.ee,a)}),window.navigator=la,v.navigator=la);return Ff}
q.configureLocation=function(a){a=new kc(a);var b=a.e;a.k&&(b+=":"+a.k);window.location={Pe:b,Jf:a.e,href:a.toString(),Wf:a.g,Wb:a.j,search:oc(a.i.toString())}};q.setOnlineDetector=function(a){a&&(this.i=new Dc(a))};q.ee=function(){return this.i?this.i.isOnline():!0};qa("createV8Bootstrap",function(){return Hf()});qa("createV8BootstrapWithNativePromise",function(){return Hf(!0)});function If(a){return Kc(a.prototype,"$$generatedClassName",function(){return"Class$obf_"+{valueOf:function(){return++Jf}}})}function Lf(a){function b(){return c.apply(b,arguments)}var c=Mf.prototype.e;Nf(a,b);return b}var Jf=1E3;function Of(){}Of.prototype.cb=function(a){return Pf(this,a)};Of.prototype.A=function(){return Qf(this)};Of.prototype.toString=function(){return L(Rf(Sf(this.constructor)))+"@"+L((this.A()>>>0).toString(16))};function Tf(){this.g=null;this.k=!1;this.e=null}t(Tf,Of);function Uf(a,b){Vf(a);a.g=b;Wf(a);Yf(a)}function Yf(a){var b;null==a.g?b=null:b=a.g.replace(/\n/g,"\u200b\n");b=Zf(a,b);b=a.q(b);if(!("stack"in b))try{throw b;}catch(c){}$f(a,b)}Tf.prototype.q=function(a){return Error(a)};function $f(a,b){a.e=b;if(null!=b)try{b.__java$exception=a}catch(c){}}function Wf(a){a.k&&("__noinit__"===a.e||Yf(a))}Tf.prototype.i=n("g");Tf.prototype.toString=function(){return Zf(this,this.i())};
function Zf(a,b){a=Rf(Sf(a.constructor));return null==b?a:L(a)+": "+L(b)}function ag(a){if(null!=a){var b=a.__java$exception;if(null!=b)return b}a instanceof TypeError?(b=new bg,Vf(b),Wf(b),$f(b,a),b.g=L(a),a=b):(b=new cg,Vf(b),Wf(b),$f(b,a),b.g=L(a),a=b);return a}function Vf(a){a.k=!0;a.e="__noinit__"};function dg(){Tf.call(this)}t(dg,Tf);function eg(){Tf.call(this)}t(eg,dg);function gg(a){var b=new eg;Uf(b,a);return b};function Pf(a,b){return a===b||null==a&&null==b};function hg(a){return Math.max(Math.min(a,2147483647),-2147483648)|0};var ig;function Qf(a){return a.Tc||(Object.defineProperties(a,{Tc:{value:++jg,enumerable:!1}}),a.Tc)}var jg=0;function kg(){Tf.call(this)}t(kg,eg);function lg(a){var b=new kg;Uf(b,a);return b};function cg(){Tf.call(this)}t(cg,eg);function bg(){Tf.call(this)}t(bg,cg);bg.prototype.q=function(a){return new TypeError(a)};function mg(){this.U=null}t(mg,Of);mg.prototype.toString=n("U");function ng(a,b){return"string"==typeof a?a.charCodeAt(b):a.U.charCodeAt(b)};function og(){this.U=null}t(og,mg);function pg(){Tf.call(this)}t(pg,eg);function qg(a){var b=new pg;Uf(b,a);return b};function rg(a){return 56320<=a&&57343>=a};function sg(){Tf.call(this)}t(sg,pg);var tg,ug;function vg(){vg=h();ug=new Of;wg=0;tg=new Of}var wg=0;function xg(a){switch(typeof a){case "string":vg();var b=":"+L(a);var c=tg[b];if(null!=c)b=hg(c);else{c=ug[b];if(null==c){var d=0;c=a.length;for(var e=c-4,f=0;f<e;)d=a.charCodeAt(f+3)+31*(a.charCodeAt(f+2)+31*(a.charCodeAt(f+1)+31*(a.charCodeAt(f)+31*d))),d|=0,f+=4;for(;f<c;)d*=31,e=f++,d+=a.charCodeAt(e);a=d|0}else a=hg(c);256==wg&&(ug=tg,tg=new Of,wg=0);++wg;b=tg[b]=a}return b;case "number":return hg(a);case "boolean":return a?1231:1237;default:return null==a?0:Qf(a)}};function L(a){if(null==a)a="null";else if(a instanceof Array){var b=a.mf;a=Rf(b?Sf(b.Nf,b.Df):Sf(Of,1))+"@"+(Qf(a)>>>0).toString(16)}else a=a.toString();return a}function yg(a,b){var c=a.length,d=ng(a,b++),e,f;55296<=d&&56319>=d&&b<c&&rg(e=ng(a,b))?f=65536+((d&1023)<<10)+(e&1023):f=d;return f};function zg(a,b){this.g=a;this.e=b}t(zg,Of);function Rf(a){var b=If(a.g);0!=a.e&&(b="L"+L(b)+";");return L(Ag("[",a.e))+L(b)}zg.prototype.toString=function(){return"class "+L(Rf(this))};function Ag(a,b){for(var c="",d=0;d<b;d++)c=L(c)+L(a);return c}function Sf(a,b){var c=b||0;return Kc(a.prototype,"$$class/"+c,function(){return new zg(a,c)})};function Bg(a,b){if(!a)throw lg(L(b)).e;}function Cg(a,b){a=L(a);b=null==b?["(Object[])null"]:b;var c=new og;c.U="";for(var d=0,e=0;e<b.length;){var f=a.indexOf("%s",d);if(-1==f)break;var g=a,l=d,k=f;d=L(c.U);g=L(g).substr(l,k-l);c.U=d+L(g);g=b[e++];c.U=L(c.U)+L(g);d=f+2}f=a;g=d;d=a.length;a=L(c.U);f=L(f).substr(g,d-g);c.U=a+L(f);if(e<b.length){c.U=L(c.U)+" [";a=b[e++];for(c.U=L(c.U)+L(a);e<b.length;)c.U=L(c.U)+", ",a=b[e++],c.U=L(c.U)+L(a);c.U=L(c.U)+String.fromCharCode(93)}return c.toString()};function Dg(a,b){a.push(b)};var Eg;function Fg(){Fg=h();Eg=new Gg(null)};function Gg(a){this.e=new Hg;if(null!=a)for(var b in a){var c=b,d=a[b];this.e.get()[c]=d}}t(Gg,Of);function M(){return Fg(),Eg}Gg.prototype.get=function(a){return this.e.get()[a]};function Ig(a,b){a=a.e.get();return b in a}function O(a,b){a=a.get(b);return"string"==typeof a?"true"==a||"1"==a:!!a}
function Jg(a){var b=M();if(!Ig(b,a)||null==b.get(a))return NaN;try{var c=L(b.get(a));null==ig&&(ig=/^\s*[+-]?(NaN|Infinity|((\d+\.?\d*)|(\.\d+))([eE][+-]?\d+)?[dDfF]?)\s*$/);if(!ig.test(c)){var d='For input string: "'+L(c)+'"',e=new sg;Uf(e,d);throw e.e;}return parseFloat(c)}catch(f){f=ag(f);if(f instanceof sg)return NaN;throw f.e;}}function Kg(a){var b=M();if(!Ig(b,a))return"";a=b.get(a);return null==a?"":"number"===typeof a&&hg(a)==hg(a)?""+hg(a):L(a)}
function Lg(a,b){var c={};if(!Ig(a,b))return c;a=a.get(b);return null!=a?a:c};function Hg(){this.e=null}t(Hg,Of);Hg.prototype.get=function(){null==this.e&&(this.e=v._docs_flag_initialData||{});return this.e};function Mg(){}t(Mg,Of);Mg.prototype.e=function(a){if(null==a)throw a=new bg,Uf(a,"can't identity hash null"),a.e;return":"+xg(a)};var Ng;function Og(){Pg();return Ng}function Pg(){Pg=h();Ng=new Mg};function Qg(a){for(var b=[],c=0;c<a.length;c++)b.push(new Rg(a[c]));return b};function Sg(){}t(Sg,Of);function Tg(a,b,c,d){this.i=a;this.g=b;this.j=c;this.e=d||0}Tg.prototype.Q=n("i");Tg.prototype.pa=n("g");function Ug(a,b){this.e=x(a)?a:0;this.g=x(b)?b:""};function Vg(){var a=void 0===a?lb:a;var b=a(2147483647).toString(16);b=Lb("0",Math.max(0,8-b.length))+b;return a(2147483647).toString(16)+b};function Wg(a,b){return Og().e(b)in a};function Xg(){this.j=!1}t(Xg,Of);Xg.prototype.Z=function(){if(!this.j){this.j=!0;this.g();var a=Sf(this.constructor);L(If(a.g));L(Ag("[]",a.e))}};Xg.prototype.q=n("j");Xg.prototype.g=h();function Yg(a,b){this.g=a<b?a:b;this.e=a<b?b:a}Yg.prototype.T=function(){return new Yg(this.g,this.e)};function Zg(a){for(var b="",c=0;c<a.length;c++){var d=yg(a,c),e=!1,f=a.charCodeAt(c),g=rg(a.charCodeAt(c));55296<=f&&56319>=f?e=!(65536<=d&&1114111>=d):g&&(0<c?(e=yg(a,c-1),e=!(65536<=e&&1114111>=e)):e=!0);e&&(b=L(b)+String("\\u"+L((d>>>0).toString(16))))}return b};function Mf(){this.Ib=this.Ob=null}t(Mf,Of);Mf.prototype.e=function(a){this.Ob.Xb(this);var b=this.Ib;b(a)};function Nf(a,b){b.Ob=a.Ob;b.Ib=a.Ib;b.nf=!0};function P(){this.j=!1;this.e={};this.i=null}t(P,Xg);function $g(a,b){if(null==b)throw a=new bg,Vf(a),Wf(a),Yf(a),a.e;if(Wg(a.e,b))throw lg(Cg("Observer %s previously registered.",[b])).e;var c=a.e;var d=Og().e(b);c[d]=b;a.i=null;return b}P.prototype.Xb=function(a){if(!Wg(this.e,a))throw qg(Cg("Trying to remove inexistant Observer %s.",[a])).e;a=Og().e(a);delete this.e[a];this.i=null};P.prototype.g=function(){Xg.prototype.g.call(this);var a=this.e,b;for(b in a)delete a[b];this.i=null};
function Q(a,b){if(null==a.i){var c=a.e,d=[],e;for(e in c)d.push(c[e]);a.i=d}a=a.i;for(c=0;c<a.length;c++)(0,a[c])(b)};function ah(a,b,c,d){this.e=a;this.g=b;this.j=c;this.i=d}var bh=null;function ch(){if(!bh){var a=M();O(a,"docs-text-ewf");var b=O(a,"docs-efsd"),c=O(a,"docs-fse");O(a,"docs-efpsf");var d=O(a,"docs-enlsae");O(a,"docs-ejsfawf");O(a,"docs-eksfawf");bh=new ah(b,c,d,null)}return bh};function dh(){return ch().e?"*":"latin"};function eh(a,b){this.e=a;this.g=b}eh.prototype.getFontFamily=n("e");eh.prototype.M=n("g");function fh(a){return"Font|"+a.e+"|"+a.g};function gh(a,b){this.e=a;this.g=b}function hh(a){var b=a,c=400;a=a.split(";");a.length&&(b=a[0]);2==a.length&&(a=Number(a[1]))&&(c=a);return new gh(b,c)}function ih(a){return Qa(a,function(a){return hh(a)})};function jh(a,b,c){this.e=a;this.g=b;this.i=c}function kh(a,b){a=a.split(";");return new jh(a[0],a[2]||b,parseInt(a[1],10)||400)}function lh(a,b){return Qa(a,function(a){return kh(a,b)})}function mh(a,b){for(var c=[],d=0;d<a.length;d++)for(var e=0;e<b.length;e++)c.push(new jh(a[d].e,b[e],a[d].g));return c};function nh(){this.e=[]}nh.prototype.g=!1;function oh(a,b){for(var c=0;c<a.e.length;++c){var d=b,e=a.e[c];a.g&&(d.e=[],d.g=!0);d.e.push(e);a.g=!1}a.e=[]}function ph(a){var b=a.e;a.e=[];a.g=!1;return b}nh.prototype.L=function(){return 0==this.e.length};function qh(a){this.e=a};function rh(a,b,c){this.e=a;this.k=b;this.g=c}F(rh,qh);function sh(a,b,c,d){rh.call(this,"append-commands",a,b);this.i=c;this.j=d}F(sh,rh);function th(){this.e=("undefined"==typeof ma?null:ma)||{Ya:""}}q=th.prototype;q.set=function(a,b,c,d,e,f){if(/[;=\s]/.test(a))throw Error('Invalid cookie name "'+a+'"');if(/[;\r\n]/.test(b))throw Error('Invalid cookie value "'+b+'"');x(c)||(c=-1);e=e?";domain="+e:"";d=d?";path="+d:"";f=f?";secure":"";c=0>c?"":0==c?";expires="+(new Date(1970,1,1)).toUTCString():";expires="+(new Date(E()+1E3*c)).toUTCString();this.e.Ya=a+"="+b+e+d+c+f};
q.get=function(a,b){for(var c=a+"=",d=(this.e.Ya||"").split(";"),e=0,f;e<d.length;e++){f=Ab(d[e]);if(0==f.lastIndexOf(c,0))return f.substr(c.length);if(f==a)return""}return b};q.ma=function(){return uh(this).keys};q.O=function(){return uh(this).values};q.L=function(){return!this.e.Ya};q.W=function(){return this.e.Ya?(this.e.Ya||"").split(";").length:0};
function uh(a){a=(a.e.Ya||"").split(";");for(var b=[],c=[],d,e,f=0;f<a.length;f++)e=Ab(a[f]),d=e.indexOf("="),-1==d?(b.push(""),c.push(e)):(b.push(e.substring(0,d)),c.push(e.substring(d+1)));return{keys:b,values:c}}var vh=new th;vh.g=3950;function wh(){this.g=vh;this.e=!1};function xh(a){Tf.call(this);Uf(this,a)}t(xh,dg);xh.prototype.$=n("e");xh.prototype.i=function(){return dg.prototype.i.call(this)};Fa(h(),Md.prototype);function yh(a){this.e={};this.i=a||new wh;this.setTime=this.g;this.incrementTime=this.j;this.setServerValues=this.k}var zh=null;yh.prototype.g=function(a){Ah(this,a,E())};yh.prototype.getTime=function(a){a=this.e[a];return null!=a?a:null};yh.prototype.j=function(a,b){null!=this.e[a]||(this.e[a]=0);this.e[a]+=b};function Ah(a,b,c){if(null!=a.e[b])throw Error("Field "+b+" is already set.");a.e[b]=c}
yh.prototype.k=function(a){if(!O(M(),"icso")){if(a)for(var b in a)Ah(this,b,a[b]);a="";if(!this.i.e){b=this.i;if(b.e)throw Error("GfeRoundTripTimeProvider was called more than once");b.e=!0;a=b.g.get("GFE_RTT");b=b.g;b.get("GFE_RTT");b.set("GFE_RTT","",0,"/",".docs.google.com");a=a?a:null}isFinite(a)&&(a=String(a));a=A(a)?/^\s*-?0x/i.test(a)?parseInt(a,16):parseInt(a,10):NaN;isNaN(a)||Ah(this,"gfertt",a);Ah(this,"sldummy",0)}};function Bh(){zh||(zh=new yh);return zh}v._getTimingInstance=Bh;
v._docsTiming=yh;function Ch(){H.call(this);this.e=Bh()}F(Ch,H);function Dh(a,b,c){xh.call(this,"Local storage error: "+b);this.type=a;this.j=c||null}t(Dh,xh);function Eh(a){return"Failed to write to localstore ("+a.type+"): "+dg.prototype.i.call(a)}function Fh(a){return(a=a.j&&a.j instanceof Event?a.j.ea:null)?a.error:null};function Gh(){H.call(this);Bh()}F(Gh,H);function Hh(a,b){H.call(this);this.g=b;this.e=new Ch(this.g);new Gh("mr")}F(Hh,H);function Ih(a,b){this.e=a;this.g=b};function Jh(a,b){b.push(a);for(var c=0;c<a.length;c++)if(va(a[c])){if(O(M(),"docs-anlpfdo"))Oa(b,a[c]);else if(0<=Oa(b,a[c]))throw Error("Circular reference detected");Jh(a[c],b)}b.pop()}function Kh(a,b,c){if(a.length!=b.length)return!1;c=c||cb;for(var d=0;d<a.length;d++)if(!c(a[d],b[d]))if(va(a[d])&&va(b[d])){if(!Kh(a[d],b[d],c))return!1}else return!1;return!0};function Lh(a,b){if(a==b)return!0;if(!za(a)||!za(b))return!1;var c=ub(a);if(c.length!=ub(b).length)return!1;for(var d=Mh||cb,e=0;e<c.length;e++){var f=c[e];if(!(f in b&&d(a[f],b[f])))return!1}return!0}function Mh(a,b){return a===b?!0:va(a)&&va(b)?bb(a,b,Mh):za(a)&&za(b)?Lh(a,b):!1}function Nh(a,b){b.push(a);for(var c in a)if(za(a[c])){if(O(M(),"docs-anlpfdo"))Oa(b,a[c]);else if(0<=Oa(b,a[c]))throw Error("Circular reference detected");Nh(a[c],b)}b.pop()};function Oh(a,b){this.B=a;this.e={};this.l={};this.I=b||!1;this.q=!this.I}q=Oh.prototype;q.ya=!1;q.Jd=!1;q.sa=function(){return this.I||!vb(this.l)};function Ph(a,b){b?a.Jd=!0:a.sa();a.ya=!0}function Qh(a,b){a=Rh(a,b);return null==a?null:xb(a)}function Sh(a,b){a=Th(a,b);return null==a||0==a?null:a}function Th(a,b){a=Rh(a,b);return null==a?null:a}function Uh(a,b){a=Rh(a,b);return null==a?null:a}function Vh(a,b){return null==Rh(a,b)?null:""!=a.e[b]}function R(a,b,c){return S(a,b,c?"true":"")}
function Wh(a,b){a=Rh(a,b);return null==a?null:xb(a)}function Xh(a){return xb(a.e.keyPath)}function Rh(a,b){a=a.e[b];return null!=a?a:null}function S(a,b,c,d){if(za(c)&&!va(c))return Nh(c,[]),null!=a.e[b]&&Mh(a.e[b],c)||(c=d?c:xb(c),a.e[b]=c,a.q||(a.l[b]=c)),a;if(va(c))return O(M(),"docs-anlpfdo")||Jh(c,[]),Nh(c,[]),null!=a.e[b]&&Kh(a.e[b],c)||(c=d?c:xb(c),a.e[b]=c,a.q||(a.l[b]=c)),a;a.e[b]!=c&&(a.e[b]=c,a.q||(a.l[b]=c));return a}
function Yh(a,b,c,d){var e=a.e,f=e[b];null==f&&(e[b]=f={});f[c]=d;a.q||(a=a.l,e=a[b],null==e&&(a[b]=e={}),e[c]=d)}q.rb=function(){this.l={};this.I=!1};q.ub=aa(null);function Zh(a){this.e=a};function $h(a){return a?new Zh(a[0]):null};function ai(a,b,c){Oh.call(this,"document",c);this.g=new nh;S(this,"id",a);S(this,"documentType",b)}F(ai,Oh);function bi(a){return a.e.id}function ci(a){return a.e.documentType}function di(a,b,c){S(a,"rev",b);S(a,"rai",c?[c.e]:null)}q=ai.prototype;q.Q=function(){return Th(this,"rev")};q.Fb=function(a){R(this,"lss",a)};q.Eb=function(a){S(this,"lsft",a)};function ei(a,b){S(a,"lastModifiedServerTimestamp",b)}function fi(a,b){S(a,"docosKeyData",b)}
function gi(a,b){S(a,"lastModifiedClientTimestamp",b)}q.ub=function(){var a=this.g.L();return a&&!this.ya?ai.G.ub.call(this):new Ih(bi(this),a?1:2)};function hi(a,b,c){Yh(a,"startupHints",b,c)}function ii(a,b){R(a,"modelNeedsResync",b)}function ji(a,b){S(a,"modelVersion",b)}function ki(a,b){S(a,"featureVersion",b)}function li(a,b){S(a,"lastServerSnapshotTimestamp",b)}function mi(a,b){S(a,"snapshotState",b)}
function ni(a,b){if(0>b)throw Error("Cannot set snapshotProtocolNumber to a negative number.");S(a,"snapshotProtocolNumber",b)}function oi(a,b){S(a,"pendingQueueState",b)}function pi(a){return Th(a,"pendingQueueState")}q.sa=function(){return ai.G.sa.call(this)||!this.g.L()};var qi=["drawing","kix","punch"];function ri(a,b,c,d){var e=d||ta;a=si(a);a.length?ti(ui(b,a),c,function(a){return e(a.$())}):c()}function si(a){var b=(Qh(a,"startupHints")||{}).fontFamilies;try{var c=b?JSON.parse(b):[],d=vi(ci(a))?dh():"latin";return lh(c,d)}catch(e){return[]}}function wi(a,b){b=ch().g?Qa(b,function(a){return a.e+";"+a.i+";"+a.g}):Qa(b,function(a){a=new gh(a.e,a.i);return 400==a.g?a.e:a.e+";"+a.g});hi(a,"fontFamilies",ue(b))}function vi(a){return ch().j?!0:0<=Oa(qi,a)};/*
 Portions of this code are from MochiKit, received by
 The Closure Authors under the MIT license. All other code is Copyright
 2005-2009 The Closure Authors. All Rights Reserved.
*/
function T(a,b){this.l=[];this.J=a;this.A=b||null;this.k=this.g=!1;this.j=void 0;this.v=this.K=this.I=!1;this.B=0;this.i=null;this.q=0}function xi(a,b){if(a.g)a.j instanceof T&&xi(a.j);else{if(a.i){var c=a.i;delete a.i;b?xi(c,b):(c.q--,0>=c.q&&xi(c))}a.J?a.J.call(a.A,a):a.v=!0;a.g||a.errback(new yi(a))}}T.prototype.w=function(a,b){this.I=!1;zi(this,a,b)};function zi(a,b,c){a.g=!0;a.j=c;a.k=!b;Ai(a)}function Bi(a){if(a.g){if(!a.v)throw new Ci(a);a.v=!1}}
T.prototype.e=function(a){Bi(this);zi(this,!0,a)};T.prototype.errback=function(a){Bi(this);zi(this,!1,a)};function U(a,b,c){return Di(a,b,null,c)}function Ei(a,b,c){Di(a,b,function(a){var c=b.call(this,a);if(!x(c))throw a;return c},c)}function Di(a,b,c,d){a.l.push([b,c,d]);a.g&&Ai(a);return a}T.prototype.then=function(a,b,c){var d,e,f=new We(function(a,b){d=a;e=b});Di(this,d,function(a){a instanceof yi?lf(f):e(a)});return f.then(a,b,c)};Ue(T);
function Fi(a,b){b instanceof T?U(a,D(b.N,b)):U(a,function(){return b})}T.prototype.N=function(a){var b=new T;Di(this,b.e,b.errback,b);a&&(b.i=this,this.q++);return b};function Gi(a){return Sa(a.l,function(a){return ya(a[1])})}
function Ai(a){if(a.B&&a.g&&Gi(a)){var b=a.B,c=Hi[b];c&&(v.clearTimeout(c.e),delete Hi[b]);a.B=0}a.i&&(a.i.q--,delete a.i);b=a.j;for(var d=c=!1;a.l.length&&!a.I;){var e=a.l.shift(),f=e[0],g=e[1];e=e[2];if(f=a.k?g:f)try{var l=f.call(e||a.A,b);x(l)&&(a.k=a.k&&(l==b||l instanceof Error),a.j=b=l);if(Ve(b)||"function"===typeof v.Promise&&b instanceof v.Promise)d=!0,a.I=!0}catch(k){b=k,a.k=!0,Gi(a)||(c=!0)}}a.j=b;d&&(l=D(a.w,a,!0),d=D(a.w,a,!1),b instanceof T?(Di(b,l,d),b.K=!0):b.then(l,d));c&&(b=new Ii(b),
Hi[b.e]=b,a.B=b.e)}function Ji(a){var b=new T;b.e(a);return b}function Ci(){Ia.call(this)}F(Ci,Ia);Ci.prototype.message="Deferred has already fired";Ci.prototype.name="AlreadyCalledError";function yi(){Ia.call(this)}F(yi,Ia);yi.prototype.message="Deferred was canceled";yi.prototype.name="CanceledError";function Ii(a){this.e=v.setTimeout(D(this.i,this),0);this.g=a}Ii.prototype.i=function(){delete Hi[this.e];throw this.g;};var Hi={};function Ki(a,b){ti(a,function(a){b.e(a)},function(a){b.errback(a)})}function Li(a){var b=new T;Ki(a,b);return b}function Mi(a){return new We(function(b,c){ti(a,function(a){b(a)},function(a){c(a)})})};function Ni(){this.j=!1;this.I=this.o=null;this.e=1;this.l=!1;this.i=[];this.k=[]}t(Ni,Xg);Ni.prototype.$=function(){Bg(3==this.e,"XDeferred does not have an error");return this.I};function V(a,b){Bg(4!=a.e,"Cannot fire a disposed XDeferred");Bg(1==a.e,"Cannot fire a XDeferred more than once");a.o=b;Oi(a,!0)}Ni.prototype.errback=function(a){Bg(4!=this.e,"Cannot fire a disposed XDeferred");Bg(1==this.e,"Cannot fire a XDeferred more than once");this.I=a;Oi(this,!1)};
function ti(a,b,c){Bg(4!=a.e,"Cannot add callback to disposed XDeferred");Bg(!a.l,"Cannot add callback to XDeferred that is firing its callback/errback queue");Pi(a,b,c)||(null!=b&&Dg(a.i,function(a){b(a)}),null!=c&&Dg(a.k,function(a){c(a)}))}function Qi(a,b){ti(a,b,null)}function Ri(a,b){ti(a,null,b)}
function Si(a,b){function c(a){e.errback(a)}function d(a){var c=null;try{c=b(a)}catch(l){l=ag(l);if(l instanceof dg){e.errback(l);return}throw l.e;}V(e,c)}Bg(0==a.l,"Cannot add callback to XDeferred that is firing its callback/errback queue");var e=new Ni;if(Pi(a,d,c))return e;a.i.push(d);a.k.push(c);return e}Ni.prototype.g=function(){this.e=4;this.i.length=0;this.k.length=0;Xg.prototype.g.call(this)};
function Oi(a,b){a.l=!0;if(b)for(a.e=2,b=0;b<a.i.length;b++)(0,a.i[b])(a.o);else for(a.e=3,b=0;b<a.k.length;b++)(0,a.k[b])(a.I);a.l=!1;a.i.length=0;a.k.length=0}function Pi(a,b,c){return 1!=a.e?(a.l=!0,2==a.e&&null!=b?b(a.o):3==a.e&&null!=c&&c(a.I),a.l=!1,!0):!1};function Ti(a,b){Ni.call(this);this.B=null;this.n=0;this.w=b;this.v=a;this.B=Array(a)}t(Ti,Ni);function Ui(a,b){var c=new Ti(a.length,b);b={};for(var d=0;d<a.length;b={Vb:b.Vb},d++)b.Vb=d,ti(a[d],function(a){return function(b){var d=a.Vb;c.n++;var e=new Vi;e.e=!0;e.i=b;c.B[d]=e;1!=c.e||c.n!=c.v||V(c,c.B)}}(b),function(a){return function(b){var d=a.Vb;c.n++;var e=new Wi;e.e=!1;e.i=b;c.B[d]=e;1!=c.e||(c.w?c.errback(b):c.n==c.v&&V(c,c.B))}}(b));0==a.length&&V(c,c.B);return c};function Xi(){this.e=!1}t(Xi,Of);function Wi(){this.e=!1;this.i=null}t(Wi,Xi);Wi.prototype.g=function(){throw lg("Illegal getValue call on failed result, callers must check hasSucceeded() first.").e;};Wi.prototype.$=n("i");function Vi(){this.e=!1;this.i=null}t(Vi,Xi);Vi.prototype.g=n("i");Vi.prototype.$=function(){throw lg("Illegal getError call on successful result, callers must check hasSucceeded() first.").e;};function Yi(){return new Ni}function Zi(a){return Si(Ui(a,!0),function(a){for(var b=Array(a.length),d=0;d<a.length;d++){var e=a[d].g();b[d]=e}return b})}function $i(a){var b=Yi();V(b,a);return b}function aj(a){var b=Yi();b.errback(a);return b}function bj(a,b){Bg(1==b.e,"Cannot pass already fired Deferred to be chained");ti(a,function(a){V(b,a)},function(a){b.errback(a)})};function cj(a){if(a instanceof Tf)return a.e;if(a instanceof Error)return a;throw gg("Cannot cast an object that is neither a JS Error nor a Java Throwable").e;}function dj(a){if(a instanceof Tf)return a;if(a instanceof Error)return ag(a);throw qg("Unsupported type cannot be used to create a Throwable.").e;};function ej(a){this.e=a}ej.prototype.g=function(){return["fontFamilies"]};ej.prototype.i=function(a,b){var c=Yi();if((b=ch().g?b.fontVariantsWithSubsets:b.fontFamilies)&&b.length){var d=vi(ci(a))?dh():"latin";wi(a,lh(b,d));ri(a,this.e,function(){return V(c,null)},function(a){c.errback(null!=a?dj(a):null)})}else V(c,null);return c};function fj(a,b,c){this.i=a;this.k=b;this.j=c;this.g={};this.e={}}
function gj(a,b){var c,d=[],e=[];for(c=0;c<b.length;c++){var f=b[c];if(a.g[f])e.push($i(f));else if(a.j.isOnline())if(0==f.indexOf("PLACEHOLDER_"))e.push(aj(new xh("It is a placeholder image")));else{var g=Yi();e.push(g);a.e[f]?a.e[f].push(g):(d.push(f),a.e[f]=[g])}else e.push(aj(new xh("It is offline.")))}0<d.length&&hj(a,a.i,d,a.k);return Si(Ui(e,!1),function(b){for(var c={},d=0;d<b.length;d++)if(b[d].e&&b[d].g()){var e=b[d].g();c[e]=a.g[e]}return c})}
function hj(a,b,c,d){var e={};e.photo=c;e=dc(e);b=ij(jj(kj(d,"/copyimages"),"id",b),e);x(void 0)&&lj(b,void 0);mj(nj(oj(b,D(a.l,a,c)),D(a.q,a,c)))}fj.prototype.l=function(a,b){b=pj(b);for(var c=0;c<a.length;c++){var d=a[c];if(b[d]){var e=d;this.g[e]=b[d];d=this.e[e];for(var f=0;f<d.length;f++)V(d[f],e);delete this.e[e]}else qj(this,d)}};fj.prototype.q=function(a){for(var b=0;b<a.length;b++)qj(this,a[b])};function qj(a,b){for(var c=a.e[b],d=0;d<c.length;d++)c[d].errback();delete a.e[b]};function rj(a,b,c,d){this.i=a;this.g=b;this.e=c;this.j=!!d};function sj(a){this.g=!!a}sj.prototype.e=function(a,b,c,d){a=c.url;var e=Yb(v.location.href);Yb(a)!=e&&(a=hc(a,"cb",e));e=c.entityType;var f=O(M(),"docs-eedsr")&&"drawing"==e;f&&(a=ec(a,"fmt","svg"));"drawing"==e&&(this.g&&x(c.drawingRevision)?(b=b+"_"+c.drawingRevision,f&&(b+=".svg")):f&&(b+=".svg"));d[b]=new rj(b,a,e,"image"==e)};function tj(){this.e=["ritzChunkSize"]}tj.prototype.g=n("e");tj.prototype.i=function(a,b){for(var c=0;c<this.e.length;c++){var d=this.e[c];null!=b[d]&&hi(a,d,b[d])}return $i(null)};function uj(a){this.e={};for(var b=0;b<a.length;b++)for(var c=a[b],d=c.g(),e=0;e<d.length;e++){var f=d[e];if(this.e[f])throw Error("Key "+f+" registered in multiple StartupHintProcessors");this.e[f]=c}}function vj(a,b,c){var d=[],e;for(e in c)if(a.e[e]){var f={};f[e]=c[e];f=a.e[e].i(b,f);d.push(f)}return Zi(d)};function wj(a){this.e=a}function xj(a,b){var c=Yi();a.e.revokeUrl2(b,new yj(c),new zj(c));return c}function yj(a){this.e=a}yj.prototype.revokerSuccess=function(){V(this.e,null)};function zj(a){this.e=a}zj.prototype.revokerFailure=function(){this.e.errback(new xh("NativeImageUrlRevoker fired the error callback."))};function Aj(a){var b={};a:switch(a){case "createPhoto":var c="image_upload_other_error";break a;case "badScottyUrl":case "connectionError":case "fileNotFound":case "invalidFileData":case "jsonError":case "nonexistentImageUrl":case "offlineSync":case "iosOtherSession":c="image_upload_pre_upload_error";break a;default:c="image_upload_scotty_error"}b[c]=a;return b};function Bj(a,b,c){if(!!b==!!c)throw Error("Must have cosmo id xor error.");this.j=a;this.e=b;this.g=c;this.i=!!b}Bj.prototype.qa=n("j");Bj.prototype.tb=n("e");Bj.prototype.$=n("g");Bj.prototype.Gc=n("i");function Cj(a){this.isOnline=a};function Dj(){this.g=this.e=null}t(Dj,Of);function Ej(a,b){var c=new Dj;c.e=a;c.g=b;return c};function Fj(){this.j=!1;this.e=[]}t(Fj,Xg);function Gj(a,b,c){b=Ej(b,$g(b,c));a.e.push(b)}function Hj(a,b,c){var d=new Mf;d.Ob=b;d.Ib=c;c=Lf(d);b=Ej(b,$g(b,c));a.e.push(b)}Fj.prototype.g=function(){var a;for(a=this.e.pop();null!=a;)Wg(a.e.e,a.g)&&a.e.Xb(a.g),a=this.e.pop();Xg.prototype.g.call(this)};Fj.prototype.Xb=function(a){for(var b=0;b<this.e.length;b++){var c=this.e[b];if(void 0==c.g&&Pf(c.e,a)){Wg(c.e.e,c.g)&&c.e.Xb(c.g);a=b;a==this.e.length-1?this.e.pop():(b=this.e.pop(),this.e[a]=b);break}}};function Ij(a,b,c,d,e,f){mj(oj(Jj(jj(kj(d,"/createphoto"),"id",a),b),function(a){var b=pj(a);if(a=b.imageError){a:switch(a){case 2:case 3:b="The selected image is too large.";break a;case 4:case 5:case 6:case 7:case 8:b="The selected image is in an unsupported format.";break a;default:b="There was a problem retrieving the specified image."}f(c,a,b)}else e(c,b.imageId,b.width,b.height,void 0)}))};function Kj(a,b,c){H.call(this);this.g=a;this.k=b||0;this.j=c;this.i=D(this.l,this)}F(Kj,H);Kj.prototype.e=0;Kj.prototype.z=function(){Kj.G.z.call(this);Lj(this);delete this.g;delete this.j};function Lj(a){0!=a.e&&Af.clearTimeout(a.e);a.e=0}Kj.prototype.l=function(){this.e=0;this.g&&this.g.call(this.j)};function Mj(a,b,c,d){H.call(this);this.i=null!=d?d:.15;this.k=a;this.j=b;this.n=c;this.e=new Kj(this.o,void 0,this);this.l=Number.NEGATIVE_INFINITY;this.g=0}F(Mj,H);function Nj(a,b,c){b&&(Lj(a.e),Oj(a,a.j));0==a.e.e&&(b=E(),b=Math.max(0,a.l+a.g-b),0==b&&(c?b=Oj(a,a.j):a.g=0),a=a.e,c=b,Lj(a),a.e=Df(a.i,x(c)?c:a.k))}function Oj(a,b){0<b&&0!=a.i&&(b=Math.floor(b*(1-a.i+Math.random()*a.i*2)));return a.g=b}Mj.prototype.o=function(){this.l=E();Oj(this,Math.min(Math.max(2*this.g,this.j),this.n));this.k()};
Mj.prototype.z=function(){this.e.Z();delete this.e;delete this.k;Mj.G.z.call(this)};function Pj(a,b,c,d,e,f){var g=this;H.call(this);this.g=a;this.k=new Fj;I(this,this.k);Gj(this.k,this.g.e,function(a){for(var b in g.e){var c=g.e[b];a.isOnline?c.g||Nj(c.i,!0,!1):Lj(c.i.e)}});this.e={};this.l=b;this.i=c;this.v=d;this.o=e;this.j=f}F(Pj,H);q=Pj.prototype;
q.hf=function(a){for(var b=[],c=0;c<a.length;c++){var d=a[c],e=d.qa(),f=this.e[e];if(f.g)throw Error("Tried to transport blob that is currently being transported: "+e);f.g=!0;if(d=Uh(d,"oc"))b.push(d);else throw Error("Tried to transport via original image id on blob with no id.");}Qi(gj(this.l,b),D(this.oe,this,a))};
q.gf=function(a){var b=a.qa(),c=this.e[b];if(c.g)throw Error("Tried to transport blob that is currently being transported: "+b);c.g=!0;var d=Uh(a,"ou");if(a.getUrl()||d){var e;if(e=d)e=0==d.indexOf("http://")||0==d.indexOf("https://");if(e)a=D(this.Ee,this,b,c.e),b=D(this.De,this,b,c.e),Ij(this.i,{url:d},d||"",this.v,a,b);else{c=new T;d=new Qj(c);e=new Rj(c);var f=a.getUrl()||Uh(a,"ou");0==f.indexOf("docs.google.com.clipboard://")||0==f.indexOf("docs.google.com.itemprovider://")?(a=new T,a.errback(Error("iosOtherSession"))):
(this.n.startUpload(this.i,f,a.getFileName(),d,e),a=c);Di(a,D(this.je,this,b),D(this.ie,this,b))}}else b=new Bj(b,null,Error("nonexistentImageUrl")),c.e.errback(b)};q.Wd=function(a){var b=this.e[a];if(!b)throw Error("Attempted to cleanup an unknown blob: "+a);b.i.Z();delete this.e[a]};q.Ee=function(a,b,c,d){a=new Bj(a,d,null);b.e(a)};q.De=function(a,b,c,d){this.o.V(Error("Create photo failed with error: "+d));a=new Bj(a,null,Error("createPhoto"));b.errback(a)};
q.je=function(a,b){var c=this.e[a];a=new Bj(a,b,null);c.e.e(a)};q.ie=function(a,b){var c=this.e[a];"connectionError"==b.message?(c.g=!1,Nj(c.i,!1,!0)):(a=new Bj(a,null,b),c.e.errback(a))};q.oe=function(a,b){for(var c=0;c<a.length;c++){var d=a[c],e=d.qa(),f=this.e[e];(d=Uh(d,"oc"))&&b[d]?(e=new Bj(e,b[d],null),f.e.e(e)):(e=new Bj(e,null,Error("unknown")),f.e.errback(e))}};function Sj(a,b){this.e=a;this.i=b;this.g=!1};function Tj(a,b,c,d,e,f){Pj.call(this,c,d,a,e,f);this.n=b}F(Tj,Pj);var Uj={0:"badScottyUrl",1:"canceled",2:"connectionError",3:"fileNotFound",4:"invalidAuth",5:"invalidFileData",6:"invalidResponse",7:"jsonError",9:"scottyError",10:"scottyReject"};function Qj(a){this.e=a}Qj.prototype.uploadSuccess=function(a){this.e.e(a)};function Rj(a){this.e=a}Rj.prototype.uploadFailure=function(a){this.e.errback(Error(Uj[a]||"unknown"))};G("Firefox");Ic()||G("iPod");G("iPad");!G("Android")||Hc()||G("Firefox")||G("Opera")||G("Silk");var Vj=Hc(),Wj=G("Safari")&&!(Hc()||G("Coast")||G("Opera")||G("Edge")||G("Silk")||G("Android"))&&!(Ic()||G("iPad")||G("iPod"));function Xj(){}var Yj="function"==typeof Uint8Array;function Zj(a,b,c,d){a.g=null;b||(b=c?[c]:[]);a.l=c?String(c):void 0;a.j=0===c?-1:0;a.e=b;a:{if(a.e.length&&(b=a.e.length-1,(c=a.e[b])&&"object"==typeof c&&!va(c)&&!(Yj&&c instanceof Uint8Array))){a.k=b-a.j;a.i=c;break a}a.k=Number.MAX_VALUE}a.q={};if(d)for(b=0;b<d.length;b++)if(c=d[b],c<a.k)c+=a.j,a.e[c]=a.e[c]||ak;else{var e=a.k+a.j;a.e[e]||(a.i=a.e[e]={});a.i[c]=a.i[c]||ak}}var ak=[];
function W(a,b){if(b<a.k){b+=a.j;var c=a.e[b];return c===ak?a.e[b]=[]:c}if(a.i)return c=a.i[b],c===ak?a.i[b]=[]:c}function bk(a,b){if(b<a.k){b+=a.j;var c=a.e[b];return c===ak?a.e[b]=[]:c}c=a.i[b];return c===ak?a.i[b]=[]:c}function ck(a,b){a=W(a,b);return null==a?0:a}function dk(a){var b=ek;a.g||(a.g={});if(!a.g[1]){for(var c=bk(a,1),d=[],e=0;e<c.length;e++)d[e]=new b(c[e]);a.g[1]=d}b=a.g[1];b==ak&&(b=a.g[1]=[]);return b}
function fk(a){if(a.g)for(var b in a.g){var c=a.g[b];if(va(c))for(var d=0;d<c.length;d++)c[d]&&c[d].Sc();else c&&c.Sc()}}Xj.prototype.Sc=function(){fk(this);return this.e};Xj.prototype.toString=function(){fk(this);return this.e.toString()};Xj.prototype.T=function(){return new this.constructor(gk(this.Sc()))};
function gk(a){if(va(a)){for(var b=Array(a.length),c=0;c<a.length;c++){var d=a[c];null!=d&&(b[c]="object"==typeof d?gk(d):d)}return b}if(Yj&&a instanceof Uint8Array)return new Uint8Array(a);b={};for(c in a)d=a[c],null!=d&&(b[c]="object"==typeof d?gk(d):d);return b};function hk(a,b,c){Ia.call(this,c);this.Bc=b}F(hk,Ia);hk.prototype.docs_permanent_error_checker_817115=!0;hk.prototype.docs_offline_error_data_provider_134718=!0;hk.prototype.Fc=function(){switch(this.Bc){case 5:case 14:case 12:return!0;default:return!1}};function ik(a,b,c){H.call(this);this.o=c;this.bb=a;this.Xa=b;this.X=!1}F(ik,H);ik.prototype.i=function(){if(this.X)throw Error("The sync() method can be called only once");jk(this.k.e.k,D(this.df,this));this.X=!0};ik.prototype.ga=function(){this.q()||this.bb(this.o)};function kk(a){this.e=a};function Rg(a){this.e="offline-oc";this.g=a}F(Rg,kk);function lk(){}function mk(a){if("offline-oc"!=a.e)throw Error("Invalid Type");return a.g};function nk(a,b,c,d,e,f){T.call(this,e,f);this.o=a;this.n=[];this.D=!!b;this.S=!!c;this.P=!!d;for(b=this.H=0;b<a.length;b++)Di(a[b],D(this.F,this,b,!0),D(this.F,this,b,!1));0!=a.length||this.D||this.e(this.n)}F(nk,T);nk.prototype.F=function(a,b,c){this.H++;this.n[a]=[b,c];this.g||(this.D&&b?this.e([a,c]):this.S&&!b?this.errback(c):this.H==this.o.length&&this.e(this.n));this.P&&!b&&(c=null);return c};nk.prototype.errback=function(a){nk.G.errback.call(this,a);for(a=0;a<this.o.length;a++)xi(this.o[a])};
function ok(a){return U(new nk(a,!1,!0),function(a){for(var b=[],d=0;d<a.length;d++)b[d]=a[d][1];return b})};function pk(a,b,c){H.call(this);this.e=a;this.i=b;this.j=c;this.g=new Fj;I(this,this.g)}F(pk,H);
pk.prototype.R=function(){if(qk(this.e)){var a=this.e;var b=tb(a.e);zb(a.g,a.e);a.e={};a=this.i;for(var c=[],d=0;d<b.length;d++){var e=b[d];Uh(e,"oc")&&c.push(e)}var f=new Mj(D(a.hf,a,c),1E3,9E5,a.j);d=[];for(var g=0;g<b.length;g++){e=b[g];var l=e.qa();if(a.e[l])throw Error("Attempted to re-transport blob");var k=new T;if(Uh(e,"oc"))e=new Sj(k,f);else{var p=new Mj(D(a.gf,a,e),1E3,9E5,a.j);e=new Sj(k,p);a.g.isOnline()&&Nj(p,!1,!1)}a.e[l]=e;l=kb(D(a.Wd,a,l));Di(k,l,l,void 0);d.push(k)}0<c.length&&a.g.isOnline()&&
Nj(f,!1,!1);a=new T;U(new nk(d),D(this.k,this,b,a))}else a=Ji();return a};pk.prototype.k=function(a,b,c){for(var d=0;d<c.length;d++){var e=a[d].qa(),f=c[d][1];c[d][0]?rk(this.e,e,f.tb()):(sk(this.e,e),e=f.$().message,this.j.log(Error("Failed to sync blob with error"),Aj(e)))}qk(this.e)?Hj(this.g,this.e.n,function(){return b.e()}):b.e()};function tk(a,b,c,d){Sd.call(this,a);this.q=b;this.g=c;this.j=d}F(tk,Sd);tk.prototype.k=null;tk.prototype.i=null;function uk(a){H.call(this);this.g=a;this.e={}}F(uk,H);var vk=[];q=uk.prototype;q.ia=function(a,b,c,d){va(b)||(b&&(vk[0]=b.toString()),b=vk);for(var e=0;e<b.length;e++){var f=ee(a,b[e],c||this.Ca,d||!1,this.g||this);if(!f)break;this.e[f.La]=f}return this};q.hb=function(a,b,c,d){return wk(this,a,b,c,d)};function wk(a,b,c,d,e,f){if(va(c))for(var g=0;g<c.length;g++)wk(a,b,c[g],d,e,f);else{b=fe(b,c,d||a.Ca,e,f||a.g||a);if(!b)return a;a.e[b.La]=b}return a}
q.Yb=function(a,b,c,d,e){if(va(b))for(var f=0;f<b.length;f++)this.Yb(a,b[f],c,d,e);else c=c||this.Ca,d=za(d)?!!d.ua:!!d,e=e||this.g||this,c=ge(c),d=!!d,b=Vd(a)?a.wb(b,c,d,e):a?(a=ie(a))?a.wb(b,c,d,e):null:null,b&&(ne(b),delete this.e[b.La])};function xk(a){qb(a.e,function(a,c){this.e.hasOwnProperty(c)&&ne(a)},a);a.e={}}q.z=function(){uk.G.z.call(this);xk(this)};q.Ca=function(){throw Error("EventHandler.handleEvent not implemented");};function yk(a,b,c,d){H.call(this);this.g=a;this.k=b;this.i=c;this.l=d;this.e=new T;this.j=new uk(this)}F(yk,H);q=yk.prototype;q.yb=-1;q.R=function(){var a=this;this.yb=-1;zk(this.g)?ti(Ak(this.g),function(b){var c=b.Q();Bk(a.i,b.e,a.k?Ck(a.k):{},c,a.l)?a.j.ia(a.i,"d",a.Je).ia(a.i,"c",a.Ie):a.e.errback(new Dk(!1,void 0))},function(b){a.e.errback(new Dk(!1,b))}):this.e.e(this);return this.e};
function Ek(a){if(!Fk(a.g)&&0<=a.yb){var b=a.g;a=a.yb;Gk(b);if(!b.fc())throw Error("removeSent called when not waiting for ack");var c=Hk(b),d=b.e;if(null!=Ik(d)){var e=Ik(d)-d.i.length;Jk(d,0>e?null:e)}d.i=[];Kk(d,3);Lk(b.e,a,null);b.e.L()&&(Mk(b.e,!1),Nk(b.g),null!==b.k&&S(b.e,"accessLevel",b.k),Ok(b.g,1));Q(b.v,null);Pk(b.e)&&b.j||(b.Hb=!1,Q(b.ga,null));c&&(Hk(b)||Q(b.o,null));b.L()&&Q(b.w,null)}}q.Je=function(a){a=a.g;this.yb=a[a.length-1].e;Qk(this.g,this.yb);this.e.e(this)};
q.Ie=function(a){var b=this;a=a.g;"e"!=a.type||a.i&&"e"!=a.i?this.e.errback(new Dk(!1,void 0)):(a=function(){b.e.errback(new Dk(!0,void 0))},ti(Rk(this.g),a,a))};q.z=function(){J(this.j);yk.G.z.call(this)};function Dk(a,b){this.g=a;this.e=b};function Sk(a,b,c){var d=new T;if(Vh(a,"inc"))if(null===Uh(a,"title"))b={},b.docId=bi(a),c.V(Error("Not creating document without title"),b),d.errback(void 0);else{c={newDocId:bi(a),title:Uh(a,"title")};var e=Wh(a,"ic");e&&(c.initialCommands=ue(e));(e=Uh(a,"fact"))&&(c.folder=e);(a=Uh(a,"odocid"))&&(c.sourceDocId=a);a=nj(oj(Jj(Tk(kj(b,"/create")),c),function(a){return d.e(a)}),function(a){return d.errback(a)});x(2)&&lj(a,2);mj(a)}else d.e(void 0);return d};function Uk(a,b){this.e=[];this.g=b;for(var c=!0,d=a.length-1;0<=d;d--){var e=a[d]|0;c&&e==b||(this.e[d]=e,c=!1)}}var Vk={};function Wk(a){if(-128<=a&&128>a){var b=Vk[a];if(b)return b}b=new Uk([a|0],0>a?-1:0);-128<=a&&128>a&&(Vk[a]=b);return b}function Xk(a){if(isNaN(a)||!isFinite(a))return Yk;if(0>a)return Zk(Xk(-a));for(var b=[],c=1,d=0;a>=c;d++)b[d]=a/c|0,c*=4294967296;return new Uk(b,0)}var Yk=Wk(0),$k=Wk(1),al=Wk(16777216);
function bl(a){if(-1==a.g)return-bl(Zk(a));for(var b=0,c=1,d=0;d<a.e.length;d++){var e=cl(a,d);b+=(0<=e?e:4294967296+e)*c;c*=4294967296}return b}q=Uk.prototype;q.toString=function(a){a=a||10;if(2>a||36<a)throw Error("radix out of range: "+a);if(dl(this))return"0";if(-1==this.g)return"-"+Zk(this).toString(a);for(var b=Xk(Math.pow(a,6)),c=this,d="";;){var e=el(c,b);c=fl(c,gl(e,b));var f=((0<c.e.length?c.e[0]:c.g)>>>0).toString(a);c=e;if(dl(c))return f+d;for(;6>f.length;)f="0"+f;d=f+d}};
function cl(a,b){return 0>b?0:b<a.e.length?a.e[b]:a.g}function dl(a){if(0!=a.g)return!1;for(var b=0;b<a.e.length;b++)if(0!=a.e[b])return!1;return!0}q.cb=function(a){if(this.g!=a.g)return!1;for(var b=Math.max(this.e.length,a.e.length),c=0;c<b;c++)if(cl(this,c)!=cl(a,c))return!1;return!0};function hl(a,b){a=fl(a,b);return-1==a.g?-1:dl(a)?0:1}function Zk(a){for(var b=a.e.length,c=[],d=0;d<b;d++)c[d]=~a.e[d];return(new Uk(c,~a.g)).add($k)}
q.add=function(a){for(var b=Math.max(this.e.length,a.e.length),c=[],d=0,e=0;e<=b;e++){var f=d+(cl(this,e)&65535)+(cl(a,e)&65535),g=(f>>>16)+(cl(this,e)>>>16)+(cl(a,e)>>>16);d=g>>>16;f&=65535;g&=65535;c[e]=g<<16|f}return new Uk(c,c[c.length-1]&-2147483648?-1:0)};function fl(a,b){return a.add(Zk(b))}
function gl(a,b){if(dl(a)||dl(b))return Yk;if(-1==a.g)return-1==b.g?gl(Zk(a),Zk(b)):Zk(gl(Zk(a),b));if(-1==b.g)return Zk(gl(a,Zk(b)));if(0>hl(a,al)&&0>hl(b,al))return Xk(bl(a)*bl(b));for(var c=a.e.length+b.e.length,d=[],e=0;e<2*c;e++)d[e]=0;for(e=0;e<a.e.length;e++)for(var f=0;f<b.e.length;f++){var g=cl(a,e)>>>16,l=cl(a,e)&65535,k=cl(b,f)>>>16,p=cl(b,f)&65535;d[2*e+2*f]+=l*p;il(d,2*e+2*f);d[2*e+2*f+1]+=g*p;il(d,2*e+2*f+1);d[2*e+2*f+1]+=l*k;il(d,2*e+2*f+1);d[2*e+2*f+2]+=g*k;il(d,2*e+2*f+2)}for(e=0;e<
c;e++)d[e]=d[2*e+1]<<16|d[2*e];for(e=c;e<2*c;e++)d[e]=0;return new Uk(d,0)}function il(a,b){for(;(a[b]&65535)!=a[b];)a[b+1]+=a[b]>>>16,a[b]&=65535,b++}
function el(a,b){if(dl(b))throw Error("division by zero");if(dl(a))return Yk;if(-1==a.g)return-1==b.g?el(Zk(a),Zk(b)):Zk(el(Zk(a),b));if(-1==b.g)return Zk(el(a,Zk(b)));if(30<a.e.length){if(-1==a.g||-1==b.g)throw Error("slowDivide_ only works with positive integers.");for(var c=$k;0>=hl(b,a);)c=jl(c,1),b=jl(b,1);var d=kl(c,1),e=kl(b,1);b=kl(b,2);for(c=kl(c,2);!dl(b);){var f=e.add(b);0>=hl(f,a)&&(d=d.add(c),e=f);b=kl(b,1);c=kl(c,1)}return d}for(c=Yk;0<=hl(a,b);){d=Math.max(1,Math.floor(bl(a)/bl(b)));
e=Math.ceil(Math.log(d)/Math.LN2);e=48>=e?1:Math.pow(2,e-48);f=Xk(d);for(var g=gl(f,b);-1==g.g||0<hl(g,a);)d-=e,f=Xk(d),g=gl(f,b);dl(f)&&(f=$k);c=c.add(f);a=fl(a,g)}return c}q.and=function(a){for(var b=Math.max(this.e.length,a.e.length),c=[],d=0;d<b;d++)c[d]=cl(this,d)&cl(a,d);return new Uk(c,this.g&a.g)};q.or=function(a){for(var b=Math.max(this.e.length,a.e.length),c=[],d=0;d<b;d++)c[d]=cl(this,d)|cl(a,d);return new Uk(c,this.g|a.g)};
q.xor=function(a){for(var b=Math.max(this.e.length,a.e.length),c=[],d=0;d<b;d++)c[d]=cl(this,d)^cl(a,d);return new Uk(c,this.g^a.g)};function jl(a,b){var c=b>>5;b%=32;for(var d=a.e.length+c+(0<b?1:0),e=[],f=0;f<d;f++)e[f]=0<b?cl(a,f-c)<<b|cl(a,f-c-1)>>>32-b:cl(a,f-c);return new Uk(e,a.g)}function kl(a,b){var c=b>>5;b%=32;for(var d=a.e.length-c,e=[],f=0;f<d;f++)e[f]=0<b?cl(a,f+c)>>>b|cl(a,f+c+1)<<32-b:cl(a,f+c);return new Uk(e,a.g)};fl(jl($k,32),$k);Wk(65535);fl(jl($k,128),$k);G("Macintosh")||Ic()||G("iPad")||G("iPod");function ll(a){switch(a){case 3:case 2:case 4:case 5:return 2;case 1:return 1;case 0:return 0;default:throw Error("No such access level.");}};function ml(a,b,c){this.e=a;this.g=b;this.Ja=c}ml.prototype.pa=n("e");ml.prototype.getRequestId=n("g");function nl(a,b,c,d,e,f){Oh.call(this,"pendingQueue",c);this.k=d;this.i=e.concat();this.g=f.concat();S(this,"docId",a);S(this,"documentType",b);S(this,"revision",-1);R(this,"undeliverable",!1);R(this,"unsavedChanges",!1);this.n=this.j=!1}F(nl,Oh);var ol=["revisionAccessInfo","unsentBundleMetadata","selection","sentBundlesSavedRevision","snapshotBundleIndex"];q=nl.prototype;q.Ea=6;q.Bb=null;q.jb=null;q.kb=null;q.ra=null;function pl(a){return a.e.docId}function ql(a,b){R(a,"undeliverable",b)}
function rl(a,b){S(a,"sentBundlesSavedRevision",b)}function Lk(a,b,c){S(a,"revision",b);S(a,"revisionAccessInfo",c?[c.e]:null)}q.Q=function(){return this.e.revision};function sl(a,b){S(a,"selection",b)}function Mk(a,b){R(a,"unsavedChanges",b)}function tl(a,b){S(a,"unsentBundleMetadata",b)}function Ik(a){return Th(a,"snapshotBundleIndex")}
function Jk(a,b){if(null!=b){var c=a.i.length+a.g.length-1;if(0>b||b>c)throw Error(b+" is not a valid snapshot bundle index. The last bundle index: "+c);}S(a,"snapshotBundleIndex",b)}q.L=function(){return this.j?!0:0==this.g.length&&0==this.i.length};function ul(a){if(!a.g.length)throw Error("Cannot call mark sent without unsent commands.");if(1==a.g.length){var b=a.g[0];a.ra=new vl(b.getRequestId(),b.Ja);a.i.push(b);a.g=[];Kk(a,5)}else Za(a.i,a.g),wl(a,a.i,[]);rl(a,null)}
function xl(a){ql(a,!1);Mk(a,!1);rl(a,null);sl(a,null);Jk(a,null);a.i=[];a.g=[];Kk(a,2)}function wl(a,b,c){a.kb=c.length?c.concat():null;a.jb=b.concat();a.Bb=null;a.ra=null;a.i=b.concat();a.g=c.concat();Kk(a,7)}function Kk(a,b){if(a.n&&7!=b&&6!=a.Ea)wl(a,a.i,a.g);else{yl(a);if(!a.n&&6!=a.Ea)throw Error("Multiple pending queue operations between writes. Current operation: "+a.Ea+". Pending operation: "+b);a.Ea=b}}
function yl(a){if(a.j)throw Error("The queue is in a state that does not allow any operation until switchToStorageIfNeeded() is called.");}q.sa=function(){return 6!=this.Ea||nl.G.sa.call(this)};function zl(a){return a.j?[]:a.i}function Al(a){return a.j?[]:a.g}function Bl(a){if(a.j)return[];for(var b=[],c=0;c<a.g.length;c++)Za(b,a.g[c].pa());return b}function Cl(a){return a.j?!1:!!a.g.length}function Pk(a){return a.j?!1:!!a.i.length}
q.rb=function(){yl(this);nl.G.rb.call(this);this.Bb&&this.Bb.length&&this.k++;this.jb&&(this.k+=this.jb.length);this.kb&&(this.k+=this.kb.length);this.Ea=6;this.ra=this.kb=this.jb=this.Bb=null};q.ub=function(){return new Ih(pl(this),2)};function vl(a,b){this.requestId=a;this.sessionId=b};function Dl(a,b,c,d,e){H.call(this);this.Hc=Yi();this.D=null;this.J=Kg("jobset");this.F=O(M(),"fatra");this.Ua=this.X=null;this.Sb=!1;this.Jc=this.A=this.K=this.Xa=this.Oa=this.Va=null;this.vd=c||null;this.oa=d||null;this.P=this.zd=this.Qa=this.n=this.k=null;this.Y=0;this.l=null;this.td=!1;this.g=this.Pa=this.e=this.Sa=this.Ic=this.ga=null;this.j=this.v=!1;this.Ta=Yi();b=(e||[]).concat();b.push(this.Hc);this.Xe=Zi(b);this.i=a;this.w=new nh;this.Aa=this.H=this.S=this.ud=this.N=this.za=null;this.db=
!1;this.bb=this.ha=this.na=this.la=null;this.Ub=!1;this.o=null;this.Ra=!1}F(Dl,H);function El(a){if(null!==a.N)return a.N;if(!a.e)throw Error("Local store document should exist when revision is null in document writer proxy");return a.e.Q()}
function Fl(a,b){var c=Yi();if(!a.e)return V(c,null),c;if(a.v)return Gl(a,c,!!b,!0),c;Hl(a);var d=a.k&&1!=a.k.e;Gl(a,c,!!b);a.oa&&a.n&&!a.k&&(a.k=vj(a.oa,a.e,a.n),a.n=null);c=[c];if(a.k&&!d){var e=Yi();c.push(e);d=function(){Gl(a,e,!!b)};ti(a.k,d,d)}a.td&&(a.td=!1);return Si(Ui(c,!0),aa(null))}function Il(a){var b=a.Ra;b||(a.Ra=!0);var c=Fl(a,!0);a.Ra=b;return c}
function Hl(a){a.P&&(S(a.e,"title",a.P),a.P=null);0<a.Y&&(ei(a.e,a.Y),a.Y=0);a.J&&(S(a.e,"jobset",a.J),a.J=null);null!=a.F&&(R(a.e,"isFastTrack",a.F),a.F=null);var b=a.e;if(b.sa()){var c=E();S(b,"lastSyncedTimestamp",c)}a.l&&(fi(a.e,a.l),a.l=null);null!=a.ga&&(R(a.e,"inc",!a.ga),a.ga=null);null!=a.Ic&&(R(a.e,"pendingCreation",a.Ic),a.Ic=null);null!=a.X&&(R(a.e,"ips",a.X),a.X=null);a.Sb&&(gi(a.e,a.Ua),a.Ua=null,a.Sb=!1);null!==a.K&&(ji(a.e,a.K),a.K=null);null!==a.A&&(ki(a.e,a.A),a.A=null);(b=a.e)&&
Vh(b,"inc")&&a.D?(S(b,"ic",a.D),a.D=null):b&&(a.D=null);null!==a.S&&(R(a.e,"ind",!a.S),a.S=null);null!==a.H&&(R(a.e,"isd",a.H),a.H=null);a.db&&(S(a.e,"defe",a.Aa),a.Aa=null,a.db=!1);null!==a.Va&&(S(a.e,"lsst",a.Va),a.Va=null);null!==a.Oa&&(a.e.Eb(a.Oa),a.Oa=null);null!==a.Xa&&(a.e.Fb(a.Xa),a.Xa=null);null!=a.Sa&&(R(a.e,"hpmdo",a.Sa),a.Sa=null);null!=a.o&&(oi(a.e,a.o),a.o=null);a.j&&(null!==a.la&&(ii(a.e,a.la),a.la=null),null!=a.na&&(mi(a.e,a.na),a.na=null),null!=a.ha&&(li(a.e,a.ha),a.ha=null),a.Ub&&
(ni(a.e,a.bb),a.bb=null,a.Ub=!1))}function Gl(a,b,c,d){var e=[];d||e.push(a.e);a.g&&(yl(a.g),e.push(a.g));Jl(a,d);var f=c?D(b.errback,b):a.zd||void 0;a.Pa.ka(e,d?function(){return V(b,null)}:function(){return Kl(a,b,f)},f)}function Kl(a,b,c){if(a.Qa){var d=a.Qa;a.Qa=null;a.Pa.ka(d,function(){return V(b,null)},c)}else V(b,null)}
function Jl(a,b){var c=null,d=null,e=!1,f=!1;if(a.g){c=a.g.L();d=a.g.Q();var g=a.g.l;f=(e=!!g.revision)||!!g.unsentBundleMetadata||!!g.undeliverable||!!g.sentBundlesSavedRevision}g=null;var l=!1,k=!1;a.e&&(g=a.e.Q(),k=a.e.l,l=!!k.rev,k=!!k.pendingQueueState);if(a.g)if(b&&k)a.i.V(Error("pendingQueueState is modified while only writing the pending queue record"));else{if(k||f)f=(f=a.e)?pi(f):null,a.g.L()!=(1==f)&&a.i.V(Error("pendingQueueState "+f+" does not match the pending queue record state: empty"))}else k&&
a.i.V(Error("pendingQueueState is modified without a registered pending queue record"));!c&&a.g&&(c={},c.writePendingQueueOnly=!!b,c.hasSwitchedToLocalStorage=a.j,a.g?(c.pendingQueue_isAvailable=!0,c.pendingQueue_revisionModified=e):c.pendingQueue_isAvailable=!1,a.e?(c.localDocument_isAvailable=!0,c.localDocument_revision=g,c.localDocument_revisionModified=l,c.localDocument_commandQueueModified=!a.e.g.L()):c.localDocument_isAvailable=!1,!b&&l&&g!=d&&a.i.V(Error("Local document revision write is out of sync with the pending queue revision."),
c))}function Ll(a){a.v||ti(a.Xe,function(){a.e?R(a.e,"hpmdo",!1):a.Sa=!1;var b=a.e;oh(a.w,b.g);a.w=b.g;null!==a.za&&(Yh(b,"acl",a.Jc,a.za),a.za=null);null!==a.N&&di(a.e,a.N,a.ud);a.vd&&a.vd.e(!0);a.g&&(a.g.n=!1);a.j=!0;try{var c=Fl(a)}catch(d){c=aj(d)}bj(c,a.Ta)},function(b){a.Ta.errback(b)})}function Ml(a,b){a.g=b;a.g.I&&a.g.L()&&Ok(a,1);O(M(),"icso")}
function Nl(a){a.e||Ol(a.i,Error("Tried to delete document but no document was registered on DocumentWriterProxy"));Ph(a.e,!0);var b=Yi();a.Pa.ka([a.e],function(){return V(b,null)},function(a){return b.errback(a)});a.e=null;a.v=!0;return b}function Pl(a){a.e?(R(a.e,"inc",!1),a.ga=null):a.ga=!0}function Ql(a){a.j?(ii(a.e,!1),a.la=null):a.la=!1}function Rl(a,b){a.e?(R(a.e,"ips",b),a.X=null):a.X=b}function Nk(a){a.e?(gi(a.e,null),a.Ua=null,a.Sb=!1):(a.Ua=null,a.Sb=!0)}
function Sl(a){var b=E();a.e?S(a.e,"lsst",b):a.Va=b}Dl.prototype.Fb=function(a){this.e?this.e.Fb(a):this.Xa=a};Dl.prototype.Eb=function(a){this.e?this.e.Eb(a):this.Oa=a};function Tl(a){a.j?(mi(a.e,4),a.na=null):a.na=4;var b=E();a.j?(li(a.e,b),a.ha=null):a.ha=b;a.j?(ni(a.e,null),a.bb=null,a.Ub=!1):(a.bb=null,a.Ub=!0)}function Ok(a,b,c){a.e?(oi(a.e,b),a.o=null):c?a.e?(oi(a.e,b),a.o=null):Ol(a.i,Error("Force persisting pending queue state without a document record.")):a.o=b};function Ul(a,b,c){this.e=a;this.k=b;this.q=c}F(Ul,qh);function Vl(a){if(null===a.k)throw Error("Cannot getKey of operation for singleton record.");return a.k};function Wl(a,b){Ul.call(this,"delete-record",a,b)}F(Wl,Ul);function Xl(a,b,c,d){Ul.call(this,d||"update-record",a,b.B);this.i=b.I;this.g={};a=b.l;c=c||[];for(var e in a)this.g[e]=0<=Oa(c,e)?Rh(b,e):b.e[e]}F(Xl,Ul);function Yl(){H.call(this)}F(Yl,H);Yl.prototype.l=function(a){if(!(0<=Oa(this.e(),a.B)))throw Error("Cannot create operations for an unsupported record type "+a.B);return this.g(a)};Yl.prototype.g=function(a,b){var c=this.i(a),d=[];a.ya?d.push(new Wl(c,a.B,a.Jd)):d.push(new Xl(c,a,b));return d};Yl.prototype.i=function(a){throw Error("Key cannot be obtained for record of type "+a.B);};function Zl(a){H.call(this);this.k=a}F(Zl,Yl);Zl.prototype.e=function(){return["document"]};function $l(a,b,c){return new ai(b,c,!0,a.k[c])}Zl.prototype.g=function(a){var b=Zl.G.g.call(this,a,"lastModifiedClientTimestamp lastWarmStartedTimestamp ic odocid relevancyRank rev rai snapshotProtocolNumber".split(" ")),c=ci(a);if(!this.k[c])throw Error("No adapter found for this type: "+c);if(a.ya)a=[];else if(c=new nh,oh(a.g,c),c.L())a=[];else{var d=c.g;a=[new sh(bi(a),ci(a),ph(c),d)]}return b.concat(a)};
Zl.prototype.i=function(a){return bi(a)};function am(a,b){Oh.call(this,"applicationMetadata",b);S(this,"dt",a);this.i=[]}F(am,Oh);am.prototype.g=!1;am.prototype.rb=function(){am.G.rb.call(this);this.g=!1};am.prototype.sa=function(){return this.g||am.G.sa.call(this)};function bm(a,b,c){Xl.call(this,a,b,void 0,"update-application-metadata");this.j=c}F(bm,Xl);function cm(a){H.call(this);this.n=a}F(cm,Yl);cm.prototype.e=function(){return["applicationMetadata"]};cm.prototype.i=function(a){return a.e.dt};cm.prototype.g=function(a){var b=this.i(a);return[new bm(b,a,a.g?a.i.concat():null)]};function dm(a,b,c,d,e){Oh.call(this,"documentEntity",e);S(this,"entityId",a);S(this,"documentId",b);S(this,"entityType",c);S(this,"data",d)}F(dm,Oh);dm.prototype.getData=function(){return Rh(this,"data")};function em(){H.call(this)}F(em,Yl);em.prototype.e=function(){return["documentEntity"]};em.prototype.i=function(a){return[a.e.documentId,a.e.entityType,a.e.entityId]};function fm(){H.call(this)}F(fm,Yl);fm.prototype.e=function(){return[]};function gm(a,b){this.e="document-lock";this.g=a;this.i=b}F(gm,qh);function hm(a,b){Sd.call(this,"m",b)}F(hm,Sd);function im(){};function jm(){H.call(this)}F(jm,Yl);jm.prototype.e=function(){return[]};function km(a,b,c,d,e,f,g,l,k){Oh.call(this,"blobMetadata",k);S(S(S(S(S(S(S(S(this,"d",a),"p",b),"u",c),"ou",d),"f",e),"c",f),"s",g),"oc",l);this.g=Yi();this.i=Yi();"awaiting-original-url"!=g&&V(this.i,d);"failed"==g?this.g.errback():c&&V(this.g,c)}F(km,Oh);var lm=["c","oc","ou","u"];q=km.prototype;q.qa=function(){return this.e.p};q.getUrl=function(){return Uh(this,"u")};q.getFileName=function(){return this.e.f};q.tb=function(){return Uh(this,"c")};q.aa=function(){return this.e.s};
function mm(a,b){S(a,"s",b);"awaiting-original-url"==b||1!=a.i.e||V(a.i,Uh(a,"ou"));"failed"!=b||1!=a.g.e||a.g.errback()}q.ub=function(){return new Ih(this.e.d,2)};q.cb=function(a){return this==a?!0:this.qa()==a.qa()&&this.getUrl()==a.getUrl()&&Uh(this,"ou")==Uh(a,"ou")&&this.getFileName()==a.getFileName()&&this.tb()==a.tb()&&this.aa()==a.aa()&&Uh(this,"oc")==Uh(a,"oc")};function nm(){H.call(this)}F(nm,Yl);nm.prototype.e=function(){return["blobMetadata"]};nm.prototype.g=function(a){return nm.G.g.call(this,a,lm)};nm.prototype.i=function(a){return[a.e.d,a.qa()]};function om(a){Xl.call(this,pl(a),a,ol,"pq-clear")}F(om,Xl);function pm(a){Xl.call(this,pl(a),a,ol,"pq-clear-sent-bundle");if(a.j)throw Error("The queue is in a state that does not allow commands");this.j=0<a.g.length||1<a.i.length}F(pm,Xl);function qm(a){Xl.call(this,pl(a),a,ol,"pq-clear-sent")}F(qm,Xl);function rm(a,b){this.e="pq-delete-commands";this.g=a;this.i=b}F(rm,qh);function sm(a){Xl.call(this,pl(a),a,ol,"pq-mark-sent");this.j=[];this.l=!1;var b=a.k;if(7==a.Ea){this.l=!0;a=a.jb;for(var c=0;c<a.length;c++)b++,this.j.push(new tm(a[c].Ja,a[c].getRequestId(),b))}else this.j.push(new tm(a.ra?a.ra.sessionId:null,a.ra?a.ra.requestId:null,b))}F(sm,Xl);function tm(a,b,c){this.sessionId=a;this.requestId=b;this.lastEntryIndex=c};function um(a,b,c){this.e="pq-write-commands";this.j=a;this.i=b;this.g=c}F(um,qh);um.prototype.pa=n("i");function vm(a,b){this.k=a;this.g=b}vm.prototype.e=function(){return["pendingQueue"]};vm.prototype.i=function(a){return pl(a)};function wm(a,b){if(a=a.k[b])return a;throw Error("No document adapter available for type "+b);}
vm.prototype.l=function(a){if(a.ya)throw Error("Cannot delete pending queues.");wm(this,a.e.documentType);var b=a.Ea,c=[];switch(b){case 7:b=pl(a);var d=a.k,e=a.jb;c=[];for(var f,g=0;g<e.length;g++){d++;f=xm(this,e[g].pa(),pl(a),d,!0);if(!f)throw Error("Unexpected null operation");c.push(f)}d=a.k+c.length;e=a.kb?a.kb:[];f=[];g=[];for(var l=0;l<e.length;l++){var k=xm(this,e[l].pa(),b,d+1);k&&(g.push(k),f.push(new ym(e[l].getRequestId(),e[l].Ja,d+1)),d++)}tl(a,zm(f));c.push(new sm(a));Za(c,g);0<=a.k&&
c.push(new rm(b,a.k));break;case 1:c=a.k+1;d=pl(a);b=[];e=a.Bb;g=a.ra?a.ra.requestId:null;l=a.ra?a.ra.sessionId:null;f=Am(Qh(a,"unsentBundleMetadata"));if(null===g||null===l){if(!f.length)throw Error("Bundles and metadata do not match!");g=f[f.length-1];f[f.length-1]=new ym(g.requestId,g.sessionId,c)}else f.push(new ym(g,l,c));e&&tl(a,zm(f));vb(a.l)||b.push(new Xl(d,a,ol));(a=xm(this,e,d,c))&&b.push(a);c=b;break;case 5:tl(a,null);c.push(new sm(a));break;case 2:tl(a,null);c.push(new om(a));break;case 3:c.push(new qm(a));
break;case 4:c.push(new pm(a));break;case 6:c.push(new Xl(pl(a),a,ol));break;default:throw Error("Unknown Pending Queue operation type: "+b);}return c};function xm(a,b,c,d,e){if(!(e||b&&0!=b.length))return null;e=[];if(b){for(var f="",g=0;g<b.length;g++){var l=mk(b[g]);e.push(l);f+=Zg(l.toString())}0<f.length&&a.g.V(Error("Serializing commands containing malformed surrogate characters"),{command_malformedText:f})}return new um(c,e,d)}
function Am(a){if(!a)return[];for(var b=[],c=0;c<a.length;c++)b.push(new ym(a[c].rid,a[c].sid,a[c].lei));return b}function zm(a){if(!a.length)return null;for(var b=[],c=0;c<a.length;c++){var d=a[c],e={};e.rid=d.requestId;e.sid=d.sessionId;e.lei=d.lastEntryIndex;b.push(e)}return b}function ym(a,b,c){this.requestId=a;this.sessionId=b;this.lastEntryIndex=c};function Bm(){H.call(this);this.n={};this.H=new P;I(this,this.H)}F(Bm,H);function Cm(a,b){for(var c=b.e(),d=0;d<c.length;d++){var e=c[d];if(a.n[e])throw Error("Record type "+e+"already handled by another capability.");a.n[e]=b}}q=Bm.prototype;q.ed=aa(null);q.Mb=aa(null);q.kc=aa(null);q.$a=aa(null);q.jc=aa(null);q.ab=aa(null);function Dm(a,b,c){Oh.call(this,"syncObject",a);S(this,"keyPath",b);S(this,"state",c)}F(Dm,Oh);Dm.prototype.getData=function(){return this.e.data};function Em(a){a=Qh(a,"state");if(!a)throw Error("SyncObject not allowed to have null state.");return a};function Fm(){H.call(this)}F(Fm,Yl);Fm.prototype.e=function(){return["syncObject"]};Fm.prototype.i=function(a){return Xh(a)};function Gm(a,b,c,d){this.e="append-template-commands";this.k=a;this.g=b;this.i=c;this.j=d}F(Gm,qh);function Hm(){H.call(this)}F(Hm,H);function Im(a,b,c,d,e,f,g,l,k,p,r,u,w,B,z,y,N){Oh.call(this,"templateMetadata",N);S(this,"id",a);S(this,"title",b);S(this,"style",c);S(this,"category",d);S(this,"locale",e);S(this,"creator",f);S(this,"thumbnailUrl",g);S(this,"documentType",l);S(this,"lastModifiedTimestamp",k);S(this,"fontFamilies",p);S(this,"brandedAuthor",r);S(this,"brandedUrl",u);S(this,"masterTemplate",w);R(this,"isThumbnailReady",B);R(this,"isReady",z);R(this,"isDirty",y)}F(Im,Oh);function Jm(a){H.call(this);this.n=a}F(Jm,Yl);Jm.prototype.e=function(){return["templateCreationMetadata","templateMetadata"]};Jm.prototype.i=function(a){return"templateCreationMetadata"==a.B?[a.i()]:[a.e.id]};Jm.prototype.g=function(a){var b=Jm.G.g.call(this,a);if("templateCreationMetadata"==a.B){Km(this,a.g());var c=ph(a.j());b=b.concat(a.ya||0==c.length?[]:[new Gm(a.i(),a.g(),c,!0)])}return b};function Km(a,b){a=a.n[b];if(!a)throw Error("No adapter found for this type: "+b);return a};function Lm(a,b){Oh.call(this,"user",b);S(this,"id",a);R(this,"fastTrack",!0)}F(Lm,Oh);function Mm(){H.call(this)}F(Mm,Yl);Mm.prototype.e=function(){return["user"]};function Nm(a){var b=Yi();jk(a,function(a){return V(b,a)});return Si(b,function(a){if(1>a.length)throw new xh("Expected an offline user in localstore");return a[0]})}Mm.prototype.g=function(a,b){if(a.ya)throw Error("User deletion is not implemented.");return Mm.G.g.call(this,a,b)};Mm.prototype.i=function(a){return a.e.id};function Om(a,b,c,d,e,f,g){Oh.call(this,"fontMetadata",g);this.g=a;this.i=b;b="latin"==b?a:a+"|"+b;a=O(M(),"docs-ofmpp");c=R(R(S(S(this,"fontFamily",b),"version",c),"domainFont",d),"inkedSpace",e);d=[];for(e=0;e<f.length;e++){b=f[e];var l=b.e;g=[];for(var k=0;k<l.length;k++){var p=l[k],r={};r.format=p.e;r.isSystemFont=p.i;r.url=p.g;g.push(r)}l=Pm;k={};k[l.Zb]=b.g;k[l.qb]=b.k;k[l.$b]=b.i;k[l.Od]=g;k[l.bc]=b.j;k[l.dc]=b.q;d.push(k)}S(c,"fontFaces",d,a)}F(Om,Oh);Om.prototype.getFontFamily=n("g");
Om.prototype.M=n("i");Om.prototype.vb=function(){for(var a=this.e.fontFaces,b=[],c=0;c<a.length;c++){for(var d=a[c],e=[],f=d.source,g=0;g<f.length;g++){var l=f[g];e.push(new Qm(l.format,l.isSystemFont,l.url))}f=Pm;b.push(new Rm(d[f.Zb],x(d[f.qb])?d[f.qb]:"latin",d[f.$b],d[f.bc],d[f.dc],e))}return b};function Rm(a,b,c,d,e,f){this.g=a;this.k=b;this.i=c;this.j=d;this.q=e;this.e=f}var Pm={Zb:"fontFamily",qb:"subset",$b:"isMenuFont",Od:"source",bc:"style",dc:"weight"};Rm.prototype.getFontFamily=n("g");
Rm.prototype.M=n("k");function Qm(a,b,c){this.e=a;this.i=b;this.g=c}Qm.prototype.eb=n("e");Qm.prototype.getUrl=n("g");function Sm(a){a=a.split("|");return new Tm(a[0],1<a.length?a[1]:"latin")}function Tm(a,b){this.e=a;this.g=b};function Um(a){a=Sm(a);this.i=a.e;this.j=a.g;this.e=null}
Um.prototype.get=function(){if(!this.e){var a=this.g,b=X(a,"fontFamily"),c=X(a,"version"),d=!!X(a,"domainFont"),e=!!X(a,"inkedSpace");a=Vm(X(a,"fontFaces"));for(var f=0;f<a.length;f+=1);f=Sm(b);b=f.e;f=f.g;for(var g=[],l=0,k;k=a[l];l++){for(var p=k.source,r=[],u=0,w;w=p[u];u++)r.push(new Qm(w.format,w.isSystemFont,w.url));p=Pm;g.push(new Rm(k[p.Zb],x(k[p.qb])?k[p.qb]:"latin",k[p.$b],k[p.bc],k[p.dc],r))}c=new Om(b,f,c,d,e,g,!1);c.q=!1;this.g=null;this.e=c}return this.e};
Um.prototype.getFontFamily=n("i");Um.prototype.M=n("j");function Wm(){H.call(this)}F(Wm,Yl);Wm.prototype.e=function(){return["fontMetadata"]};Wm.prototype.i=function(a){return a.e.fontFamily};function Xm(a){H.call(this);this.e=a;this.i=new P;I(this,this.i);this.g=!1}F(Xm,H);Xm.prototype.ka=function(a,b,c){if(!this.g)throw Error("Cannot write to read-only local store.");var d=Ym(a);a=Zm(this,a);0==a.length?b():$m(this.e,a,D(function(){Q(this.i,d);b()},this),c)};function Ym(a){for(var b=[],c=0;c<a.length;c++)b.push(new im);return new hm(b)}
function Zm(a,b){for(var c=[],d=null,e=0;e<b.length;e++){var f=b[e];if(f.sa()||f.ya){var g=a.e.n[f.B]||null;if(g){g=g.l(f);c=c.concat(g);if((g=f.ub())&&d){if(d.e!=g.e)throw Error("Cannot compare two requirements with different doc id.");d=d.g>g.g?d:g}else d=d||g;f.rb();f.sa()}else throw Error("No Capability for record :"+f.B);}}d&&c.unshift(new gm(d.e,d.g));return c};function an(a,b,c){this.e=a;this.g=b;this.i=c}function bn(a,b,c){cn(a.i.e.g,a.e,D(a.j,a,b),c)}an.prototype.j=function(a,b){b?a(b):a(new nl(this.e,this.g,!0,-1,[],[]))};function dn(a,b,c){this.g=a;this.e=b;this.i=c}dn.prototype.Q=n("g");function en(a,b){H.call(this);this.K=a;this.i=b;this.l=null;this.D=-1;this.N=new P;I(this,this.N);this.X=new P;I(this,this.X);this.J=new P;I(this,this.J);this.w=new P;I(this,this.w);this.S=new P;I(this,this.S);this.Y=new P;I(this,this.Y);this.v=new P;I(this,this.v);this.o=new P;I(this,this.o);this.Aa=new P;I(this,this.Aa);this.ha=new P;I(this,this.ha);this.ga=new P;I(this,this.ga)}F(en,H);q=en.prototype;q.qd=!1;q.Hb=!1;function fn(a){a.l=null;sl(a.e,null)}
q.pa=function(){for(var a=zl(this.e),b=[],c=0;c<a.length;c++)Za(b,a[c].pa());Za(b,Bl(this.e));return b};q.L=function(){return!gn(this)&&!(Pk(this.e)&&this.j)};function zk(a){return gn(a)&&!Fk(a)}function hn(a){Gk(a);return a.e.Q()}
function Ak(a){Gk(a);var b=Bl(a.e).length,c=x(void 0)?void 0:b;if(0>c||c>b)throw Error("Invalid number of unsent commands requested for dequeue");b=Yi();if(gn(a)){var d=b;a.K&&(b=Si(b,function(b){for(var c=b.Q(),d=b.e,e=[],k=0;k<d.length;k++){var p=d[k],r=a.K.e(p.pa());e[k]=r?new ml(r,p.getRequestId(),p.Ja):p}return new dn(c,e,b.i)}));jn(a,c,d)}else V(b,new dn(hn(a),[],a.l)),a.l=null;return b}function kn(a){a.Hb||(a.Hb=!0,Q(a.Y,null))}
function ln(a){a.Hb=!1;var b=Yi();a.i.V(Error("Pending queue cleared from mobilenative.LocalStorePendingQueueClearer"));a.j=!1;a.A=!1;null!==Ik(a.e)?bj(Nl(a.g),b):(Nk(a.g),Ok(a.g,1),xl(a.e),bj(mn(a,!0),b));a.l=null;Q(a.S,null);a.L()&&Q(a.w,null);return b}function Gk(a){if(!a.qd)throw Error("Attempting to use an uninitialized queue.");}q.fc=n("Hb");function Rk(a){var b=Yi();Fk(a)?V(b,null):(ql(a.e,!0),Ok(a.g,0,!a.A),bj(mn(a),b));Q(a.J,null);return b}
function Qk(a,b){b=nn(a,b);Qi(b,function(){Q(a.X,null)})};function on(a,b,c,d,e,f,g,l,k,p,r,u,w){en.call(this,g,e);this.g=a;this.za=c;this.P=f;this.n=Yi();this.e=b;this.k=l;this.A=this.j=!1;this.H={};this.oa=u;this.F=!1;this.e?(Ml(this.g,this.e),V(this.n,this)):bn(new an(k,p,d),D(this.na,this,w),D(this.la,this));Qi(this.g.Ta,function(){this.e&&!this.e.L()&&Q(this.v,null)}.bind(this))}t(on,en);on.prototype.na=function(a,b){a&&a.g("pqr");this.e=b;Ml(this.g,b);V(this.n,this)};on.prototype.la=function(a){this.n.errback(a);this.P(a)};
function mn(a,b){var c=null;c=(void 0===b?0:b)?Il(a.g):Fl(a.g,!0);Ri(c,function(b){return a.P(b)});return c}
function jn(a,b,c){if(Cl(a.e)){if(Pk(a.e)&&a.j&&null===Th(a.e,"sentBundlesSavedRevision"))throw Error("Dequeue should not be called before the previous sent bundles are marked as saved on the server");if(0<b){var d=Bl(a.e);if(b==d.length)ul(a.e);else{if(1!=b)throw Error("Num unsent can only be 1");throw Error("When requesting to send a single command it has to be null");}}}a.j=!0;b=zl(a.e).concat();kn(a);d=null;Cl(a.e)||(d=a.l,fn(a));var e=new dn(hn(a),b,d);ti(mn(a),function(){V(c,e)},D(c.errback,
c))}on.prototype.fc=function(){return en.prototype.fc.call(this)||!this.e.L()};function gn(a){return Cl(a.e)||!a.j&&Pk(a.e)}function Hk(a){var b=a.k,c;!(c=a.D>a.e.Q())&&(c=null!==b)&&(a=Th(a.e,"accessLevel"),a=null===a?3:a,b=ll(b),a=ll(a),c=b!=a);return c}function Fk(a){var b=a.g.e;b=b?pi(b):null;null===b?(a=a.e,a=!a.j&&(null==Rh(a,"undeliverable")?!1:""!=a.e.undeliverable)):a=0==b;return a}function nn(a,b){if(!Pk(a.e))return $i(null);rl(a.e,b);Cl(a.e)||Ok(a.g,3,!a.F);return mn(a)}
function pn(a){var b=a.i;b.g.pendingQueue_startedEmpty=a.F.toString();qn(b,"pendingQueue_startedAnachronistic",Hk(a).toString());b.g.pendingQueue_initialRevision=a.e.Q().toString();b.g.pendingQueue_initialModelRevision=a.D.toString();qn(b,"pendingQueue_initialBundleInfo",rn(a));var c=a.g.e;b.g.localStoreDoc_id=bi(c);var d=c?pi(c):null;b.g.pendingQueue_initialState=null===d?"null":d.toString();sn(b,"pendingQueue_isEmpty",function(){return this.e.L().toString()}.bind(a));sn(b,"pendingQueue_revision",
function(){return this.e.Q().toString()}.bind(a));sn(b,"pendingQueue_hasDequeued",function(){return this.j.toString()}.bind(a));sn(b,"pendingQueue_hasEnqueued",function(){return this.A.toString()}.bind(a));sn(b,"pendingQueue_bundleInfo",function(){return rn(this)}.bind(a));sn(b,"pendingQueue_isPersistent",function(){return(!0).toString()}.bind(a));sn(b,"pendingQueue_isAnachronistic",function(){return Hk(this).toString()}.bind(a));sn(b,"localStoreDoc_revision",function(){return c.Q().toString()}.bind(a));
sn(b,"localStoreDoc_isCreated",function(){return(!Vh(c,"inc")).toString()}.bind(a));sn(b,"localStoreDoc_isPendingCreation",function(){return(!!Vh(c,"pendingCreation")).toString()}.bind(a));sn(b,"localStoreDoc_lastModifiedClientTimestamp",function(){return Sh(c,"lastModifiedClientTimestamp").toString()}.bind(a));sn(b,"localStoreDoc_lastModifiedServerTimestamp",function(){return Sh(c,"lastModifiedServerTimestamp").toString()}.bind(a))}
function rn(a){var b="",c=zl(a.e);a=c.concat(Al(a.e));for(var d=0;d<a.length;d++){var e=d<c.length?"sent":"unsent";e={sid:a[d].Ja,rid:a[d].getRequestId(),type:e};b+=JSON.stringify(e)+"\n"}return b};function tn(a,b,c,d,e,f,g,l){return c.e.g?(new on(a,null,b,c,d,e,null,null,f,g,l,null,null)).n:null};function un(){};function vn(){};function wn(){};function xn(){};function yn(){};function zn(){K.call(this);this.w=new P;I(this,this.w);this.S=new P;I(this,this.S);this.K=new P;I(this,this.K);this.H=new P;I(this,this.H);this.l=new P;I(this,this.l);this.N=new P;I(this,this.N);this.oa=new P;I(this,this.oa)}F(zn,K);function An(a,b){this.e=a;this.message=b};function Bn(a,b,c,d,e,f,g,l,k,p,r){zn.call(this);this.A=a;this.Y=b;this.e=c;this.F=d||null;this.D=e||null;this.na=f||{};this.o=0;this.v=this.k=null;this.X=!!g;this.la=!!l;this.g=k||null;this.n=p||null;this.P=r||null;this.j=new P;I(this,this.j)}F(Bn,zn);
function Cn(a,b){if(!a.g||!a.g.e())if(b)if(0==a.o&&!a.k||!a.X&&a.o!=a.k.F)Q(a.j,new An(1,"Missing chunks"));else if(a.e){b=a.e;var c=a.k.o;if(b.e&&b.oa){if(b.k)throw Error("Cannot process startup hints twice for the same document.");b.k=vj(b.oa,b.e,c);b.n=null}else if(b.oa){if(b.n)throw Error("Startup hints were already set.");b.n=c}if((b=a.k.w)&&a.D&&a.F){c=a.D;var d=a.A,e={},f=[];for(g in b)c.e(d,g,b[g],e,f);a.e.Qa=f;var g=wb(e);zb(g,a.na);b=D(a.ha,a);Dn(a.F.e,g,["documents",a.A],!0,b)}else Q(a.l,
null)}else Q(a.l,null);else Q(a.j,new An(3,"Document not accessible"))}Bn.prototype.ha=function(a){0<a.ob||0<a.Za?Q(this.j,new An(2,"File sync failed")):Q(this.l,null)};function En(){}En.prototype.stringify=function(a){return v.JSON.stringify(a,void 0)};En.prototype.parse=function(a){return v.JSON.parse(a,void 0)};var Fn=new En;function Gn(a,b){b=(void 0===b?null:b)||Fn;return a&&b.parse(a.replace(/^[^[{]+/,""))||null};function Hn(a,b,c,d,e){this.k=a;this.B=b;this.g=c;this.j=d;this.q=e;this.e=0;this.i=null}
function In(a,b){a.i&&(Af.clearTimeout(a.i),a.i=null);for(var c=a.k();;){if(0==a.e)if(c&&5<=c.length)if(0==c.lastIndexOf(")]}'\n",0))a.e+=5;else{a.g("Safety prefix not present.");break}else break;if(5==a.e)if(c.length>=a.e+2)if("0&"==c.substring(a.e,a.e+2))a.e+=2;else{a.g("Chunked version marker not present.");break}else break;var d=c.indexOf("&",a.e);if(0>d){b&&a.j();break}var e=+c.substring(a.e,d);if(isNaN(e)){a.g("Invalid chunk size.");break}e=e+d+1;if(c.length<e)break;a.e=e;d=c.substring(d+1,
e);try{var f=Gn(d)}catch(g){a.g("Error parsing chunk.");break}if(f)a.B(f);else{a.g("Received a blank chunk.");break}if(!a.q){a.i=Df(D(a.l,a,b));break}}}Hn.prototype.l=function(a){this.i=null;In(this,a)};function Jn(a,b,c){this.e=a;this.g=b;this.i=c};function Kn(a,b,c,d,e,f,g,l,k,p,r,u,w,B,z,y,N,oa){this.n=a;this.I=b;this.B=c;this.j=d;this.e=e;this.g=f;this.o=g;this.w=l;this.v=k;this.k=p;this.l=r;this.D=u;this.A=w;this.q=B;this.i=x(z)?z:null;this.F=x(oa)?oa:null;this.H=y;this.J=N}Kn.prototype.Q=n("n");function Ln(a,b,c,d,e,f){this.n=a;this.j=b;this.I=d;this.l=e;this.g=this.k=0;this.q=new Hn(this.n,D(this.o,this),D(this.B,this),D(this.v,this),c);this.e=!1;this.i=f||null}
Ln.prototype.o=function(a){if(0==this.k){this.i&&Ah(this.i,"mmr",this.g);var b=a.me,c=b.rat;var d=new Kn(a.r,c?new Zh(c):null,a.mv,a.fv,b.al,b.dkd,b.sh,a.eo,b.t,!!b.ft,b.js,b.lm,!!b.d,!!b.sd,b.defe||null,a.slm||null,a.spd||null,a.mc);b=this.j;a=E();b.k=d;var e=d.Q();b.v=e;var f=d.I,g=d.B,l=d.j;Q(b.K,new wn);if(!b.g||!b.g.e()){var k=d.e;c=d.g;Q(b.w,new un);Q(b.S,new yn);Q(b.H,new vn);if(b.n){var p=d.H;if(p){var r=b.n,u;for(u in p)Ah(r,u,p[u])}}b.P&&(u=d.J)&&b.P.e(u);if(b.e){var w=d.k;p=d.l;u=d.D;var B=
d.A,z=d.q;r=d.i;var y=b.e;d=d.v;y.e?(S(y.e,"title",d),y.P=null):y.P=d;d=b.e;d.e?(R(d.e,"isFastTrack",w),d.F=null):d.F=w;d=b.e;(w=d.e)?(R(w,"ind",!B),d.S=null):d.S=B;d=b.e;(B=d.e)?(R(B,"isd",z),d.H=null):d.H=z;z=b.e;z.e?(S(z.e,"defe",r),z.Aa=null,z.db=!1):(z.Aa=r,z.db=!0);p&&(r=b.e,r.e?(S(r.e,"jobset",p),r.J=null):r.J=p);u&&(p=b.e,null!=u&&(p.e?(ei(p.e,u),p.Y=0):p.Y=u));u=b.e;u.e?(ji(u.e,g),u.K=null):u.K=g;g=b.e;g.e?(ki(g.e,l),g.A=null):g.A=l;l=b.e;l.j&&di(l.e,e,f);l.N=e;l.ud=f;b.la||Pl(b.e);e=Number(k);
isNaN(e)||(f=b.e,(k=f.e)?Yh(k,"acl",f.Jc,e):f.za=e);c&&(e=b.e,e.e?(fi(e.e,c),e.l=null):e.l=c)}b.n&&Ah(b.n,"mml",E()-a)}}else if(1==this.k&&this.i&&Ah(this.i,"fmpdr",this.g),b=this.j,f=new Jn(a.si,a.sci,a.sc),!b.g||!b.g.e()){if(null==b.v)throw Error("Revision was not defined");k=b.Y;e=b.v;a=b.e||void 0;l=f.e;l=(c=""==l)?k.e:k.g+l;k=f.g;E();f=Qg(f.i);E();if(a)if(e=new Tg(e,f,l,k),c=c&&0==k,a.v)!a.w||a.i.log(Error("If the proxy has been discarded, the command queue must be null"));else{if(e.Q()!=El(a))throw Error("Expected batch revision of "+
El(a)+", but got "+e.Q());a=a.w;c&&(a.e=[],a.g=!0);a.e.push(e)}Q(b.N,new xn);b.o++}this.k++};Ln.prototype.B=function(){this.e=!0;this.I()};Ln.prototype.v=function(){this.e||(Cn(this.j,!0),this.l())};function Mn(a,b,c){switch(a){case 3:var d="Request returns too much data";break;case 2:d="Missing chunks";break;default:d="Unknown server error"}b&&(d+=": "+b);Ia.call(this,d);this.e=a;this.g=!!c}F(Mn,Ia);Mn.prototype.docs_permanent_error_checker_817115=!0;Mn.prototype.Fc=n("g");function Nn(a){this.e=a?wb(a):{};this.g=null}function On(){var a=M().get("info_params");A(a)?a=JSON.parse(a):(a=M(),a=Lg(a,"info_params"));return new Nn(a)};function Pn(a){K.call(this);this.P=new Pb;this.A=a||null;this.g=!1;this.w=this.e=null;this.H="";this.j=0;this.k=this.F=this.o=this.D=!1;this.n=0;this.v=null;this.l="";this.K=this.N=!1}F(Pn,K);var Qn=/^https?$/i,Rn=["POST","PUT"],Sn=[];q=Pn.prototype;q.Rd=function(){this.Z();Va(Sn,this)};
q.R=function(a,b,c,d){if(this.e)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+a);b=b?b.toUpperCase():"GET";this.H=a;this.j=0;this.D=!1;this.g=!0;this.e=this.A?this.A.g():La.g();this.w=this.A?Ka(this.A):Ka(La);this.e.ib=D(this.wd,this);try{this.F=!0,this.e.open(b,String(a),!0),this.F=!1}catch(f){Tn(this);return}a=c||"";var e=this.P.T();d&&Vb(d,function(a,b){e.set(b,a)});d=Ta(e.ma());c=v.FormData&&a instanceof v.FormData;!(0<=Oa(Rn,b))||d||c||e.set("Content-Type",
"application/x-www-form-urlencoded;charset=utf-8");e.forEach(function(a,b){this.e.Id(b,a)},this);this.l&&(this.e.Zf=this.l);"withCredentials"in this.e&&this.e.jf!==this.N&&(this.e.jf=this.N);try{Un(this),0<this.n&&((this.K=Vn(this.e))?(this.e.timeout=this.n,this.e.ontimeout=D(this.ld,this)):this.v=Df(this.ld,this.n,this)),this.o=!0,this.e.R(a),this.o=!1}catch(f){Tn(this)}};function Vn(a){return Nc&&bd(9)&&pa(a.timeout)&&x(a.ontimeout)}function Ua(a){return"content-type"==a.toLowerCase()}
q.ld=function(){"undefined"!=typeof goog&&this.e&&(this.j=8,se(this,"timeout"),this.Ga(8))};function Tn(a){a.g=!1;a.e&&(a.k=!0,a.e.Ga(),a.k=!1);a.j=5;Wn(a);Xn(a)}function Wn(a){a.D||(a.D=!0,se(a,"complete"),se(a,"error"))}q.Ga=function(a){this.e&&this.g&&(this.g=!1,this.k=!0,this.e.Ga(),this.k=!1,this.j=a||7,se(this,"complete"),se(this,"abort"),Xn(this))};q.z=function(){this.e&&(this.g&&(this.g=!1,this.k=!0,this.e.Ga(),this.k=!1),Xn(this,!0));Pn.G.z.call(this)};
q.wd=function(){this.q()||(this.F||this.o||this.k?Yn(this):this.Lc())};q.Lc=function(){Yn(this)};function Yn(a){if(a.g&&"undefined"!=typeof goog&&(!a.w[1]||4!=Zn(a)||2!=a.aa()))if(a.o&&4==Zn(a))Df(a.wd,0,a);else if(se(a,"readystatechange"),4==Zn(a)){a.g=!1;try{$n(a)?(se(a,"complete"),se(a,"success")):(a.j=6,Wn(a))}finally{Xn(a)}}}function Xn(a,b){if(a.e){Un(a);var c=a.e,d=a.w[0]?ta:null;a.e=null;a.w=null;b||se(a,"ready");try{c.ib=d}catch(e){}}}
function Un(a){a.e&&a.K&&(a.e.ontimeout=null);a.v&&(Af.clearTimeout(a.v),a.v=null)}function $n(a){var b=a.aa();a:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break a;default:c=!1}if(!c){if(b=0===b)a=String(a.H).match(Xb)[1]||null,!a&&v.Oc&&v.Oc.location&&(a=v.Oc.location.Wb,a=a.substr(0,a.length-1)),b=!Qn.test(a?a.toLowerCase():"");c=b}return c}function Zn(a){return a.e?a.e.ta:0}q.aa=function(){try{return 2<Zn(this)?this.e.Qc:-1}catch(a){return-1}};
function ao(a){try{return a.e?a.e.Db:""}catch(b){return""}}function bo(a){try{if(!a.e)return null;if("response"in a.e)return a.e.Fd;switch(a.l){case "":case "text":return a.e.Db;case "arraybuffer":if("mozResponseArrayBuffer"in a.e)return a.e.Of}return null}catch(b){return null}}q.Rb=function(a){if(this.e&&4==Zn(this))return a=this.e.Rb(a),null===a?void 0:a};q.Qb=function(){return this.e&&4==Zn(this)?this.e.Qb()||"":""};Ld(function(a){Pn.prototype.Lc=a(Pn.prototype.Lc)});function co(a,b,c,d,e,f,g,l,k,p,r,u,w,B,z,y,N){H.call(this);this.J=a;this.D=b;this.k=d;this.i=new uk(this);this.j=x(w)?w:null;this.n=l;this.H=k;this.l=r;this.A=p;this.o=B||null;if(null!=this.j&&!this.o)throw Error("Must supply revision HMAC when fetching at revision.");this.v=z||null;this.F=g;this.K=On();a=pa(y)?y:6E4;this.e=u?u():new Pn;this.g="";0<a&&(this.e.n=Math.max(0,a));this.N=e;this.i.ia(this.e,"readystatechange",this.lf);this.i.ia(this.e,"complete",this.kf);e=D(this.be,this);u=D(this.Ud,
this);a=D(this.Z,this);this.w=new Ln(e,c,f,u,a,N)}F(co,H);q=co.prototype;q.lf=function(){if(!this.q())if(null!==this.n&&ao(this.e).length>this.n){J(this.e);var a=new Mn(3,void 0,!0);this.k(a);this.Z()}else this.N&&3==Zn(this.e)&&$n(this.e)&&200==this.e.aa()&&(this.g=ao(this.e),a=this.w,a.g=E(),a.e||In(a.q,!1))};
q.kf=function(){if(!this.q()){this.g=ao(this.e);var a=this.w,b=this.e.aa(),c="last error code: "+this.e.j;a.e||(404==b||410==b||403==b?(Cn(a.j,!1),a.l()):200!=b?(b="Model XHR failed with status: "+b,c&&(b+=", "+c),a.B(b)):(a.g=E(),a.e||In(a.q,!0)))}};
q.Ud=function(){var a=this.e.aa(),b=this.e.j;a:{if(6==b){if(202==a||401==a||403==a||409==a||421==a||429==a||500<=a&&599>=a&&503!=a&&550!=a||0>=a||405==a||503==a){var c=!1;break a}if(400<=a&&499>=a||550==a){c=!0;break a}}c=!1}var d=new Mn(1,void 0,c);if(6==b&&a)switch(a){case 413:d=new Mn(3,a.toString(),!0);break;default:d=new Mn(1,a.toString(),c)}this.k(d);this.Z()};q.be=n("g");q.z=function(){delete this.g;J(this.i);J(this.e);co.G.z.call(this)};function eo(a,b,c,d){H.call(this);this.j=a;this.k=b;this.l=c;this.i=d||null;this.e=0;this.g=new P;I(this,this.g)}F(eo,H);function fo(a,b){a.e++;a.k.ka(b,D(a.n,a),a.i||void 0)}eo.prototype.n=function(){this.e--;0==this.e&&Q(this.g,null)};function go(){};Fa(h().prototype,Md.prototype);function ho(a,b,c){var d=this;H.call(this);this.k=b;this.A=c;this.e={};this.g={};this.j={};this.i={};this.l={};for(b=0;b<a.length;b++)io(this,a[b]);a=new Fj;I(this,a);Gj(a,this.k.g,function(){qk(d)||Q(d.n,null)});this.n=new P;I(this,this.n);this.o=new P;I(this,this.o);this.w=new P;I(this,this.w);this.v=new P;I(this,this.v)}F(ho,H);ho.prototype.add=function(a){io(this,a);fo(this.k,[a]);Q(this.o,null)};
function io(a,b){var c=b.qa(),d=b.tb(),e=Uh(b,"oc");if(a.i[c]||d&&a.i[d]||e&&a.i[e])throw Error("Adding existing blob metadata.");a.i[c]=b;d&&(a.i[d]=b);e&&(a.i[e]=b);switch(b.aa()){case "awaiting-original-url":case "pending":a.e[c]=b;break;case "saved":a.j[c]=b;a.l[c]=d;jo(a,d,c,b.aa());break;case "failed":a.j[c]=b;a.l[c]="FAILED_IMAGE_UPLOAD";break;default:throw Error("Adding unknown blob type "+b.aa());}}function qk(a){return!vb(a.e)||!vb(a.g)||0<a.k.e}
function rk(a,b,c){var d=a.g[b];if(!d)throw Error("markAsSaved for blob that was not sending.");S(d,"c",c);mm(d,"saved");a.i[c]=d;jo(a,c,b,d.aa());ko(a,d,c);Q(a.w,new go)}function sk(a,b){b=a.g[b]||a.e[b];if(!b)throw Error("markAsFailed for blob that was not in the queue.");mm(b,"failed");ko(a,b,"FAILED_IMAGE_UPLOAD");Q(a.v,new go)}function ko(a,b,c){var d=b.qa();a.j[d]=b;a.l[d]=c;a.g[d]&&delete a.g[d];a.e[d]&&delete a.e[d];fo(a.k,[b]);qk(a)||Q(a.n,null)}
function Ck(a){if(qk(a))throw Error("getResolvedBlobIdMap called when there are pending writes.");return wb(a.l)}function lo(a){var b=[];Za(b,tb(a.e));Za(b,tb(a.g));Za(b,tb(a.j));return b}function jo(a,b,c,d){0==b.indexOf("PLACEHOLDER_")&&mo(a.A,Error("Resolved Cosmo ID "+b+" for placeholder ID "+c+" is still a placeholder. Status: "+d))};function no(a,b,c,d){var e=Yi(),f=oo(b,a,d);f?po(b.e.jc(),a,function(a){V(e,new ho(a,f,c))},d):V(e,null);return e}function oo(a,b,c){var d=a.e.jc();return d?new eo(b,a,d,c):null};function qo(a){this.g=a;this.e=new En}function ro(a,b,c,d,e){if(0==b.length)throw Error("Cannot send an empty message to the server.");if(!pa(d)||0>d)throw Error("Cannot send an invalid revision number to the server: "+d);d=["rev",d];if(0<b.length){for(var f=[],g=0;g<b.length;g++)f.push(so(a.g,b[g]));d.push("bundles");d.push(a.e.stringify(f))}vb(c)||(d.push("blobIdMap"),d.push(a.e.stringify(c)));e&&(d.push("syncReason"),d.push(e));return d};function to(a,b,c){Sd.call(this,a,c);this.g=b}F(to,Sd);function uo(a,b,c){to.call(this,"c",a,c)}F(uo,to);function vo(){K.call(this)}F(vo,K);function wo(a,b,c){Sd.call(this,"d",c);this.g=a}F(wo,Sd);function xo(a,b){Sd.call(this,"n");this.i=a;this.g=b}F(xo,Sd);function yo(){H.call(this);this.e=zo;this.i=new P;I(this,this.i);this.g=new P;I(this,this.g)}F(yo,H);function Ao(a,b,c,d){var e=a.e;b!=e&&(a.e=b,Q(a.g,new xo(e,b,c,d)))}function Bo(a,b){this.g=a;this.e=b}
var zo=new Bo("IDLE",1),Co=new Bo("BUSY",1),Do=new Bo("RECOVERING",2),Eo=new Bo("OFFLINE",3),Fo=new Bo("SERVER_DOWN",3),Go=new Bo("FORBIDDEN",4),Ho=new Bo("AUTH_REQUIRED",4),Io=new Bo("SESSION_LIMIT_EXCEEDED",4),Jo=new Bo("INCOMPATIBLE_SERVER",5),Ko=new Bo("CLIENT_ERROR",5),Lo=new Bo("SAVE_ERROR",5),Mo=new Bo("BATCH_SAVE_ERROR",3);Bo.prototype.toString=n("g");function No(a,b,c,d,e,f,g,l,k){K.call(this);this.w=a;this.l=b;this.n=c;this.k=f;this.o=x(g)?g:3;this.j=k;this.v=l||Lo}F(No,vo);No.prototype.g=!1;No.prototype.e=!0;
function Bk(a,b,c,d,e){if(a.g)return!1;a.g=!0;a.e=0<b.length;b=ro(a.k,b,c,d,e);c=a.e?fb(a.v):ib;b=Oo(lj(Po(Qo(nj(oj(Ro(jj(kj(a.n,"/save"),"id",a.l),b),function(b){b=pj(b);a.g=!1;if(b&&!vb(b)){a.e=!1;var c=b.revisionRanges;if(!c||!va(c)||0>=c.length)throw Error("processCommandBatchesRequestSuccessResponse_: response did not include a non-empty array of revision ranges "+c);for(var d=[],e=-1,f=0;f<c.length;f++){var r=c[f];if(!r||2!=r.length)throw Error("processCommandBatchesRequestSuccessResponse_: invalid  revision range "+
r);var u=r[0];r=r[1];if(null==u)throw Error("processCommandBatchesRequestSuccessResponse_: range did not include a start");if(null==r)throw Error("processCommandBatchesRequestSuccessResponse_: range did not include an end");if(r<u)throw Error("processCommandBatchesRequestSuccessResponse_: expected range end ("+r+") < expected range start ("+u+")");if(u<=e||r<=e)throw Error("processCommandBatchesRequestSuccessResponse_: out of order ranges or overlapping "+c);e=r;d.push(new Yg(u,r))}se(a,new wo(d,
b.additionalInfo))}else{if(a.e)throw Error("handleCommandBatchesRequestSuccess_: Got unexpected empty response after sending command batches.");se(a,"d")}}),function(b){a.g=!1;var c=a.e;a.e=!1;se(a,new uo(b,c))}),c)),a.o));if(a.w){if(!b.I)throw Error("Cannot add session data to request when session data not defined.");b.g=fc(b.g,b.I.e())}null!=a.j&&b.setTimeout(a.j);mj(b);return!0};function So(a){this.e=a;this.g=O(M(),"docs-localstore-epqwr")}function so(a,b){var c=b.pa(),d=[];for(var e=0;e<c.length;e++)d.push(mk(c[e]));if(a.g){e={};for(var f=0;f<d.length;f++){var g=c[f].e,l=e,k=JSON.stringify(d[f]);if(k=Zg(k))l[g]||(l[g]=""),l[g]+=k}if(!vb(e)){c={};f="{";for(var p in e)f+='"'+p+'": "'+e[p]+'" ; ';c.malformedCommands=f+"}";a.e.V(Error("Malformed characters exist in command bundle after being serialized"),c)}}a={};a.commands=d;a.sid=b.Ja;a.reqId=b.getRequestId();return a};function To(a,b,c,d,e,f,g,l,k,p,r,u,w,B,z,y,N,oa,ha,Ra,sa,xa,qc,nb,pe,db,Xt,Yt){ik.call(this,a,b,bi(p));this.Oa=c;this.Sa=d;if(null==f)throw Error("Must specify a session ID in order to save changes.");this.K=e;this.Ta=f;this.J=new lk;this.la=new qo(new So(this.n));this.n=g;this.Ra=l;this.k=k;this.g=p;this.S=Yi();this.e=new Dl(g,bi(p),void 0,Yt,[this.S]);this.e.Ra=!0;a=D(this.Na,this);this.e.zd=a;this.db=Ra;this.za=sa||null;O(M(),"docos-eos");this.oa=qc||null;this.H=!!nb;this.D=new Fj;I(this,this.D);
this.v=this.l=null;this.Pa=y;this.na=ha;if(!db)throw Error("We can't deliver local changes without a blob transporter");this.ha=db||null;this.j=null;this.w=r;this.P=u;if(null!=this.w&&!this.P)throw Error("Must supply revision HMAC when syncing at revision.");this.A=w;this.Y=B;this.N=z;this.Va=pe;this.Qa=Xt||null;this.F=!1;this.Ua=N;this.Aa=oa}F(To,ik);q=To.prototype;
q.df=function(a){if(0>=a.length)this.ja(8,"Could not read local store: No opted in user.");else{var b=this.e,c=this.g;a=a[0].e.id;b.Pa=this.k;b.e=c;b.Jc=a;Ll(this.e);b=this.e;1==b.Hc.e&&(b.g&&(c=b.g,a=b.i,c.j&&(c.j=!1,a.V(Error("Clearing already saved pending queue."),{sentBundlesSavedRevision:Th(c,"sentBundlesSavedRevision"),queueRevision:c.Q()}),xl(c)),b.g.L()&&Ok(b,1)),V(b.Hc,null));Fl(this.e);b=this.o;null!=this.w?this.zb():Uo(this.k.e.v,b,D(this.ze,this),D(this.Na,this))}};
q.ze=function(a){1!=a?this.ja(3,"Unable to acquire the storage lock"):this.A?Di(Sk(this.g,this.K,this.n),D(this.pe,this),D(this.re,this)):Vh(this.g,"inc")?this.ja(11,"Skipping document because it is not known to exist on the server"):this.zb()};q.re=function(){this.ja(7,"Could not create document.")};q.pe=function(){var a=D(this.Ye,this);Vh(this.g,"inc")?(Pl(this.e),Qi(Fl(this.e),a)):a()};
q.Ye=function(){var a=this;Qi(no(this.o,this.k,this.n,D(this.Na,this)),function(b){var c=D(a.Ad,a,D(a.Sd,a),D(a.zb,a));b?(a.j=b,U((new pk(a.j,a.ha,a.n)).R(),c)):c()})};q.Ad=function(a,b){var c=this,d=tn(this.e,this.Ta,this.k,this.n,D(this.Be,this),bi(this.g),ci(this.g),this.J);d?ti(d,function(b){c.l=b;a()},function(a){a?c.Na(a):c.ja(9,"Could not retrieve pending command queue.")}):b&&b()};q.Be=h();
q.zb=function(){var a=this,b=this.o,c=new Bn(b,this.Ra,this.e,this.za||void 0,this.oa||void 0,Vo(this));Gj(this.D,c.l,function(){return Wo(a)});Gj(this.D,c.j,function(b){switch(b.e){case 1:a.od(new Mn(2));break;case 2:a.ja(2,"Entity sync failed");break;case 3:a.Y?Xo(a,!1):a.ja(13,"Server model fetch failed");break;default:a.ja(7,"Unknown server document loader error")}});var d=new co(this.Oa+"/d/"+b,this.Sa,c,D(this.od,this),!1,!0,this.N,this.Qa,this.Ua,this.na,this.Aa,this.db,null==this.w?void 0:
this.w,this.P||void 0,void 0,this.Va);this.F=!0;Sl(this.e);Qi(Fl(this.e),function(){var a=v.location.href.match(Xb),b={};b.reason=d.F;b.smv=d.H;null!==d.l&&(b.fcs=d.l);d.v&&(b.sid=d.v);null!=d.j&&(b.osr=d.j,b.rhmac=d.o);d.A&&(b.mmv=1);zb(b,d.K.e);b=dc(b);d.e.R(Wb(a[1],void 0,a[3],a[4],d.J+d.D,b))})};function Vo(a){if(!a.j)return{};var b=Ck(a.j),c={},d;for(d in b)b=a.j,(b.e[d]||b.g[d]||b.j[d]||null).getUrl()&&(c[d]=new rj(d,null,"image"));return c}
q.Sd=function(){var a=this.l;if(Fk(a))this.ja(5,"pending command queue is undeliverable.");else if(zk(a)){a.e||Ol(a.i,Error("Cannot initialize queue without a record"));var b=a.e.Q();0>b&&(pn(a),Ol(a.i,Error("Cannot initialize queue without a real pending queue revison.")));var c=Wh(a.e,"revisionAccessInfo");var d=$h(c);a.qd=!0;a.D=b;a.e||Ol(a.i,Error("Cannot initialize queue without a record"));var e=a.e.Q();a.F=a.e.L();pn(a);if(e==b){if(Qh(a.e,"selection")&&a.oa)throw gg("Unexpected call - fromCommand").e;
}else sl(a.e,null);b<e&&!a.e.L()&&Ol(a.i,Error("Can't apply pending changes because local pending queue revision is ahead of model revision with a non-empty queue"));c=O(M(),"icso");var f=pi(a.g.e);f=null!==f&&3==f;var g=!1;c||!f||a.e.L()||(b>e?g=a.e.j=!0:b==e&&a.i.V(Error("Model revision is equal to queue revision while warm starting with a non-empty saved queue")));a.i.g.pendingQueue_forcedEmptyInMemory=g.toString();a.e.L()&&(Lk(a.e,b,d),null!==a.k&&S(a.e,"accessLevel",a.k));b>e&&c&&!a.e.L()&&(b=
Error("Model revision is ahead of queue revision while cold starting with a non-empty queue"),Fk(a)?a.i.V(b):Ol(a.i,b));b=!1;c&&f&&!a.e.L()&&(b=!0,kn(a));a.i.g.pendingQueue_setWaitingForAck=b.toString();a.H[a.za]=!0;c=zl(a.e).concat(Al(a.e));for(b=0;b<c.length;b++)a.H[c[b].Ja]=!0;Q(a.N,null);Hk(a)||Q(a.o,null);this.v=new yk(this.l,this.j,new No(!1,bi(this.g),this.K,this.J,new Sg,this.la,2,Mo),this.N);Di(this.v.R(),D(this.zb,this),D(this.Ce,this))}else this.zb()};
q.Ce=function(a){var b=this;if(this.H&&!Fk(this.l)){var c=function(){Yo(b,a)};ti(Rk(this.l),c,c)}else Yo(this,a)};function Yo(a,b){b.g?a.ja(5,"Permanent failure while delivering the pending command queue"):b.e?a.Na(b.e):a.ja(6,"Temporary failure while delivering the pending command queue")}function Wo(a){var b=[];a.v&&Ek(a.v);Rl(a.e,!0);Ql(a.e);Tl(a.e);V(a.S,null);var c=Li(a.e.Ta);b.push(c);b.push(Zo(a));U(new nk(b),D(a.ye,a));(b=a.k.e.ed())&&$o(b,[a.o],D(h(),a),D(function(a){this.n.log(a)},a))}
function Zo(a){if(!a.A||!a.j||!lo(a.j).length)return Ji();var b=new T,c=lo(a.j),d=a.j;a=D(a.Ze,a,b,c);d.e={};d.g={};d.j={};d.l={};d.i={};d=d.k;ap(d.l,d.j,a,d.i||void 0);return b}q.Ze=function(a,b){for(var c=[],d=0;d<b.length;d++){var e=Uh(b[d],"ou");e&&c.push(xj(this.Pa,e))}ti(Ui(c,!1),function(){return a.e(null)},function(b){return a.errback(b)})};q.od=function(a){if(this.H)Xo(this,!0);else switch(a.e){case 3:this.ja(14,a.message);break;default:this.ja(a.Fc()?12:7,a.message)}};
function Xo(a,b){var c=a.e;c.v=!0;c.l=null;c.D=null;c.w=null;a.A?bp(a,b):a.Ad(D(a.Se,a,b))}q.Se=function(a){var b=this;zk(this.l)?ti(Rk(this.l),cp(this,a),function(a){b.Na(a)}):Fk(this.l)||bp(this,a)};function bp(a,b){b=cp(a,b);a.g.I?b():(Ph(a.g),a.k.ka([a.g],b,D(a.Na,a)))}function cp(a,b){return b?D(a.ja,a,7,"Server model fetch failed"):D(a.Ld,a)}q.ye=function(){this.Ld()};
q.Na=function(a){if(2==a.type){var b=3;a="Write failed due to lock steal: "+dg.prototype.i.call(a)}else b=Fh(a),(b=!!b&&"QuotaExceededError"==b.name)||(b=Fh(a),b=1==a.type&&!!b&&"UnknownError"==b.name),b=b?8:9,a="Could not write document to local store: "+dg.prototype.i.call(a);this.ja(b,a)};q.ja=function(a,b){jf(dp(this),function(){this.q()||this.Xa(new hk(this.o,a,b))}.bind(this))};
function dp(a){return a.F?new We(D(function(a,c){ep(this.k.e.e,bi(this.g),D(function(b){b?(b.Fb(!1),b.Eb(E()),this.k.ka([b],a,c)):a()},this),c)},a)):af()}q.Ld=function(){this.e.e.ya?this.ga():(Rl(this.e,!1),this.F&&(this.e.Fb(!0),this.e.Eb(E())),Qi(Fl(this.e),D(this.ga,this)))};q.z=function(){J(this.v);To.G.z.call(this)};function fp(a,b,c,d,e,f,g,l,k,p,r,u,w,B,z,y,N){H.call(this);this.F=a;this.e=b;this.w=d;this.n=(this.H=e)?N||new sj:null;this.i=f;this.g=g;this.v=l;this.k=k;this.j=p;this.K=r;this.A=u;this.o=w;this.l=B;this.D=z;this.J=y}F(fp,H);
function gp(a,b,c,d){var e=[];"ritz"==ci(d)&&e.push(new tj);a.i&&e.push(new ej(a.i));e=e.length?new uj(e):void 0;var f=bi(d),g=new wj(a.v);f=new Tj(f,a.k,a.j,new fj(f,a.e,a.j),a.e,a.g);return new To(b,c,a.F,"/model",a.e,Vg(),a.g,new Ug(a.D,a.J),a.w,d,null,null,!0,!0,2,g,a.A,a.o,a.l,void 0,a.H||void 0,void 0,a.n||void 0,void 0,6E5,f,a.K?Jg("docs-offline-mobile-mms")||void 0:void 0,e)};function hp(a,b,c,d){this.e=a;this.j=b;this.g=c||-1;this.i=d||""}hp.prototype.getRequestId=n("e");hp.prototype.getSyncResult=n("j");hp.prototype.getMessageType=n("g");hp.prototype.getMessage=n("i");function ip(a,b){this.g=a;this.e=b}function jp(a){var b=ff(),c=a.g.e.ab();c||b.e("Could not get TemplateCapability");kp(c,a.e,function(a){b.resolve(a)},function(a){b.e(Eh(a))});return b.g};function ek(a){Zj(this,a,0,lp)}F(ek,Xj);var lp=[11,12,22,20];function mp(a){Zj(this,a,0,np)}F(mp,Xj);var np=[1,2];function op(a,b,c){H.call(this);this.j=a;this.k=b;this.e=c?c():new Pn;this.i=new uk(this);this.i.ia(this.e,"readystatechange",this.l);this.g=ff()}F(op,H);function pp(a){var b=v.location.href.match(Xb);a.e.R(Wb(b[1],void 0,b[3],b[4],a.j+"/templatemetadata",a.k?"ulmi=1":void 0));return a.g.g}op.prototype.l=function(){4==Zn(this.e)&&($n(this.e)?this.g.resolve(dk(new mp(Gn(ao(this.e))))):this.g.e("Failed fetching server templates"))};op.prototype.z=function(){J(this.i);J(this.e);op.G.z.call(this)};function qp(a,b,c){H.call(this);this.k=a;this.l=b;this.e=c?c():new Pn;this.g=new uk(this);this.g.ia(this.e,"readystatechange",this.n);this.j=ff()}F(qp,H);qp.prototype.i=function(){var a=v.location.href.match(Xb),b=cc(["templateid",this.k]);this.e.R(Wb(a[1],void 0,a[3],a[4],this.l+"/templatemodeldata",b));return this.j.g};qp.prototype.n=function(){4==Zn(this.e)&&$n(this.e)&&200==this.e.aa()&&this.j.resolve(ao(this.e))};qp.prototype.z=function(){J(this.e);J(this.g);qp.G.z.call(this)};function rp(a,b){this.g=a;this.e=b}rp.prototype.i=function(){return new We(function(a,b){""!=this.e.e.isThumbnailReady?a():sp(this.g,new rj(this.e.e.id,this.e.e.thumbnailUrl,"thumbnail"),D(function(c){0<c.ob||0<c.Za?b("Thumbnail syncing failed"):(R(this.e,"isThumbnailReady",!0),a())},this))},this)};function tp(a,b,c,d){H.call(this);this.j=a;this.i=b;this.k=c;this.e=d}F(tp,H);function up(a,b){var c=a.e.I?a.g(!1):af();c=c.then(function(){return(new rp(this.i,this.e)).i()},void 0,a);b&&(c=c.then(a.l,void 0,a));return c.then(D(a.g,a,b))}tp.prototype.l=function(){var a=new qp(this.e.e.id,this.k);I(this,a);return a.i().then()};tp.prototype.g=function(a){a&&(R(this.e,"isReady",!0),R(this.e,"isDirty",!1));return new We(function(a,c){this.j.ka([this.e],a,c)},this)};function vp(a,b,c,d){this.g=a;this.l=b;this.i=c;this.e=d}function wp(a){return xp(a).then(D(a.q,a)).then(D(a.j,a)).then(D(a.k,a))}function xp(a){return new We(function(a,c){R(this.e,"isReady",!1);this.g.ka([this.e],a,c)},a)}vp.prototype.q=function(){return new We(function(a,b){yp(this.l,[["templates"],"thumbnail"],this.e.e.id,a,b)},this)};
vp.prototype.j=function(){return new We(function(a,b){if(this.i){var c=this.i,d=["templates",this.e.e.id];a=new zp(a);b=new Ap(D(c.sb,c,b));c.e.removeDirectory(Bp(d),d,a,b)}else a()},this)};vp.prototype.k=function(){return new We(function(a,b){Cp(this.g.e.ab(),this.e.e.id,a,b)},this)};function Dp(a,b,c,d,e,f,g,l,k,p){H.call(this);this.g=a;this.w=[b,c];this.o=d;this.v=e;this.j=new op(e,!!p);this.i=new ip(a,f);this.n=f;this.l=g;this.e=x(k)?k:null}F(Dp,H);Dp.prototype.k=function(){return Ep(this)};function Ep(a){var b=pp(a.j),c=jp(a.i);return ef([b,c]).then(function(a){for(var b=0;b<a.length;b++)if(!a[b].kd)return!1;return Fp(this,a[0].value,a[1].value).then(hb,gb)},gb,a)}
function Fp(a,b,c){for(var d=[],e=[],f=0;f<b.length;f++){var g=W(b[f],5);if(c[g]){var l=c[g];W(b[f],6)>l.e.lastModifiedTimestamp&&(null==a.e||a.e>=W(b[f],19))?(Gp(a,l,b[f]),e.push(l)):""!=l.e.isThumbnailReady||e.push(l);delete c[g]}else(null==a.e||a.e>=W(b[f],19))&&e.push(Hp(a,b[f]))}for(f=0;f<e.length;f++)d.push(up(new tp(a.g,a.o,a.v,e[f]),!1));d.push(df(a.w).then(function(a){var b=[],d;for(d in c)b.push(wp(new vp(this.g,a[0],a[1],c[d])));return ef(b).then(function(){return df(b)})},void 0,a));return ef(d).then(function(){return df(d).then()})}
function Hp(a,b){var c=W(b,5),d=W(b,1),e=ck(b,2),f=ck(b,3),g=W(b,4),l=W(b,7),k=400>=a.l?W(b,8):W(b,9),p=W(b,6),r=bk(b,12),u=W(b,14),w=W(b,15);b=W(b,17);return new Im(c,d,e,f,g,l,k,a.n,p,r,u,w,b,!1,!1,!0,!0)}
function Gp(a,b,c){var d=W(c,1);S(b,"title",d);d=ck(c,2);S(b,"style",d);d=ck(c,3);S(b,"category",d);d=W(c,4);S(b,"locale",d);d=W(c,7);S(b,"creator",d);a=400>=a.l?W(c,8):W(c,9);S(b,"thumbnailUrl",a);a=W(c,6);S(b,"lastModifiedTimestamp",a);a=bk(c,12);S(b,"fontFamilies",a);a=W(c,14);S(b,"brandedAuthor",a);a=W(c,15);S(b,"brandedUrl",a);c=W(c,17);S(b,"masterTemplate",c);R(b,"isThumbnailReady",!1);R(b,"isDirty",!0)}Dp.prototype.z=function(){J(this.i);J(this.j);Dp.G.z.call(this)};function Ip(){H.call(this)}F(Ip,H);Ip.prototype.k=function(){return af(!0)};function Jp(a,b){this.g=a;this.e=b}q=Jp.prototype;q.T=function(){return new Jp(this.g,this.e)};q.Pd=function(){return this.g*this.e};q.L=function(){return!this.Pd()};q.ceil=function(){this.g=Math.ceil(this.g);this.e=Math.ceil(this.e);return this};q.floor=function(){this.g=Math.floor(this.g);this.e=Math.floor(this.e);return this};q.round=function(){this.g=Math.round(this.g);this.e=Math.round(this.e);return this};function Kp(a,b,c,d,e,f,g,l,k,p,r,u,w,B){H.call(this);this.i=a;this.l=b;this.A=c;this.H=d;this.e=e;this.g=f;this.w=g;this.k=l;this.n=k;this.j=p;this.v=r;this.D=u;this.o=w;this.F=B}F(Kp,H);q=Kp.prototype;q.syncEditorMetadata=function(a,b){var c=D(this.Ke,this,a),d=this.A;a=this.i;if(a.e.$a()){var e=b||null;b=d.g;var f=D(d.i,d,a,c,e);d=D(d.i,d,a,c,e,null);(c=a.e.$a())?(a=D(b.k,b,a,f,d),f=D(b.i,b,d),c.k.getUnusedDocumentIdCount(b.e,new Lp(a),Mp(f))):f(0)}else c(0,!0)};
q.Ke=function(a,b,c){b=c&&null!=b;this.e.onSyncResult2(new hp(a,b?0:1,null,b?null:"Error syncing metadata."))};q.syncSyncObjects=function(a){if(this.k)this.k.i(D(this.Le,this,a));else this.e.onSyncResult2(new hp(a,0,null,null))};q.Le=function(a,b,c){this.e.onSyncResult2(new hp(a,c?1:0,null,c||null))};
q.syncWebFonts=function(a,b,c,d){if(this.w){var e=this.w,f=D(this.pd,this,a);a=D(this.Me,this,a);for(var g=[],l={},k=dh(),p=0;p<c.length;p++){var r=kh(c[p],k);g.push(r);l[r.e]=!0}c=[];for(k=0;k<g.length;k++)c.push(new Np(g[k].e,g[k].g));Op(c);O(M(),"docs-emfms")&&(g=Pp(ub(l),"menu"),Za(c,g));b?Qp(e.g,D(e.e.cd,e.e,c,d,f,a),a):e.e.cd(c,d,f,a)}else this.pd(a)};q.pd=function(a){this.e.onSyncResult2(new hp(a,0,null,null))};q.Me=function(a,b){this.e.onSyncResult2(new hp(a,1,null,b.message))};
q.syncDocument=function(a,b){b=D(this.ef,this,b,a);ep(this.l,a,b)};q.ef=function(a,b,c){c||(c=$l(this.l,b,this.g),R(c,"hpmdo",!0));var d=gp(this.H,function(){d&&d.Z();this.e.onSyncResult2(new hp(a,0,null,null))}.bind(this),function(b){d&&d.Z();var c=b.Fc()?2:1,e={};e["document-sync-error-type"]=b.Bc;e["document-sync-error-message"]=b.message;this.D.V(Error("Document sync error"),e);this.e.onSyncResult2(new hp(a,c,b.Bc,b.message))}.bind(this),c);d.i()};
function Rp(a,b,c,d){var e=1,f=1;b=new Jp(b,c);switch(a.g){case "kix":e=d?4:3;f=d?5:4;break;case "punch":case "ritz":e=d?4:2,f=d?5:4}return Math.ceil(Math.max(Math.min(b.g,b.e)/e,Math.max(b.g,b.e)/f))}q.syncTemplatesWithThumbnails=function(a,b,c,d){Sp(this,a,b,c,d)};q.syncTemplatesWithThumbnailsAtModelVersion=function(a,b,c,d,e,f){Sp(this,a,b,c,d,f)};
function Sp(a,b,c,d,e,f){Tp(a)?(c=Rp(a,c,d,e),f=new Dp(a.i,af(a.n),af(null),a.j,a.v,a.g,c,a.o,f,a.F)):f=new Ip;a=D(function(a,b,c){Up(this,a,c);b.Z()},a,b,f);f.k().then(a)}q.syncTemplateModelAndResources=function(a,b){Tp(this)?Vp(this.i.e.ab(),b,D(function(a,b){b?(b=new tp(this.i,this.j,this.v,b),up(b,!0).then(hb,gb).then(D(function(a,b,c){Up(this,a,c);b.Z()},this,a,b))):Up(this,a,!1,"Template does not exist")},this,a),D(function(a,b){Up(this,a,!1,Eh(b))},this,a)):Up(this,a,!1,"Localstore does not support templates")};
function Up(a,b,c,d){a.e.onSyncResult2(new hp(b,c?0:1,null,d||null))}function Tp(a){return!(!(a.j&&a.o&&a.n)||"kix"!=a.g&&"punch"!=a.g&&"ritz"!=a.g)}q.z=function(){Nd(this.i,this.A,this.k);Kp.G.z.call(this)};function Wp(){}Wp.prototype.e=function(){if(window.uf("This error has been reported to Google and we'll look into it as soon as possible. Please reload this page to continue.")){var a=window;a.Rf=ta;a.location.Yf()}};function Xp(a){Ia.call(this,a)}F(Xp,Ia);Fa(h().prototype,Md.prototype);function Yp(){this.g=0;this.e=[]}q=Yp.prototype;q.add=function(a){var b=this.e[this.g];this.e[this.g]=a;this.g=(this.g+1)%50;return b};q.get=function(a){a=Zp(this,a);return this.e[a]};q.set=function(a,b){a=Zp(this,a);this.e[a]=b};q.W=function(){return this.e.length};q.L=function(){return 0==this.e.length};q.O=function(){var a=this.W(),b=this.W(),c=[];for(a=this.W()-a;a<b;a++)c.push(this.get(a));return c};q.ma=function(){for(var a=[],b=this.W(),c=0;c<b;c++)a[c]=c;return a};
function $p(a){return 0==a.W()?null:a.get(a.W()-1)}function Zp(a,b){if(b>=a.e.length)throw Error("Out of bounds exception");return 50>a.e.length?b:(a.g+Number(b))%50};function aq(a){this.i=a;this.g=Math.floor(a/50);this.e=new Yp}aq.prototype.get=function(a){return bq(this,a,function(a,c){return a+c.g})};function bq(a,b,c){b=b||E();cq(a,b);var d=0;b=a.g*(Math.floor(b/a.g)+1)-a.i;for(var e=a.e.W()-1;0<=e;--e){var f=a.e.get(e);if(f.e<=b)break;d=c(d,f)}return d}function cq(a,b){var c=$p(a.e);c&&b<c.e-a.g&&(a=a.e,a.e.length=0,a.g=0)}function dq(a){this.e=a}dq.prototype.g=0;dq.prototype.min=Number.MAX_VALUE;dq.prototype.max=Number.MIN_VALUE;function eq(a,b,c){H.call(this);this.i=a;this.g=b;this.e=new aq(1E3*c)}F(eq,H);function fq(a,b){b=null!=b?b:1;return(a.e.get()+b)/(a.e.i/1E3)<=a.g}function gq(a,b){b=null!=b?b:1;if(!fq(a,b))throw new Xp(Nb("Query would cause ",a.i," to exceed ",a.g," qps."));a=a.e;var c=E();cq(a,c);var d=$p(a.e);if(!d||c>=d.e)d=new dq(a.g*(Math.floor(c/a.g)+1)),a.e.add(d);d.g+=b;d.min=Math.min(b,d.min);d.max=Math.max(b,d.max)};function hq(a){H.call(this);this.g=new Pn;this.o=new Kj(this.l,3E4,this);this.D=new eq("errorsender",1,8);I(this,this.D);this.A=!1;this.w=new Set;this.v=new uk(this);this.K=a||10;this.v.ia(this.g,"complete",this.H);this.v.ia(this.g,"ready",this.l)}F(hq,H);hq.prototype.R=function(a,b,c,d){var e=U(U(this.gb(),function(e){e>=this.K||(e={},e.u=a,e.m=b,e.c=c,e.h=d,this.Lb(e))},this),this.l,this);Ei(e,function(){this.w.delete(e)},this);this.w.add(e)};
hq.prototype.l=function(){0!=this.o.e||this.g.e||this.A||iq(this)};function iq(a){U(a.fb(),function(a){if(!this.g.e&&0==this.o.e&&!this.A&&a)if(4E3<a.u.length)this.Ia();else try{gq(this.D,1),this.g.R(a.u,a.m,a.c,a.h)}catch(c){if(c instanceof Xp)this.A=!0;else throw c;}},a)}hq.prototype.H=function(){var a=this.g.aa();$n(this.g)||400<=a&&500>=a?this.Ia():(a=this.o,Lj(a),a.e=Df(a.i,x(void 0)?void 0:a.k))};hq.prototype.z=function(){Nd(this.v,this.o,this.g);this.w.clear();hq.G.z.call(this)};function jq(a,b,c,d,e){hq.call(this,e);this.n=b;this.j=b+"-f";this.i=b+"-n";this.k=c;this.F=a;this.e=null;this.J=d||kq;a=this.J.open("DocsErrors",1);a.Ue=D(this.qe,this);a.Uf=D(this.Ne,this);a.yd=D(this.md,this);a.Sf=D(this.md,this)}F(jq,hq);var kq=v.Kf||v.fg;q=jq.prototype;
q.qe=function(a){var b=a.ea.Gd,c=lq(b,"readwrite");U(new nk([mq(this.j,c),mq(this.i,c)]),function(a){null==a[0][1]||null==a[1][1]?(a=c.Kc("Errors"),a.xa({key:this.j,value:"1"}),a.xa({key:this.i,value:"1"}),c.xd=D(this.$c,this,b)):this.$c(b)},this)};q.$c=function(a){this.e=a;this.l()};q.Ne=function(a){a.ea.ff.Af.yf("Errors",{keyPath:"key"})};
q.md=function(a){this.e&&(this.e.close(),this.e=null);var b=a.ea.error,c=b&&b.name;b=b&&b.message||a.ea.webkitErrorMessage;a.ea.docs_internalAbort&&(b="Internal abort: "+b);mo(this.F,Error("IdbErrorSender: "+(c+" ("+b+")")))};q.Lb=function(a){if(!this.e)return this.k.Lb(a);var b=lq(this.e,"readwrite"),c=new T;U(mq(this.i,b),function(d){if(d){var e=b.Kc("Errors");e.xa({key:this.i,value:String(d+1)});e.xa({key:this.n+"-e-"+d,value:ue(a)});b.xd=D(c.e,c)}else c.e()},this);return c};
q.Ia=function(){if(!this.e)return this.k.Ia();var a=lq(this.e,"readwrite"),b=new T;U(new nk([mq(this.j,a),mq(this.i,a)]),function(c){var d=c[0][1];c=c[1][1];if(!d||c<=d)b.e();else{var e=a.Kc("Errors");e["delete"](this.n+"-e-"+d);d++;e.xa({key:this.j,value:String(d)});U(nq(this,a),function(c){0==c&&(e.xa({key:this.j,value:"1"}),e.xa({key:this.i,value:"1"}));a.xd=D(b.e,b)},this)}},this);return b};
q.fb=function(){if(!this.e)return this.k.fb();var a=lq(this.e,"readonly");return U(new nk([mq(this.j,a),mq(this.i,a)]),function(b){var c=b[0][1];return!c||1>b[1][1]-c?null:U(oq(this.n+"-e-"+c,a),function(a){return a&&(a=JSON.parse(a))?a:U(this.Ia(),this.fb,this)},this)},this)};q.gb=function(){if(!this.e)return this.k.gb();var a=lq(this.e,"readonly");return nq(this,a)};function nq(a,b){return U(new nk([mq(a.j,b),mq(a.i,b)]),function(a){return a[1][1]-a[0][1]})}
function mq(a,b){return U(oq(a,b),function(a){a=parseInt(a,10);return 0>a||isNaN(a)?null:a})}function oq(a,b){b=b.Kc("Errors");var c=new T;b.get(a).Ue=function(a){a.ea.Gd?c.e(a.ea.Gd.value):c.e(null)};return c}function lq(a,b){var c=["Errors"];try{return a.ff(c,b)}catch(f){b=a.Qf;for(var d=[],e=0;e<b.length;e++)d.push(b.Mf(e));throw hd(f,{databaseName:a.name,databaseObjectStores:d.toString(),databaseVersion:a.dg.toString(),transactionObjectStores:c.toString()});}}
q.z=function(){this.e&&(this.e.close(),this.e=null);jq.G.z.call(this)};function pq(){try{var a=v.Re;if(a&&(Vj||Wj||Nc)&&(a.Fa("test","test"),"test"==a.Ec("test")&&(a.Cd("test"),null==a.Ec("test"))))return!0}catch(b){}return!1};function qq(){H.call(this);this.e={}}F(qq,H);qq.prototype.Ha=function(a,b,c){if(ya(a))c&&(a=D(a,c));else if(a&&"function"==typeof a.Ca)a=D(a.Ca,a);else throw Error("Invalid listener argument");c=new rq;a=Df(D(this.g,this,a,c),b);this.e[a]=!0;return c.e=a};qq.prototype.g=function(a,b){b=b.e;null===b||delete this.e[b];a()};qq.prototype.z=function(){for(var a in this.e)Af.clearTimeout(Number(a));qq.G.z.call(this)};function rq(){this.e=null};function sq(a,b){hq.call(this,b);this.n=a;this.k=a+"-v";this.j=a+"-f";this.i=a+"-n";this.e=v.Re;pq();a=tq(this,this.k);if(!a||1>a)this.e.Fa(this.k,"1"),this.e.Fa(this.j,"1"),this.e.Fa(this.i,"1");this.l();this.F=new qq;I(this,this.F);this.F.Ha(this.Vd,3E4,this)}F(sq,hq);q=sq.prototype;q.Lb=function(a){var b=tq(this,this.i);if(!b||1!=tq(this,this.k))return Ji();try{this.e.Fa(this.i,String(b+1)),this.e.Fa(this.n+"-e-"+b,ue(a))}catch(c){}return Ji()};
q.Ia=function(){var a=tq(this,this.j);if(!a||1!=tq(this,this.k))return Ji();this.e.Cd(this.n+"-e-"+a);a++;this.e.Fa(this.j,String(a));return U(this.gb(),function(a){0==a&&(this.e.Fa(this.j,"1"),this.e.Fa(this.i,"1"))},this)};q.fb=function(){var a=tq(this,this.j);return a&&1==tq(this,this.k)?U(this.gb(),function(b){if(1>b)return null;try{var c=this.e.Ec(this.n+"-e-"+a);if(c){var d=JSON.parse(c);if(d)return d}}catch(e){}return U(this.Ia(),this.fb,this)},this):Ji(null)};
q.gb=function(){return Ji(tq(this,this.i)-tq(this,this.j))};function tq(a,b){return(a=a.e.Ec(b))?uq(a):null}function uq(a){a=parseInt(a,10);return 0>a||isNaN(a)?null:a}q.Vd=function(){if(tq(this,this.i)&&1==tq(this,this.k))for(var a=this.n+"-e-",b=0,c=this.e.length;b<c;++b){var d=this.e.La(b);if(d&&0==d.lastIndexOf(a,0)){var e=uq(d.substring(a.length)),f=tq(this,this.i);f&&e&&e>=f&&this.e.Cd(d)}}};q.z=function(){sq.G.z.call(this)};function vq(a){hq.call(this,a);this.e=[]}F(vq,hq);q=vq.prototype;q.Lb=function(a){this.e.push(a);return Ji()};q.Ia=function(){this.e.shift();return Ji()};q.fb=function(){return Ji(x(this.e[0])?this.e[0]:null)};q.gb=function(){return Ji(this.e.length)};q.z=function(){delete this.e;vq.G.z.call(this)};function wq(a,b){A(b)&&/[:]/.test(b);this.i=a;this.g=b;this.constructor.Yc||(this.constructor.Yc={});this.constructor.Yc[this.toString()]=this}wq.prototype.toString=function(){this.e||(this.e=this.i.e+":"+this.g);return this.e};function xq(a,b){wq.call(this,a,b)}F(xq,wq);function yq(a){/[^0-9a-zA-Z._]/.test(a);this.e=a}new yq("lib");var zq=new yq("fva");new xq(zq,1);function Aq(a){H.call(this);this.g=a}F(Aq,H);Aq.prototype.e=function(a){return Bq(this,a)};function Cq(a,b){return(b?"__wrapper_":"__protected_")+(a[Aa]||(a[Aa]=++Ba))+"__"}function Bq(a,b){var c=Cq(a,!0);b[c]||((b[c]=Dq(a,b))[Cq(a,!1)]=b);return b[c]}
function Dq(a,b){function c(){if(a.q())return b.apply(this,arguments);try{return b.apply(this,arguments)}catch(d){if(!(d&&"object"===typeof d&&d.message&&0==d.message.indexOf("Error in protected function: ")||"string"===typeof d&&0==d.indexOf("Error in protected function: ")))throw a.g(d),new Eq(d);}finally{}}c[Cq(a,!1)]=b;return c}
function Fq(a,b){var c=ra("window"),d=c[b];c[b]=function(b,c){A(b)&&(b=Ea(Ga,b));arguments[0]=b=Bq(a,b);if(d.apply)return d.apply(this,arguments);var e=b;if(2<arguments.length){var f=Array.prototype.slice.call(arguments,2);e=function(){b.apply(this,f)}}return d(e,c)};c[b][Cq(a,!1)]=d}Aq.prototype.z=function(){var a=ra("window");var b=a.setTimeout;b=b[Cq(this,!1)]||b;a.setTimeout=b;b=a.setInterval;b=b[Cq(this,!1)]||b;a.setInterval=b;Aq.G.z.call(this)};
function Eq(a){Ia.call(this,"Error in protected function: "+(a&&a.message?String(a.message):String(a)));(a=a&&a.stack)&&A(a)&&(this.stack=a)}F(Eq,Ia);function Gq(a,b,c){K.call(this);this.k=b||null;this.j={};this.l=Hq;this.o=a;if(!c)if(this.e=null,Nc&&!bd("10"))ed(D(this.g,this));else{this.e=new Aq(D(this.g,this));Fq(this.e,"setTimeout");Fq(this.e,"setInterval");a=this.e;b=ra("window");c=["requestAnimationFrame","mozRequestAnimationFrame","webkitAnimationFrame","msRequestAnimationFrame"];for(var d=0;d<c.length;d++){var e=c[d];c[d]in b&&Fq(a,e)}a=this.e;Kd=!0;b=D(a.e,a);for(c=0;c<Id.length;c++)Id[c](b);Jd.push(a)}}F(Gq,K);
function Iq(a,b){Sd.call(this,"q");this.Ba=a;this.g=b}F(Iq,Sd);function Hq(a,b,c,d){var e=new Pn;Sn.push(e);e.hb("ready",e.Rd);e.R(a,b,c,d)}
Gq.prototype.g=function(a,b){a=a.Ba||a;b=b?wb(b):{};a instanceof Error&&zb(b,a.__closure__error__context__984382||{});var c=ra("window.location.href");if(A(a))a={message:a,name:"Unknown error",lineNumber:"Not available",fileName:c,stack:"Not available"};else{var d=!1;try{var e=a.lineNumber||a.Qe||"Not available"}catch(p){e="Not available",d=!0}try{var f=a.fileName||a.Ka||a.sourceURL||v.$googDebugFname||c}catch(p){f="Not available",d=!0}a=!d&&a.lineNumber&&a.fileName&&a.stack&&a.message&&a.name?a:
{message:a.message||"Not available",name:a.name||"UnknownError",lineNumber:e,fileName:f,stack:a.stack||"Not available"}}if(this.k)try{this.k(a,b)}catch(p){}f=a.message.substring(0,1900);e=a.stack;try{var g=ec(this.o,"script",a.fileName,"error",f,"line",a.lineNumber);vb(this.j)||(g=fc(g,this.j));f={};f.trace=e;if(b)for(var l in b)f["context."+l]=b[l];var k=dc(f);pa(null)&&(k=k.substring(0,null));this.l(g,"POST",k,this.n)}catch(p){}try{se(this,new Iq(a,b))}catch(p){}};
Gq.prototype.z=function(){J(this.e);Gq.G.z.call(this)};function Jq(a,b,c,d,e,f,g,l){K.call(this);this.n={};this.e=null;this.g={};this.w=new uk(this);this.D=!!a;this.A=!!e;this.o=f||new Wp;this.k=null;var k;b&&pq()?k=new sq(b,c):k=new vq(c);b&&kq&&Vj&&g?(this.k=new jq(this,b,k,void 0,c),I(this,k)):this.k=k;a=l?l:Kg("docs-sup")+"/jserror";(b=Kg("jobset"))&&(a=ec(a,"jobset",b));if(Kq)throw Error("ErrorReporter already installed.");Kq=!0;b=D(this.We,this);this.e=new Gq(a,b,void 0);this.e.n={"X-Same-Domain":"1","X-No-Abort":"1"};a=D(this.bf,this);this.e.l=
a;this.w.ia(this.e,"q",this.le);this.l=!1;this.v=!0;this.j=!1}F(Jq,K);var Kq=!1;function Lq(a,b){a.o=b}function sn(a,b,c){a.n[b]=c}function qn(a,b,c){a.g[b]=c}function Ol(a,b,c){a.j=!1;Mq(b);if(!a.e){if(b instanceof xh)throw b.$();throw b;}a.e.g(b,Nq("fatal",c))}function mo(a,b){a.j=!1;Mq(b);a.e&&a.e.g(b,Nq("warning",void 0))}q=Jq.prototype;q.V=function(a,b,c){this.j=!!c;Mq(a);this.e&&this.e.g(a,Nq("incident",b))};
q.log=function(a,b,c){this.j=!!c;Mq(a);if(!this.e){if(a instanceof xh)throw a.$();throw a;}this.e.g(a,Nq("incident",b))};function Oq(a,b,c){return D(function(a){a:{var d=arguments;if(this.e){try{var f=b.apply(c,d);break a}catch(g){Ol(this,g)}f=void 0}else f=b.apply(c,d)}return f},a)}function Nq(a,b){b=b?wb(b):{};b.severity=a;return b}q.le=function(a){var b=a.g.severity;(b="fatal"==b||"postmortem"==b)&&!this.A&&(this.D?this.o.e(a):this.o.e());se(this,new Pq(b?"r":"s",a.Ba,a.g))};
q.We=function(a,b){a=this.l;try{for(var c in this.n)try{b[c]=this.n[c]()}catch(l){}zb(b,this.g);var d=b.severity||"fatal",e=Kg("docs-jern");e&&(b.reportName=e+"_"+d);a:{for(var f in Array.prototype){var g=!1;break a}g=!0}b.isArrayPrototypeIntact=g.toString();this.l?(this.v=this.j||!O(M(),"docs-spfe"),"fatal"==d?d="postmortem":"incident"==d&&(d="warningafterdeath")):"fatal"==d&&(this.l=!0);this.j=!1;b.severity=d}catch(l){throw a&&(this.v=!1),this.l=!0,b.provideLogDataError=l.message,b.severity||(b.severity=
"fatal"),l;}};q.bf=function(a,b,c,d){this.v&&this.k.R(a,b,c,d)};function Mq(a){a instanceof xh&&a.$()}q.z=function(){Kq=!1;Nd(this.w,this.e,this.k);Jq.G.z.call(this)};function Qq(a){var b=wb(a.Ba);a.Ba.propertyIsEnumerable("message")||(b.message=a.Ba.message);zb(b,a.g);return ue(b)}function Pq(a,b){Sd.call(this,a);this.Ba=b}F(Pq,Sd);function Rq(a,b){this.g=D(a,b||null)}Rq.prototype.e=function(a){a?this.g(Qq(a)):this.g()};function Sq(a){this.e=a};function Tq(a){this.e=a}function Uq(a,b){var c=[];if(O(M(),"docs-evnli")){for(var d=[],e=0;e<b.length;e++)d.push(b[e].e);ab(d);for(e=0;e<d.length;e++)c.push(new jh(d[e],"menu",400))}a=a.e.filter(Xa(c,b));b=[];for(c=0;c<a.length;c++)d=a[c],b.push(new Sq(new eh(d.e,d.g)));return b};function Vq(a,b,c){H.call(this);this.g=a;this.e=b;this.i=c}F(Vq,H);function ui(a,b){b=Uq(a.g,b);b=Wq(a.e,b);Qi(b,function(b){return a.i.e(b)});return b};function Xq(a){var b=new Yq;this.e=a;this.g=b}Xq.prototype.filter=function(a){for(var b=[],c=0;c<a.length;c++){var d=a[c],e=!this.g.e(d);!this.e.e[d.e.toLowerCase()]&&e&&b.push(d)}return b};function Zq(a,b,c,d,e,f){this.e=a;this.j=b;this.g=c;this.i=d;this.k=e;this.mb=f}Zq.prototype.getFontFamily=n("e");Zq.prototype.M=n("j");Zq.prototype.T=function(){return new Zq(this.e,this.j,this.g,this.i,this.k,Qa(this.mb,function(a){return a.T()}))};function $q(a,b,c){this.g=a;this.xb=b;this.e=c}$q.prototype.getUrl=n("g");$q.prototype.eb=n("e");$q.prototype.T=function(){return new $q(this.g,this.xb,this.e)};function ar(a,b,c,d,e,f,g){this.k=a;this.q=b;this.i=c;this.e=d;this.B=!!e;this.l=!!f;this.g=null;this.j=g;O(M(),"docs-ofmpp")||(this.g=br(this))}function cr(a,b,c,d,e,f,g){return new ar(a,b,c,d,e,f,g)}var dr={truetype:".ttf","embedded-opentype":".eot",svg:".svg",swf:".swf",woff:".woff",woff2:".woff2"};q=ar.prototype;q.getFontFamily=n("k");q.M=n("q");q.vb=n("i");function er(a){a.g||(a.g=br(a));return a.g}
function br(a){for(var b={},c=0,d;d=a.i[c];c++)for(var e=0,f;f=d.mb[e];e++)if(!f.xb){var g=f.getUrl(),l=dr[f.eb()],k;O(M(),"docs-ofmpp")?k=jc(g,"kit"):k=(new kc(g)).i.get("kit");k||(k=a.e+"\\/([^/.&]+)"+l+"$",k=(k=g.match(k))&&2==k.length?k[1]:null);k||(k="(persistent\\/docs\\/fonts\\/)([^/.]+)("+l+")?$",k=(k=g.match(k))&&4==k.length?k[2]:null);if(!k&&(-1!=g.indexOf("file:///")||-1!=g.indexOf("LOCALFILE:"))){var p=g.split("/");p=p[p.length-1].split(".");2==p.length&&"."+p[1]==l&&(k=p[0])}b[g]=k?k+
(l||""):null;l||a.j.log(Error("Missing font file extension for format "+f.eb()))}return b}q.cb=function(a){return this==a?!0:!!a&&a instanceof ar&&this.e==a.e};q.T=function(){return cr(this.k,this.q,Qa(this.i,function(a){return a.T()}),this.e,this.B,this.l,this.j)};function Np(a,b){this.e=a;this.g=b}Np.prototype.getFontFamily=n("e");Np.prototype.M=n("g");function Pp(a,b){for(var c=[],d=0;d<a.length;d++)c.push(new Np(a[d],b));return c}function Op(a){ab(a,void 0,function(a){return a.getFontFamily()+"|"+a.M()})};function fr(){this.e={};this.g=0}fr.prototype.set=function(a,b,c){a=a+"|"+b;this.e[a]||(this.e[a]={},this.g++);this.e[a]=c};fr.prototype.get=function(a,b){return this.e[a+"|"+b]||null};function gr(a){var b=[],c;for(c in a.e)a=c.split("|"),2==a.length&&b.push(new Np(a[0],a[1]));return b}fr.prototype.O=function(){var a=[],b;for(b in this.e)a.push(this.e[b]);return a};fr.prototype.W=n("g");function hr(a,b){for(var c=0;c<b.length;c++){var d=b[c].getFontFamily();a.set(d,b[c].M(),!0)}};function ir(a){this.e=a}ir.prototype.get=n("e");ir.prototype.getFontFamily=function(){return this.e.getFontFamily()};ir.prototype.M=function(){return this.e.M()};function jr(){this.e=new fr}jr.prototype.get=function(a,b){return(a=this.e.get(a,b))?a.get():null};jr.prototype.add=function(a){a=new ir(a);this.e.set(a.getFontFamily(),a.M(),a)};function kr(a,b,c){this.e=a;this.i=b;this.g=c};function lr(a,b){this.g=a;this.j=b;this.e=new jr}
lr.prototype.i=function(a){var b=a.i,c=ch().e||"latin"==b.M();if(!this.g.g||!c)return $i(a);c=[b];"menu"!=b.M()&&O(M(),"docs-evnli")&&(b=b.getFontFamily(),b=this.e.get(b,"menu"),c.push(b));b={};for(var d=Yi(),e=0;e<c.length;e++)for(var f=c[e].vb(),g=er(c[e]),l=0;l<f.length;l++)for(var k=f[l].mb,p=0;p<k.length;p++){var r=k[p];if(!r.xb){var u=g[r.getUrl()];if(!u)return d.errback(new xh("Bad url "+r.getUrl())),d;b[u]=new rj(u,r.getUrl(),"")}}a=D(this.k,this,a,d,c);Dn(this.j,b,["fonts"],!1,a);return d};
lr.prototype.k=function(a,b,c,d){if(0<d.ob||0<d.Za||0<d.ob||0<d.Za)V(b,a);else{for(var e=[],f=0;f<c.length;f++)e.push(c[f].T());a=a.e;c=[];for(f=0;f<e.length;f++){for(var g=e[f],l=g.vb(),k=er(g),p=0;p<l.length;p++)for(var r=l[p].mb,u=0;u<r.length;u++){var w=r[u],B=k[w.getUrl()];if(!w.xb&&B){B=d.j[B];if(!B)throw Error("Null local url for font file");r[u]=new $q(B,!1,w.eb())}}c.push(mr(g))}this.g.ka(c,D(this.q,this,a,b,e),D(b.errback,b,new xh("Failed to write updated fontMetadata for "+a.getFontFamily())))}};
lr.prototype.q=function(a,b,c){for(var d=0;d<c.length;d++)this.e.add(c[d]);V(b,new kr(a,c[0],"sync-not-needed"))};function mr(a){for(var b=[],c=a.vb(),d=0;d<c.length;d++){for(var e=c[d],f=[],g=0;g<e.mb.length;g++){var l=e.mb[g];f.push(new Qm(l.eb(),l.xb,l.getUrl()))}b.push(new Rm(e.getFontFamily(),e.M(),e.g,e.i,e.k,f))}return new Om(a.getFontFamily(),a.M(),a.e,a.B,a.l,b,!0)};function nr(a){for(var b=a.sources,c=[],d=0;d<b.length;d++)c.push(new $q(b[d].url,!!b[d].isLocal,b[d].format));return new Zq(a.fontFamily,a.subsetValue,!!a.menuFont,a.style,a.weight,c)};function or(a,b){a:{var c=pr;for(var d in c)if(c[d]==a[0]){c=!0;break a}c=!1}if(!c)throw Error("The keyPath should contain a valid type in its first field.");this.e=a;this.i=b}var pr={qf:"syncMap"};function qr(a,b,c){or.call(this,a,b);if("syncMap"!=a[0])throw Error("SyncMap constructed with wrong type.");this.g=c}F(qr,or);qr.prototype.get=function(a){return this.g[a]};qr.prototype.set=function(a,b){this.g[a]=b};function rr(a,b,c){this.e=a;this.i=b;this.g=c}rr.prototype.ka=function(a,b,c){if(this.e.g){for(var d=[],e=0;e<a.length;e++){var f=a[e],g=new Dm(!0,f.e,f.i),l=g;a:switch(f.e[0]){case "syncMap":f=f.g;break a;default:throw Error("Unsupported sync object type: "+f.e[0]);}S(l,"data",f);d.push(g)}this.e.ka(d,b,c)}};
rr.prototype.j=function(a,b){for(var c=[],d=0;d<b.length;d++){var e=b[d],f=Xh(e)[0];switch(f){case "syncMap":c.push(new qr(Xh(e),Em(e),e.getData()));break;default:this.g.log(Error("Unsupported sync object type in database: "+f))}}a(c)};function sr(a,b,c){this.e=a;this.g=b;this.i=c};function tr(a){this.g=void 0;this.e={};if(a){var b=Ub(a);a=Tb(a);for(var c=0;c<b.length;c++)this.set(b[c],a[c])}}q=tr.prototype;q.set=function(a,b){ur(this,a,b,!1)};q.add=function(a,b){ur(this,a,b,!0)};function ur(a,b,c,d){for(var e=0;e<b.length;e++){var f=b.charAt(e);a.e[f]||(a.e[f]=new tr);a=a.e[f]}if(d&&void 0!==a.g)throw Error('The collection already contains the key "'+b+'"');a.g=c}
q.get=function(a){a:{for(var b=this,c=0;c<a.length;c++)if(b=b.e[a.charAt(c)],!b){a=void 0;break a}a=b}return a?a.g:void 0};q.O=function(){var a=[];vr(this,a);return a};function vr(a,b){void 0!==a.g&&b.push(a.g);for(var c in a.e)vr(a.e[c],b)}q.ma=function(a){var b=[];if(a){for(var c=this,d=0;d<a.length;d++){var e=a.charAt(d);if(!c.e[e])return[];c=c.e[e]}wr(c,a,b)}else wr(this,"",b);return b};function wr(a,b,c){void 0!==a.g&&c.push(b);for(var d in a.e)wr(a.e[d],b+d,c)}q.T=function(){return new tr(this)};
q.W=function(){var a=this.O();return a.W&&"function"==typeof a.W?a.W():wa(a)||A(a)?a.length:sb(a)};q.L=function(){return void 0===this.g&&vb(this.e)};function xr(a){this.j=a;this.g=null;this.i=new tr;this.e=new T;U(this.e,D(this.q,this))}xr.prototype.q=h();xr.prototype.get=function(a){var b=[];a=this.i.ma(yr(a));for(var c=0;c<a.length;c++)b.push(this.i.get(a[c]));return b};function zr(a,b){var c=b.e[0];switch(c){case "syncMap":return c=b.e,b=new qr(c,b.g,b.i),a.i.set(yr(c),b),b;default:throw Error("Unknown sync object type: "+c);}}function yr(a){return 0<a.length?a.join("|")+"|":""}
xr.prototype.k=function(a){for(var b=0;b<a.length;b++){var c=a[b];this.i.set(yr(c.e),c)}this.e.e()};var Ar=["syncMap","applicationFonts"],Br=["syncMap","domainFonts"],Cr=["syncMap","preferences"].concat(["docs-fonts"]);function Dr(a){if("syncMap"!=a.e[0])return[];var b=a.e,c=[];bb(Ar,b.slice(0,Ar.length))||bb(Br,b.slice(0,Br.length))?c=a.get("value")||[]:bb(Cr,b.slice(0,Cr.length))&&(c=a.get("hasTransitioned")?a.get("transitionedFamilyList")||[]:a.get("familyList")||[]);return c}var Er=/\/fonts\/([^/]+)$/;function Fr(){var a=M();a=Lg(a,"dffm");return tb(a)};var Gr="Arial;Comic Sans MS;Courier New;Georgia;Impact;Times New Roman;Trebuchet MS;Verdana".split(";");function Yq(){}Yq.prototype.e=gb;function Hr(a,b){for(var c={},d=0;d<a.length;d++)c[fh(a[d].e)]=!0;for(d=0;d<b.length;d++)if(c[fh(b[d])])throw Error("A fetch request can not be both successful and unsuccessful.");this.e=a;this.g=b};function Ir(a,b){var c={};this.i=a;this.g=b;this.e=new jr;if(c){a=Jr(c,this.g).e;for(var d in a)for(var e in a[d])this.e.add(a[d][e])}}
function Kr(a,b){for(var c=[],d=[],e=[],f=0;f<b.length;f++){var g=b[f].e;c.push(g);var l=g.getFontFamily(),k=a.e.get(l,g.M());k?e.push(new kr(g,k,"sync-needed")):d.push(l)}b=Yi();d.length?a.i&&(f=["families",d.join(",")],ch().e&&(f=f.concat("useAllSubsets",!0)),(g=ch().i)&&(f=f.concat("format",g)),a=ij(nj(oj(lj(kj(a.i,"/font/getmetadata"),2),D(a.j,a,b,c,e)),D(a.k,a,b,d)),cc(f)),mj(a)):V(b,new Hr(e,[]));return b}
Ir.prototype.j=function(a,b,c,d){if(d=pj(d)){var e=Jr(d,this.g).e;d={};for(var f=0;f<b.length;f++){var g=b[f];d[fh(g)]=!1;var l=e[g.getFontFamily()];for(p in l){var k=l[p];this.e.add(k);p==g.M()&&c.push(new kr(g,k,"sync-needed"))}}for(f=0;f<c.length;f++)d[fh(c[f].e)]=!0;var p=[];for(f=0;f<b.length;f++)d[fh(b[f])]||p.push(b[f]);V(a,new Hr(c,p))}else a.errback(new xh("No font response object."))};
Ir.prototype.k=function(a,b,c){a.errback(new xh("Error fetching font metadata, http status code:"+c.g+", fonts: "+b.join(",")))};function Lr(a){this.e=a}
function Jr(a,b){var c={};a=a.fontMetadataMap||{};for(var d in a){var e=a[d],f=[];var g=e.fontFaces;for(var l=0;l<g.length;l++)f.push(nr(g[l]));g=f;f={};for(l=0;l<g.length;l++){var k=g[l],p=k.M();null!=f[p]||(f[p]=[]);f[p].push(k)}null!=f.menu&&(g=f.menu[0],null!=f.latin&&f.latin.push(g),null!=f["*"]&&f["*"].push(g),delete f.menu);c[d]={};for(p in f)c[d][p]=cr(d,p,f[p],e.version,!!e.restrictedDomainFont,!!e.hasInkedWhitespace,b)}return new Lr(c)};var Mr="Arial;Comic Sans MS;Courier New;Georgia;Impact;Times New Roman;Trebuchet MS;Verdana".split(";");function Nr(a){this.e={};for(var b=0;b<a.length;b++){var c=a[b];this.e[c.toLowerCase()]=c}};function Or(a,b){this.g=a;this.e=b}function Pr(a,b,c,d){for(var e=[],f=0;f<b.length;f++)Za(e,Dr(b[f]));ab(e);e.length?(b=ih(e),a=ui(a.g,mh(b,a.e)),Qi(a,c),d&&Ri(a,function(a){return d(a.$())})):c()};function Qr(a){this.e={};if(a)for(var b=0;b<a.length;b++)this.e[Rr(a[b])]=null}var Sr={};function Rr(a){return a in Sr||32==String(a).charCodeAt(0)?" "+a:a}function Tr(a){return 32==a.charCodeAt(0)?a.substr(1):a}q=Qr.prototype;q.add=function(a){this.e[Rr(a)]=null};q.T=function(){var a=new Qr,b;for(b in this.e)a.e[b]=null;return a};q.cb=function(a){return Ur(this,a)&&Ur(a,this)};q.forEach=function(a,b){for(var c in this.e)a.call(b,Tr(c),void 0,this)};
q.W=Object.keys?function(){return Object.keys(this.e).length}:function(){var a=0,b;for(b in this.e)a++;return a};q.O=Object.keys?function(){return Object.keys(this.e).map(Tr,this)}:function(){var a=[],b;for(b in this.e)a.push(Tr(b));return a};q.L=function(){for(var a in this.e)return!1;return!0};function Ur(a,b){for(var c in a.e)if(!(c in b.e))return!1;return!0}q.Jb=function(){return pb(this.O())};function Vr(a,b){this.e=a;this.g=b}function Qp(a,b,c){b=D(a.i,a,b,c);Wr(a.e.e.kc(),b,function(a){return c(a.$())})}Vr.prototype.i=function(a,b,c){Xr(this,a,b,Qa(c,function(a){return a.get()}))};function Xr(a,b,c,d){for(var e=0;e<d.length;e++)Ph(d[e]);a.e.ka(d,b,function(a){return c(a.$())})};var Y="Amatic SC;Caveat;Comfortaa;EB Garamond;Lobster;Lora;Merriweather;Montserrat;Nunito;Oswald;Pacifico;Playfair Display;Roboto;Roboto Mono;Spectral".split(";"),Yr="Baloo;Eczar;Hind;Kalam;Khand;Martel;Modak;Poppins;Tillana;Yantramanav;Yatra One".split(";"),Zr="Alef;Amatic SC;Assistant;David Libre;Frank Ruhl Libre;Miriam Libre;Rubik;Suez One;Varela Round".split(";"),$r={af:Y,ar:"Amiri;Aref Ruqaa;Cairo;Changa;El Messiri;Harmattan;Lemonada;Mada;Scheherazade".split(";"),az:Y,bg:Y,ca:Y,cs:Y,da:Y,de:Y,
el:"Crimson Text;Fira Mono;Fira Sans;Fira Sans Condensed;Fira Sans Extra Condensed;GFS Didot;Ubuntu;Ubuntu Condensed;Ubuntu Mono".split(";"),en:Y,es:Y,et:Y,fa:["Jomhuria","Katibeh","Lalezar","Mirza"],fi:Y,fil:Y,fr:Y,he:Zr,hi:Yr,hr:Y,hu:Y,id:Y,"in":Y,is:Y,it:Y,iw:Zr,kk:Y,lt:Y,lv:Y,mn:Y,mr:Yr,ms:Y,nb:Y,ne:Yr,nl:Y,no:Y,pl:Y,pt:Y,ro:Y,ru:Y,sk:Y,sl:Y,sr:Y,sv:Y,sw:Y,th:"Athiti Chonburi Itim Kanit Maitree Mitr Pattaya Pridi Prompt Sriracha Taviraj Trirong".split(" "),tr:Y,uk:Y,vi:Y};
function as(a){a=(a=a.match(/^\w{2,3}([-_]|$)/))?a[0].replace(/[_-]/g,""):"";return $r[a]||[]};function bs(){H.call(this)}F(bs,H);bs.prototype.Pb=function(a,b){var c=[],d=new T,e=new T;Fi(d,e);U(d,Ea(b,c));cs(this,a,"file",function(b){if(b)for(var e=0;e<b.length;e++)c.push(new ds(b[e],a));d.e()});cs(this,a,"directory",D(function(b){if(b&&b.length)for(var d=b.length,f=0;f<b.length;f++)this.Pb(a.concat(b[f]),function(a){d--;Za(c,a);0==d&&e.e()});else e.e()},this))};function ds(a,b){this.e=a;this.g=b};function es(a,b,c,d,e,f,g,l,k,p,r){this.n=a;this.I=b;this.i=c;this.o=d;this.B=e;this.j=f;this.e=g;this.l=l;this.q=k;this.g=p;this.k=r}q=es.prototype;q.cd=function(a,b,c,d){var e=this;fs(this).then(function(f){gs(e,a,f,b,c,d)},function(a){a instanceof xh?d(fd(a.$())):d(fd(a))})};function gs(a,b,c,d,e,f){var g=new fr;hr(g,b);hr(g,c);b=eb(a.e,function(b){return Pp(a.j,b)});hr(g,b);a.g&&hs(a,g);d=D(a.ue,a,e,f,g,d);cs(a.l,["fonts"],"file",d)}
function fs(a){switch(a.k){case "locale":return is(a);case "coreLocale":return is(a);case "core":return af(eb(a.e,function(a){return Pp(Y,a)}));default:return af([])}}function is(a){return Mi(Nm(a.I)).then(function(b){var c=(b=Uh(b,"locale"))?as(b):[];return eb(a.e,function(a){return Pp(c,a)})})}function hs(a,b){var c=js(a,Ar);hr(b,c);c=js(a,Br);hr(b,c);a=js(a,Cr);hr(b,a)}
function js(a,b){b=a.g.get(b);for(var c=[],d=0;d<b.length;d++)Za(c,Dr(b[d]));ab(c);return eb(a.e,function(a){return Pp(c,a)})}q.ue=function(a,b,c,d,e){e=e||[];Wr(this.n,D(this.ge,this,a,b,c,d,e),function(a){return b(a.$())})};
q.ge=function(a,b,c,d,e,f){f=ks(f);if(d)for(var g=gr(f),l=g.length-1;0<=l&&!(60<=c.W());l--){var k=g[l].getFontFamily(),p=g[l].M();c.get(k,p)||c.set(k,p,!0)}else hr(c,gr(f));g=gr(c);l=[];for(var r=0;r<g.length;r++)k=g[r].getFontFamily(),p=g[r].M(),l.push(new Sq(new eh(k,p)));ti(Kr(this.o,l),D(this.ve,this,a,b,c,d,e,f),function(a){b(cj(a))})};
q.ve=function(a,b,c,d,e,f,g){g=g.e;for(var l=new fr,k=0;k<g.length;k++){var p=g[k].i,r=g[k].e;l.set(r.getFontFamily(),r.M(),p)}r=new Qr(e);p=[];k=[];g=new fr;for(var u=gr(f),w=0;w<u.length;w++){var B=u[w],z=B.getFontFamily();B=B.M();var y=f.get(z,B);if(d&&!c.get(z,B))p.push(y),y=f,z=z+"|"+B,y.e[z]&&(delete y.e[z],y.g--);else{for(var N=this.q,oa=y.getFontFamily(),ha=y.vb(),Ra=[],sa=0;sa<ha.length;sa++){for(var xa=ha[sa],qc=[],nb=0;nb<xa.e.length;nb++){var pe=xa.e[nb];qc.push(new $q(pe.getUrl(),pe.i,
pe.eb()))}Ra.push(new Zq(xa.getFontFamily(),xa.M()||"latin",xa.i,xa.j,xa.q,qc))}y=cr(oa,y.M()||"latin",Ra,y.e.version,""!=y.e.domainFont,""!=y.e.inkedSpace,N);g.set(z,B,y);y=er(y);for(var db in y)if(y=db.match(Er),!(Rr(y?y[1]:null)in r.e)){z=hh(z);k.push(new jh(z.e,B,z.g));break}}}d=new T;Xr(this.i,D(d.e,d),D(d.errback,d),p);c=l.O();for(f=0;f<c.length;f++)db=c[f],p=db.getFontFamily(),l=db.M(),r=g.get(p,l),r&&r.cb(db)||(db=hh(p),k.push(new jh(db.e,l,db.g)));k=ui(this.B,k);f=[];f.push(Li(k),d);k=ok(f);
d=new fr;for(f=0;f<c.length;f++)l=c[f].getFontFamily(),d.set(l,c[f].M(),c[f]);g=g.O();for(c=0;c<g.length;c++)f=g[c].getFontFamily(),d.set(f,g[c].M(),g[c]);Di(k,D(this.$d,this,a,b,d,e),b)};q.$d=function(a,b,c,d){var e=this.i;if(d){var f=[];c=c.O();for(var g=0;g<c.length;g++){var l=er(c[g]),k;for(k in l)f.push(l[k])}d=new Qr(d);for(k=0;k<f.length;k++)delete d.e[Rr(f[k])];f=d.O();d=[];for(k=0;k<f.length;k++)c=new T,yp(e.g,["fonts"],f[k],D(c.e,c),D(c.errback,c)),d.push(c);Di(ok(d),a,b)}else b(Error("No filesystem font files provided."))};
function ks(a){for(var b=new fr,c=0;c<a.length;c++){var d=a[c].get(),e=d.getFontFamily();b.set(e,d.M()||"latin",d)}return b};function ls(a,b){this.e=a;this.g=b};function ms(a,b,c,d,e){H.call(this);this.e=a;this.g=b;this.l=d;this.n=e;this.j={};this.i=c;this.k=sb(this.g)}F(ms,H);q=ms.prototype;q.Md=0;q.ob=0;q.hc=0;q.bd=0;q.Za=0;q.$e=function(a){if(a){for(var b=[],c=0;c<a.length;c++){var d=a[c];this.g[d.e]||b.push(d)}if(b.length)for(this.hc+=b.length,a=0;a<b.length;a++)c=b[a],yp(this.e,c.g,c.e,D(this.Yd,this),D(this.Xd,this))}ns(this)};
function ns(a){if(0==a.k)os(a);else{var b=O(M(),"docs-localstore-sefr"),c;for(c in a.g){var d=a.g[c];if(d.g)if(b&&d.j){var e=a.e,f=a.i.concat(d.e),g=c;d=D(a.te,a,c,d);d=new ps(D(e.xe,e,g,f,d));e.e.getFileUrl(Bp(f),f,g,d)}else qs(a,c,d);else a.Dc(c,null)}}}q.te=function(a,b,c){c?this.Dc(a,c):qs(this,a,b)};function qs(a,b,c){var d=a.e,e=a.i.concat(c.e);c=c.g;var f=D(a.Dc,a,b),g=D(a.Zd,a);a=new rs(f);f=D(d.fe,d,b,e,c,f,g);f=new Ap(D(d.sb,d,f));d.e.addFile(Bp(e),e,b,c,a,f)}
q.Dc=function(a,b){this.j[a]=b;this.Md++;os(this)};q.Zd=function(){this.ob++;os(this)};q.Yd=function(){this.bd++;os(this)};q.Xd=function(){this.Za++;os(this)};function os(a){var b=a.bd+a.Za;a.k==a.Md+a.ob&&a.hc==b&&a.n(a)}q.z=function(){ms.G.z.call(this);delete this.e;delete this.g};function ss(a){this.e=a}function sp(a,b,c){var d={};d[b.i]=b;Dn(a,d,["templates"],!1,c)}function Dn(a,b,c,d,e){a=new ms(a.e,b,c,d,e);a.l?a.e.Pb(a.i,D(a.$e,a)):ns(a)};function Bp(a){return 2>a.length?null:"documents"==a[0]?a[1]:null};function ts(a){this.e=a};function Vm(a){return JSON.parse(a)};function us(a){this.type=a};function vs(a,b,c){this.type=9;this.documentId=a;this.nativeCommandBatches=b;this.isStaged=!1;this.shouldReplace=c}F(vs,us);function ws(a,b,c){this.type=12;this.templateId=a;this.nativeCommandBatches=b;this.shouldReplace=c}F(ws,us);function xs(a,b,c,d,e){this.partId=a;this.revision=b;this.chunkIndex=c;this.timestamp=d;this.serializedCommands=e};function ys(a){switch(a.e){case "append-commands":var b=a.i;b=zs(b);return new vs(a.k,b,a.j);case "append-template-commands":return b=a.i,b=zs(b),new ws(a.k,b,a.j);default:throw Error("Operation type "+a.e+" not supported.");}}function zs(a){for(var b=[],c=0;c<a.length;c++){var d=a[c],e=null;null==e&&(e=-1);for(var f=[],g=d.pa(),l=0;l<g.length;l++)f.push(mk(g[l]));b.push(new xs(String(d.j),d.Q(),d.e,e,JSON.stringify(f)))}return b};function Ap(a){this.e=a}Ap.prototype.callback=function(a,b){this.e(a,b)};function As(a){switch(a){case 1:return 2;default:return 1}};function Bs(a,b){Hh.call(this,a,b)}t(Bs,Hh);Bs.prototype.z=function(){Hh.prototype.z.call(this)};function Cs(){}function Ds(a,b){for(var c=Ya(b);255<a.length;){c.length==b.length&&(a="+"+a);var d=255;265>a.length&&(d=a.length-10);var e=a.substring(0,d);a=a.substring(d);c.push(e)}return new Es(a,c)}function Fs(a){var b=a.g,c;a:{for(c=0;c<b.length;c++)if(0==b[c].indexOf("+"))break a;c=-1}if(-1==c)return a;for(var d="",e=c;e<b.length;e++){var f=b[e];e==c&&(f=f.substring(1));d+=f}d+=a.e;return new ds(d,$a(b,0,c))}function Es(a,b){this.Ka=a;this.e=b};function rs(a){this.e=a}rs.prototype.callback=function(a,b){this.e(b)};function ps(a){this.e=a}ps.prototype.callback=function(a){this.e(a)};function zp(a){this.e=a||null}zp.prototype.callback=function(){this.e&&this.e()};function Gs(a){this.e=a}Gs.prototype.callback=function(a){this.e(a)};function Hs(a){H.call(this);this.e=a}F(Hs,bs);function cs(a,b,c,d){a:switch(c){case "all":c=0;break a;case "directory":c=1;break a;case "file":c=2;break a;default:throw Error("Unexpected content type: "+c);}a.e.getDirectoryContents(Bp(b),b,c,new Gs(d))}q=Hs.prototype;q.fe=function(a,b,c,d,e,f){var g=Ds(a,b);g.Ka==a?e(f):(a=new rs(d),e=new Ap(D(this.sb,this,e)),this.e.addFile(Bp(b),g.e,g.Ka,c,a,e))};q.xe=function(a,b,c,d){var e=Ds(a,b);d||a==e.Ka?c(d):this.e.getFileUrl(Bp(b),e.e,e.Ka,new ps(c))};
function yp(a,b,c,d,e){e=D(a.Fe,a,c,b,d,e);d=new zp(e);e=new Ap(D(a.sb,a,e));a.e.removeFile(Bp(b),b,c,d,e)}q.Fe=function(a,b,c,d,e){var f=Ds(a,b);a==f.Ka?e?d(e):c():(c=D(this.Ge,this,c,d,e),a=new zp(c),c=new Ap(D(this.sb,this,c)),this.e.removeFile(Bp(b),f.e,f.Ka,a,c))};q.Ge=function(a,b,c,d){c&&d?b(c):a()};q.Pb=function(a,b){b=D(this.we,this,b);Hs.G.Pb.call(this,a,b)};q.we=function(a,b){for(var c=[],d=0;d<b.length;d++)c.push(Fs(b[d]));a(c)};
q.sb=function(a,b,c){a(Error("FileStorageAdapter error:"+b+", "+c))};function Is(a,b){this.type=a;this.recordKey=b}F(Is,us);function Js(a){Is.call(this,1,a)}F(Js,Is);function Ks(a){this.e=a}Ks.prototype.callback=function(a){this.e(a)};function Ls(a){this.recordType=a};function Ms(a){this.recordType=1;this.docId=a}F(Ms,Ls);function Ns(){this.e={}}Ns.prototype.setStringProperty=function(a,b){this.e[a]=b};Ns.prototype.setNumberProperty=function(a,b){this.e[a]=b};Ns.prototype.setSerializedObjectProperty=function(a,b){this.e[a]=b};Ns.prototype.setNullProperty=function(a){this.e[a]=null};function X(a,b){a=Os(a,b);return A(a)?a:null}function Ps(a,b){a=Os(a,b);return pa(a)?a:null}function Os(a,b){a=a.e[b];return null!=a?a:null};function Qs(a){this.g=new Ms(a);this.e={}}F(Qs,Ns);function Rs(a,b){this.propertyType=a;this.propertyName=b};function Ss(a){Rs.call(this,3,a)}F(Ss,Rs);function Ts(a,b){Rs.call(this,0,a);this.numberValue=b}F(Ts,Rs);function Us(a,b){Rs.call(this,2,a);this.serializedObjectValue=b}F(Us,Rs);function Vs(a,b){Rs.call(this,1,a);this.stringValue=b}F(Vs,Rs);function Ws(a){var b=[],c;for(c in a){if(!c)throw Error("Invalid localStore modifications. Property cannot be null.");var d=a[c];if(pa(d))b.push(new Ts(c,d));else if(A(d))b.push(new Vs(c,d));else if("boolean"==typeof d)b.push(new Vs(c,d?"true":""));else if(za(d))b.push(new Us(c,JSON.stringify(d)));else if(null===d)b.push(new Ss(c));else throw Error("Invalid localStore modifications.");}return b};function Xs(a,b,c,d){Is.call(this,d||0,a);this.isNew=c;this.modifications=b;b=this.e();switch(a.recordType){case 1:if("document"!=b)throw Error("Must use DOCUMENT subtype for updating DOCUMENT records");break;case 0:if("application-metadata"!=b)throw Error("Must use APPLICATION_METADATA subtype for updating APPLICATION_METADATA records");}}F(Xs,Is);function Ys(a,b,c){Xs.call(this,new Ms(a),Ws(b),c);this.hasLastModifiedServerTimestampModification=!1;this.lastModifiedServerTimestampModification=-1;this.hasJobsetModification=!1;this.jobsetModification=null;this.hasFontFamiliesModification=this.isNotCreatedModification=this.hasIsNotCreatedModification=this.isFastTrackModification=this.hasIsFastTrackModification=!1;this.fontFamiliesModification=null;this.hasSnapshotStateModification=!1;this.snapshotStateModification=-1;this.hasSnapshotProtocolNumberModification=
!1;this.snapshotProtocolNumberModification=-1;this.isModelResyncRequiredModification=this.hasIsModelResyncRequiredModification=!1;"lastModifiedServerTimestamp"in b&&(this.hasLastModifiedServerTimestampModification=!0,this.lastModifiedServerTimestampModification=b.lastModifiedServerTimestamp);"jobset"in b&&(this.hasJobsetModification=!0,this.jobsetModification=b.jobset);"isFastTrack"in b&&(this.hasIsFastTrackModification=!0,this.isFastTrackModification=!!b.isFastTrack);"inc"in b&&(this.hasIsNotCreatedModification=
!0,this.isNotCreatedModification=!!b.inc);"modelNeedsResync"in b&&(this.hasIsModelResyncRequiredModification=!0,this.isModelResyncRequiredModification=!!b.modelNeedsResync);if("startupHints"in b&&(a=b.startupHints.fontFamilies)){this.hasFontFamiliesModification=!0;try{this.fontFamiliesModification=Vm(a)}catch(d){this.hasFontFamiliesModification=!1}}"snapshotState"in b&&(this.hasSnapshotStateModification=!0,this.snapshotStateModification=b.snapshotState);"snapshotProtocolNumber"in b&&(this.hasSnapshotProtocolNumberModification=
!0,b=b.snapshotProtocolNumber,this.snapshotProtocolNumberModification=null===b?-1:b)}F(Ys,Xs);Ys.prototype.e=aa("document");function Zs(a,b){Zl.call(this,b);this.n=a}t(Zs,Zl);
function ep(a,b,c,d){a.n.readDocument(b,!1,new Ks(function(b){if(b){var d=new ai(b.g.docId,X(b,"documentType"),!1);S(d,"title",X(b,"title"));S(d,"lastSyncedTimestamp",Ps(b,"lastSyncedTimestamp"));S(d,"jobset",X(b,"jobset"));R(d,"isFastTrack",!!X(b,"isFastTrack"));var e=X(b,"acl");if(null!=e){e=Vm(e);for(var l in e)Yh(d,"acl",l,e[l])}if(l=X(b,"startupHints")){l=Vm(l);for(var k in l)hi(d,k,l[k])}(k=Ps(b,"lastModifiedServerTimestamp"))&&ei(d,k);(k=Ps(b,"lastColdStartedTimestamp"))&&S(d,"lastColdStartedTimestamp",
k);(k=Ps(b,"lastWarmStartedTimestamp"))&&S(d,"lastWarmStartedTimestamp",k);(k=X(b,"docosKeyData"))&&fi(d,Vm(k));k=X(b,"inc");null!=k&&R(d,"inc",!!k);k=Ps(b,"lastModifiedClientTimestamp");null!=k&&gi(d,k);k=X(b,"ic");null!=k&&(k=Vm(k),null!=k&&S(d,"ic",k));k=X(b,"hpmdo");null!=k&&R(d,"hpmdo",!!k);k=X(b,"ips");null!=k&&R(d,"ips",!!k);k=X(b,"fact");null!=k&&S(d,"fact",k);k=X(b,"modelNeedsResync");null!=k&&ii(d,!!k);k=X(b,"ind");null!=k&&R(d,"ind",!!k);k=X(b,"isd");null!=k&&R(d,"isd",!!k);k=Ps(b,"modelVersion");
null!=k&&ji(d,k);k=Ps(b,"featureVersion");null!=k&&ki(d,k);k=Ps(b,"rev");null!==k&&(l=(l=X(b,"rai"))?$h(Vm(l)):null,di(d,k,l));k=X(b,"pendingCreation");null!=k&&R(d,"pendingCreation",!!k);k=Ps(b,"lastServerSnapshotTimestamp");null!=k&&li(d,k);k=Ps(b,"snapshotState");null===k||mi(d,k);k=Ps(b,"pendingQueueState");null===k||oi(d,k);b=X(b,"odocid");null!==b&&S(d,"odocid",b);d.q=!1;if(!a.k[ci(d)])throw Error("No document adapter found for type: "+ci(d));c(d)}else c(null)}),d?new Ap(function(a,b){d(new Dh(As(a),
b))}):null)}Zs.prototype.j=function(a){switch(a.e){case "update-record":return new Ys(Vl(a),a.g,a.i);case "delete-record":return new Js(new Ms(Vl(a)));case "append-commands":if(!this.k[a.g])throw Error("No document adapter found for type:"+a.g);return ys(a);default:throw Error("Operation type "+a.e+" not supported.");}};function $s(a){this.recordType=0;this.documentType=a}F($s,Ls);function at(){this.e={}}F(at,Ns);at.prototype.setSerializedInitialCommands=h();function Lp(a){this.e=a}Lp.prototype.callback=function(a){this.e(a)};function bt(a,b,c,d){Xs.call(this,new $s(a),Ws(b),d);this.serializedInitialCommands=c;this.hasJobsetModification=!1;this.jobsetModification=null;"jobset"in b&&(this.hasJobsetModification=!0,this.jobsetModification=b.jobset)}F(bt,Xs);bt.prototype.e=aa("application-metadata");function ct(a,b){cm.call(this,a);this.k=b}t(ct,cm);function Mp(a){return a?new Ap(function(b,c){a(new Dh(As(b),c))}):null}
ct.prototype.j=function(a){var b=a.e;if("update-application-metadata"==b){b=null;if(null!=a.j){b=Vl(a);if(!this.n[b])throw Error("No adapter found for this type: "+b);b=[];if(a.j)var c=a.j;else throw Error("No new initial commands are available.");for(var d=0;d<c.length;d++)b.push(mk(c[d]))}c=null;b&&(c=JSON.stringify(b));return new bt(Vl(a),a.g,c,a.i)}throw Error("Operation type "+b+" not supported.");};function dt(a,b,c){this.recordType=3;this.entityId=a;this.entityType=b;this.docId=c}F(dt,Ls);function et(){this.e={}}F(et,Ns);function ft(a,b,c){Xs.call(this,a,b,c)}F(ft,Xs);ft.prototype.e=aa("simple");function gt(){H.call(this)}t(gt,em);gt.prototype.j=function(a){switch(a.e){case "update-record":var b=Vl(a);return new ft(new dt(b[2],b[1],b[0]),Ws(a.g),a.i);case "delete-record":return a=Vl(a),new Js(new dt(a[2],a[1],a[0]));default:throw Error("Operation type "+a.e+" not supported.");}};function ht(a){this.e=a}ht.prototype.callback=function(a){this.e(a)};function it(a,b){this.type=11;this.documentId=a;this.lockLevel=b}F(it,us);function jt(a,b){H.call(this);this.o=a;this.n=b;this.k=new P;I(this,this.k)}t(jt,fm);function Uo(a,b,c,d){a.o.acquireLock(a.n,b,new ht(function(a){if(0==a)c(1);else if(1==a)c(2);else throw Error("Lock acquisition result unsupported: "+a);}),new Ap(function(a,b){d(new Dh(As(a),b))}))}
jt.prototype.j=function(a){var b=a.e;if("document-lock"==b){b=a.g;a=a.i;if(1==a)a=0;else if(2==a)a=1;else throw Error("Document lock requirement level "+a+" not supported by the native document lock capability.");return new it(b,a)}throw Error("Operation type "+b+" not supported by the document lock capability.");};function kt(a){H.call(this);this.j=a}t(kt,jm);function $o(a,b,c,d){a.j.removeNonSnapshottedDocumentIds(b,new zp(c),d?new Ap(function(a,b){d(new Dh(As(a),b))}):null)};function lt(a){this.e=a}lt.prototype.callback=function(a){this.e(a)};function mt(a,b){this.recordType=6;this.docId=a;this.placeholderId=b}F(mt,Ls);function nt(a,b){this.g=new mt(a,b);this.e={}}F(nt,Ns);function ot(a){a=new km(a.g.docId,a.g.placeholderId,X(a,"u"),X(a,"ou"),X(a,"f"),X(a,"c"),X(a,"s"),X(a,"oc"),!1);a.q=!1;return a};function pt(a){H.call(this);this.k=a}t(pt,nm);function po(a,b,c,d){a.k.readAllBlobMetadataForDocument(b,new lt(function(a){for(var b=[],d=0;d<a.length;d++)b.push(ot(a[d]));c(b)}),d?new Ap(function(a,b){d(new Dh(As(a),b))}):null)}function ap(a,b,c,d){a.k.clearBlobMetadataForDocument(b,new zp(c),d?new Ap(function(a,b){d(new Dh(As(a),b))}):null)}
pt.prototype.j=function(a){switch(a.e){case "update-record":var b=Vl(a);return new ft(new mt(b[0],b[1]),Ws(a.g),a.i);case "delete-record":return a=Vl(a),new Js(new mt(a[0],a[1]));default:throw Error("Operation type "+a.e+" not supported.");}};function qt(a){this.recordType=2;this.docId=a}F(qt,Ls);function rt(a,b,c){Xs.call(this,new qt(a),c,b,2)}F(rt,Xs);rt.prototype.e=aa("pending-queue");function st(a,b,c,d){Xs.call(this,new qt(a),d,b,4);this.hasCommandsAfterFirstSentBundle=c}F(st,Xs);st.prototype.e=aa("pending-queue");function tt(a,b,c){Xs.call(this,new qt(a),c,b,3)}F(tt,Xs);tt.prototype.e=aa("pending-queue");function ut(a,b,c,d){this.docId=a;this.sessionId=b;this.requestId=c;this.lastEntryIndex=d};function vt(a,b){this.type=5;this.documentId=a;this.lastCommandsIndex=b}F(vt,us);function wt(a,b,c,d,e){Xs.call(this,new qt(a),c,b,6);this.bundleMetadataArray=d;this.shouldReplaceOldBundles=e}F(wt,Xs);wt.prototype.e=aa("pending-queue");function xt(){this.g=this.i=null;this.e={}}F(xt,Ns);xt.prototype.setCommandBundleMetadataArray=m("i");xt.prototype.setCommandBatchArray=m("g");function yt(a,b,c){this.type=7;this.documentId=a;this.serializedCommands=b;this.commandsIndex=c}F(yt,us);function zt(a){this.e=a}zt.prototype.callback=function(a){this.e(a)};function At(a,b,c){vm.call(this,b,c);this.q=a}t(At,vm);
function cn(a,b,c,d){a.q.readPendingQueue(b,new zt(function(b){if(b){var d=b.i,e=b.g;if(!d||!e)throw Error("Command bundle or command batch should not be null");var l=0,k=[],p=[],r=[],u=-1,w=X(b,"documentType"),B=wm(a,w),z=X(b,"unsentBundleMetadata");if(null===z)z=[];else{var y=null;try{y=Vm(z)}catch(xa){Ol(a.g,Error("Unable to parse unsent bundle metadata!"),{unsentBundleMetadata:z})}z=Am(y)}y=!0;for(var N=0;N<e.length;N++){u=e[N];var oa=null;try{oa=Vm(u.serializedCommands)}catch(xa){Ol(a.g,Error("Unable to parse serialized commands!"),
{serializedCommands:u.serializedCommands})}var ha=k,Ra=B.e,sa=oa;oa=E();sa=Qg(sa);oa=E()-oa;Ra.e.j("md",oa);Za(ha,sa);u=u.commandsIndex;l<d.length?(ha=d[l],ha.lastEntryIndex==u&&(p.push(new ml(k,ha.requestId,ha.sessionId)),k=[],l++)):l<z.length+d.length&&(ha=z[l-d.length],ha.lastEntryIndex==u&&(y=!1,r.push(new ml(k,ha.requestId,ha.sessionId)),k=[],l++))}y&&(z=[]);k.length&&(d=Vg(),r.push(new ml(k,0,d)),z.push(new ym(0,d,u)));k=new nl(X(b,"docId"),w,!1,u,p,r);p=Ps(b,"accessLevel");null!==p&&S(k,"accessLevel",
p);p=(p=X(b,"revisionAccessInfo"))?$h(Vm(p)):null;Lk(k,Ps(b,"revision"),p);p=X(b,"selection");null===p||sl(k,Vm(p));ql(k,!!X(b,"undeliverable"));Mk(k,!!X(b,"unsavedChanges"));p=Ps(b,"sentBundlesSavedRevision");null===p||rl(k,p);b=Ps(b,"snapshotBundleIndex");x(b)&&Jk(k,b);k.q=!1;tl(k,zm(z));c(k)}else c(null)}),d?new Ap(function(a,b){d(new Dh(As(a),b))}):null)}
At.prototype.j=function(a){switch(a.e){case "update-record":return new ft(new qt(Vl(a)),Ws(a.g),a.i);case "pq-clear":return new rt(Vl(a),a.i,Ws(a.g));case "pq-clear-sent":return new tt(Vl(a),a.i,Ws(a.g));case "pq-clear-sent-bundle":return new st(Vl(a),a.i,a.j,Ws(a.g));case "pq-mark-sent":for(var b=a.j,c=[],d=Vl(a),e=0;e<b.length;e++){var f=b[e];c.push(new ut(d,f.sessionId,f.requestId,f.lastEntryIndex))}return new wt(d,a.i,Ws(a.g),c,a.l);case "pq-delete-commands":return new vt(a.g,a.i);case "pq-write-commands":return new yt(a.j,
JSON.stringify(a.pa()),a.g);default:throw Error("Operation type "+a.e+" not supported.");}};function Bt(a){this.recordType=5;this.keyPath=a}F(Bt,Ls);function Ct(){this.e={}}F(Ct,Ns);function Dt(a){var b=Vm(X(a,"keyPath")),c=Vm(X(a,"state"));a=Vm(X(a,"data"));b=new Dm(!1,b,c);b.q=!1;S(b,"data",a);return b};function Et(a){this.e=a}Et.prototype.callback=function(a){this.e(a)};function Ft(a){H.call(this);this.k=a}t(Ft,Fm);function Gt(a,b,c){a.k.getAllSyncObjects(new Et(function(a){for(var c=[],d=0;d<a.length;d++)c.push(Dt(a[d]));b(c)}),c?new Ap(function(a,b){c(new Dh(As(a),b))}):null)}Ft.prototype.j=function(a){switch(a.e){case "update-record":return new ft(new Bt(JSON.stringify(Vl(a))),Ws(a.g),a.i);case "delete-record":return new Js(new Bt(JSON.stringify(Vl(a))));default:throw Error("Operation type "+a.e+" not supported.");}};function Ht(a){this.recordType=8;this.templateId=a[0]}F(Ht,Ls);function It(){this.e={}}F(It,Ns);function Jt(a){this.recordType=7;this.templateId=a[0]}F(Jt,Ls);function Kt(){this.e={}}F(Kt,Ns);function Lt(){H.call(this)}t(Lt,Hm);Lt.prototype.z=function(){Hm.prototype.z.call(this)};function Mt(a){this.e=a}Mt.prototype.callback=function(a){this.e(a)};function Nt(a){this.e=a}Nt.prototype.callback=function(a){this.e(a)};function Ot(a,b){Jm.call(this,b);this.k=a}t(Ot,Jm);function kp(a,b,c,d){a.k.readAllTemplateMetadata(b,new Mt(function(a){for(var b={},d=0;d<a.length;d++){var e=Pt(a[d]);b[e.e.id]=e}c(b)}),new Ap(function(a,b){return Qt(d||null,a,b)}))}function Vp(a,b,c,d){a.k.readTemplateMetadata(b,new Nt(function(a){c(a?Pt(a):null)}),new Ap(function(a,b){return Qt(d||null,a,b)}))}function Cp(a,b,c,d){a.k.deleteTemplate(b,new zp(c),new Ap(function(a,b){return Qt(d||null,a,b)}))}
Ot.prototype.j=function(a){switch(a.e){case "update-record":return new ft(Rt(a),Ws(a.g),a.i);case "delete-record":return new Js(Rt(a));case "append-template-commands":if(!Km(this,a.g))throw Error("No template adapter found for type: "+a.g);return ys(a);default:throw Error("Operation type "+a.e+" not supported.");}};
function Pt(a){var b=X(a,"id"),c=X(a,"title"),d=Ps(a,"style"),e=Ps(a,"category"),f=X(a,"locale"),g=X(a,"creator"),l=X(a,"thumbnailUrl"),k=X(a,"documentType"),p=Ps(a,"lastModifiedTimestamp");var r=Vm(X(a,"fontFamilies"));a=new Im(b,c,d,e,f,g,l,k,p,r,X(a,"brandedAuthor"),X(a,"brandedUrl"),Ps(a,"masterTemplate"),!!X(a,"isThumbnailReady"),!!X(a,"isReady"),!!X(a,"isDirty"),!1);a.q=!1;return a}function Qt(a,b,c){b=new Dh(As(b),c);if(a)a(b);else throw Error(Eh(b));}
function Rt(a){var b=a.q;if("templateMetadata"==b)return new Jt(Vl(a));if("templateCreationMetadata"==b)return new Ht(Vl(a));throw Error("Unsupported record type "+b);};function St(a,b){H.call(this);this.j=a;this.k=b}t(St,Mm);function jk(a,b){var c=new Lm("mobileUser",!1);R(c,"fastTrack",a.j);S(c,"locale",a.k);b([c])}St.prototype.g=function(){return[]};function Tt(a){this.e=a}Tt.prototype.callback=function(a){this.e(a)};function Ut(a){this.recordType=4;this.fontFamily=a}F(Ut,Ls);function Vt(){this.e={}}F(Vt,Ns);function Wt(a){Um.call(this,X(a,"fontFamily"));this.g=a}t(Wt,Um);function Zt(a){H.call(this);this.k=a}t(Zt,Wm);function Wr(a,b,c){a.k.readAllFontMetadata(new Tt(function(a){for(var c=E(),d=[],g=0;g<a.length;g++)d.push(new Wt(a[g]));b(d,c,E()-c)}),c?new Ap(function(a,b){c(new Dh(As(a),b))}):null)}Zt.prototype.j=function(a){switch(a.e){case "update-record":return new ft(new Ut(Vl(a)),Ws(a.g),a.i);case "delete-record":return new Js(new Ut(Vl(a)));default:throw Error("Operation type "+a.e+" not supported.");}};function $t(a,b,c,d,e,f,g,l,k,p,r,u,w,B,z,y,N){Bm.call(this);this.g=new At(e,a,N);Cm(this,this.g);this.e=new Zs(c,a);Cm(this,this.e);this.v=new jt(f,g);this.k=new St(z,y);Cm(this,this.k);this.A=null;d&&(this.A=new pt(d),Cm(this,this.A));this.i=null;l&&(this.i=new ct(a,l),Cm(this,this.i));this.w=null;k&&(this.w=new gt(k),Cm(this,this.w));this.D=null;p&&(this.D=new kt(p),Cm(this,this.D));this.j=null;r&&(this.j=new Ft(r),Cm(this,this.j));this.l=null;u&&(this.l=new Zt(u),Cm(this,this.l));this.o=null;
B&&w&&(this.o=new Ot(B,w),Cm(this,this.o));this.F=b}t($t,Bm);q=$t.prototype;q.jc=n("A");q.$a=n("i");q.ed=n("D");q.Mb=n("j");q.kc=n("l");q.ab=n("o");function $m(a,b,c,d){for(var e=[],f=0;f<b.length;f++){var g=b[f];(g=au(a,g).j(g))&&e.push(g)}a.F.executeOperations(e,new zp(c),d?new Ap(function(a,b){d(new Dh(As(a),b))}):null)}
function au(a,b){var c=b.e;if("update-record"==c||"delete-record"==c){b=b.q;a=a.n[b]||null;if(!a)throw Error("No capability registered for record type "+b);return a}b=b.e;if("pq-clear"==b||"pq-clear-sent"==b||"pq-clear-sent-bundle"==b||"pq-delete-commands"==b||"pq-mark-sent"==b||"pq-write-commands"==b)return a.g;if("document-lock"==b)return a.v;if("append-commands"==b)return a.e;if("update-application-metadata"==b&&a.$a())return a.$a();if("append-template-commands"==b&&a.ab())return a.ab();throw Error("No capability registered for operation type "+
b);}q.z=function(){Nd(this.g,this.e,this.i,this.w,this.v,this.k,this.j,this.l,this.o);Bm.prototype.z.call(this)};function bu(a,b,c,d,e,f,g,l,k,p,r,u,w,B,z,y,N,oa,ha,Ra){H.call(this);this.l=a;this.P=b;this.F=c;this.S=d;this.ga=e;this.K=f;this.A=g;this.H=l;this.J=k;this.N=p;this.ha=u;this.X=r;this.g=w;this.Y=B;a=new Cs;this.v=z?new Hs(z,a):null;this.i=y;this.w=N;this.D=oa;this.n=new T;this.j=new T;this.o=Ra}F(bu,H);bu.prototype.create=function(a){this.e(a);return this.j};
bu.prototype.e=function(a){var b={},c;for(c in this.l){var d=new Bs(c,this.i,this.l[c],a);I(this,d);b[c]=d}d=null;if(this.g)for(c in d={},this.g){var e=new Lt(c,this.i,this.g[c],a);I(this,e);d[c]=e}a=new $t(b,this.P,this.F,this.S,this.ga,this.K,this.A,this.H,this.J,this.N,this.X,this.ha,d,this.Y,this.w,this.D,this.o);I(this,a);a=new Xm(a);I(this,a);this.n.e(a);this.j.e(a);return a};bu.prototype.k=n("v");function cu(a){this.e=a}cu.prototype.clearPendingQueue=function(a){ti(ln(this.e),function(){return a.pendingQueueCleared()},function(){return a.pendingQueueClearFailed()})};function du(a,b,c){this.docId=a;this.commandsIndex=b;this.serializedCommands=c};function eu(a){this.e=null;U(a,D(this.Ae,this))}q=eu.prototype;q.Ae=m("e");q.provideDocument=function(a){return new Qs(a)};q.provideDocumentEntity=function(a,b,c){return new et(a,b,c)};q.provideCommandBatch=function(a,b,c,d,e){return new xs(a,b,c,d,e)};q.providePendingQueue=function(a){return new xt(a)};q.providePendingQueueCommandBatch=function(a,b,c){return new du(a,b,c)};q.providePendingQueueCommandBundleMetadata=function(a,b,c,d){return new ut(a,b,c,d)};q.provideApplicationMetadata=function(a){return new at(a)};
q.provideFontMetadata=function(a){return new Vt(a)};q.provideSyncObject=function(a){return new Ct(a)};q.provideLocalStorePendingQueueClearer=function(){return new cu(this.e)};q.provideBlobMetadata=function(a,b){return new nt(a,b)};q.provideTemplateMetadata=function(a){return new Kt([a])};q.provideTemplateCreationMetadata=function(a){return new It([a])};function fu(){}fu.prototype.create=function(){return Ji(null)};fu.prototype.e=jb("Cannot call #createSynchronously in NoOpLocalStoreFactory");fu.prototype.k=aa(null);function gu(){}q=gu.prototype;q.ic=null;q.Wc=!1;q.dd=null;q.Kd=!1;q.setSystemSupportedFonts=m("ic");q.setNativeFontInstaller=h();q.setMenuFontsEnabled=h();q.setAcceleratedNonLatinEnabled=m("Wc");q.setAcceleratedNonLatinSyncCheck=h();q.setFormat=m("dd");q.setDomainFontsEnabled=h();q.setSubsetExtractionEnabled=m("Kd");q.setIndependentDefaultFonts=h();q.setNonLatinUi=h();q.setJapaneseSystemFontsAsWebfonts=h();q.setKoreanSystemFontsAsWebfonts=h();
function hu(a){a.ic||(a.ic=Mr);bh=new ah(a.Wc,a.Kd,!0,a.dd)};function iu(){this.e={}}function ju(a,b,c,d){var e=a.e[b];return e?function(a){var b=c.apply(this,arguments);return b?e(b,d):null}:c};function Z(a,b){var c=new iu;this.e(c);for(var d in this)if("constructor"!=d&&ya(a[d])){var e=Oq(b,a[d],a);this[d]=ju(c,d,e,b)}}Z.prototype.e=ta;function ku(a,b){Z.call(this,a||{},b)}F(ku,Z);ku.prototype.readCommands=function(a,b,c,d){d.callback(0,"Native readCommands is not supported")};function lu(a,b){Z.call(this,a||{},b)}F(lu,Z);lu.prototype.readDocument=function(a,b,c,d){d.callback(0,"Native readDocument is not supported")};function mu(a,b){Z.call(this,a||{},b)}F(mu,Z);q=mu.prototype;q.popUnusedDocumentId=function(a,b,c){c.callback(0,"Native popUnusedDocumentId is not supported")};q.pushUnusedDocumentIds=function(a,b,c,d){d.callback(0,"Native pushUnusedDocumentIds is not supported")};q.getUnusedDocumentIdCount=function(a,b,c){c.callback(0,"Native getUnusedDocumentIdCount is not supported")};q.getApplicationMetadata=function(a,b,c){c.callback(0,"Native getApplicationMetadata is not supported")};
q.getAllApplicationMetadata=function(a,b){b.callback(0,"Native getAllApplicationMetadata is not supported")};function nu(a,b){Z.call(this,a||{},b)}F(nu,Z);nu.prototype.readDocumentEntity=function(a,b,c,d,e){e.callback(0,"Native readDocumentEntity is not supported")};nu.prototype.readDocumentEntities=function(a,b,c,d){d.callback(0,"Native readDocumentEntities is not supported")};nu.prototype.readDocumentEntitiesByIds=function(a,b,c,d,e){e.callback(0,"Native readDocumentEntitiesByIds is not supported")};function ou(a,b){Z.call(this,a||{},b)}F(ou,Z);ou.prototype.acquireLock=function(a,b,c,d){d.callback(0,"Native acquireLock is not supported")};ou.prototype.releaseAllLocks=ta;function pu(a,b){Z.call(this,a||{},b)}F(pu,Z);q=pu.prototype;q.addFile=function(a,b,c,d,e,f){f.callback(2,"Native addFile is not supported")};q.getFileUrl=function(a,b,c,d){d.callback(null)};q.getDirectoryContents=function(a,b,c,d){d.callback([])};q.getAllFilesWithUri=jb("Native getAllFilesWithUri is not supported");q.removeFile=function(a,b,c,d,e){e.callback(2,"Native removeFile is not supported")};q.removeDirectory=function(a,b,c,d){d.callback(2,"Native removeDirectory is not supported")};function qu(a,b){Z.call(this,a||{},b)}F(qu,Z);qu.prototype.pushNonSnapshottedDocumentId=function(a,b,c){c.callback(0,"Native non-snapshotted document id push is not supported")};qu.prototype.removeNonSnapshottedDocumentIds=function(a,b,c){c.callback(0,"Native non-snapshotted document id removal is not supported")};function ru(a,b){Z.call(this,a||{},b)}F(ru,Z);ru.prototype.executeOperations=function(a,b,c){c.callback(0,"Native executeOperations is not supported")};function su(a,b){Z.call(this,a||{},b)}F(su,Z);su.prototype.readAllBlobMetadataForDocument=function(a,b,c){c.callback(0,"Native blob metadata for a document is not supported")};su.prototype.clearBlobMetadataForDocument=function(a,b,c){c.callback(0,"Native clearing of blob metadata for a document is not supported")};function tu(a,b){Z.call(this,a||{},b)}F(tu,Z);tu.prototype.readPendingQueue=function(a,b,c){c.callback(0,"Native readPendingQueue is not supported")};function uu(a,b){Z.call(this,a||{},b)}F(uu,Z);uu.prototype.getAllSyncObjects=function(a,b){b.callback(0,"Native getAllSyncObjects is not supported")};function vu(a,b){Z.call(this,a,b)}F(vu,Z);vu.prototype.readCommands=function(a,b,c,d){d.callback(0,"Native readCommands is not supported")};vu.prototype.addCommands=jb("Native addCommands is not supported");function wu(a,b){Z.call(this,a||{},b)}F(wu,Z);wu.prototype.readAllTemplateMetadata=function(a,b,c){c.callback(0,"Native readAllTemplateMetadata is not supported")};wu.prototype.readTemplateMetadata=function(a,b,c){c.callback(0,"Native readTemplateMetadata is not supported")};wu.prototype.readTemplateCreationMetadata=function(a,b,c){c.callback(0,"Native readTemplateCreationMetadata is not supported")};wu.prototype.deleteTemplate=function(a,b,c){c.callback(2,"Native deleteTemplate is not supported")};function xu(a,b){Z.call(this,a||{},b)}F(xu,Z);xu.prototype.readAllFontMetadata=function(a,b){b.callback(0,"Native readAllFontMetadata is not supported")};xu.prototype.readFontMetadata=function(a,b,c){c.callback(0,"Native readFontMetadata is not supported")};function yu(){this.e=new gu;this.o=!1}F(yu,H);q=yu.prototype;q.nc=null;q.vc=null;q.wc=null;q.qc=null;q.oc=null;q.pc=null;q.tc=null;q.xc=null;q.Ac=null;q.yc=null;q.zc=null;q.uc=null;q.lc=null;q.rc=null;q.gd=!0;q.rd=null;q.fd=new T;q.setNativeDocumentCapability=m("nc");q.setNativePendingBlobCapability=m("vc");q.setNativePendingQueueCapability=m("wc");q.setNativeDocumentLockCapability=m("qc");q.setNativeDocumentCreationCapability=m("oc");q.setNativeNonSnapshottedDocsCapability=m("tc");
q.setNativeDocumentEntityCapability=m("pc");q.setNativeSyncObjectsCapability=m("xc");q.setNativeWebFontsCapability=m("Ac");q.setNativeTemplateAdapter=m("yc");q.setNativeTemplateCapability=m("zc");q.setNativeOperationExecutor=m("uc");q.setNativeDocumentAdapter=m("lc");q.setNativeFileStorageAdapter=m("rc");q.setFastTrack=m("gd");q.setLocale=m("rd");q.setFakeLocalStore=function(){this.o=!0};q.getWebFontsBuilder=n("e");q.createLocalStoreObjectProvider=function(){return new eu(this.fd)};
function zu(a,b,c,d){if(a.o)return new fu;if(a.lc&&a.uc&&a.nc&&a.wc&&a.qc){var e={};e[c]=new ku(a.lc,d);var f=new ru(a.uc,d),g=new lu(a.nc,d),l=new tu(a.wc,d),k=new ou(a.qc,d),p=null;a.oc&&(p=new mu(a.oc,d));var r=null;a.vc&&(r=new su(a.vc,d));var u=null;a.pc&&(u=new nu(a.pc,d));var w=null;a.tc&&(w=new qu(a.tc,d));var B=null;a.xc&&(B=new uu(a.xc,d));var z=null;a.Ac&&(z=new xu(a.Ac,d));var y=null;a.yc&&(y={},y[c]=new vu(a.yc,d));c=null;a.zc&&(c=new wu(a.zc,d));var N=null;a.rc&&(N=new pu(a.rc,d));return new bu(e,
f,g,r,l,k,!0,p,u,w,B,z,y,c,N,b,a.gd,a.rd,a.fd,d)}return null};function Au(a,b,c){K.call(this);this.g={"X-Same-Domain":"1"};!1===c&&(this.g={});this.j="";this.e=b||On();(a=jc((a||v).location.href,"authkey"))&&Bu(this,"authkey",a)}F(Au,K);function Cu(a,b){var c=b.length-1;0<=c&&b.indexOf("/",c);a.j=b}Au.prototype.k=function(a){Bu(this,"tfe",a)};function Bu(a,b,c){var d=a.e;if(c){if(d.e[b]=c,d.g&&(b=d.e.token||null))d.g.e(b),d.g=null}else delete d.e[b];se(a,"u")};function Du(a){K.call(this);this.g=a;this.e=null;this.j=new uk(this);this.j.ia(this.g,"u",this.k)}F(Du,K);Du.prototype.k=function(){this.e&&this.e.j(this.g.e.e)};Du.prototype.z=function(){this.e&&!this.e.q()&&(this.e.l("tfe_changed",this.g.k,this.g),this.e.e(),this.e.k());this.e=null;J(this.j);Du.G.z.call(this)};function Eu(a,b){H.call(this);this.e=[];this.k=a;(this.i=b||null)&&I(this,this.i);this.g=this.j=null;this.i&&(this.g=new zf(500),this.j=new uk(this),this.j.ia(this.g,"tick",this.l))}F(Eu,H);Eu.prototype.reset=function(){this.e=[];this.g&&Bf(this.g)};Eu.prototype.l=function(){for(;0<this.e.length&&fq(this.i);)gq(this.i),this.k(this.e.shift());0==this.e.length&&this.g&&Bf(this.g)};Eu.prototype.z=function(){J(this.j);J(this.g);Eu.G.z.call(this)};function Fu(a,b){Sd.call(this,"x",a);this.Fd=b}F(Fu,Sd);function Gu(a,b,c,d,e,f,g,l,k,p,r,u,w,B,z,y){K.call(this);this.j=a;this.ha=b;this.n=c;this.k=d;this.v=w||(c?"POST":"GET");this.w=p;this.A=e;this.o=f;this.X=g;this.H=l;this.P=k;this.Y=u;this.N=B;this.g=this.F=this.l=0;this.K=wb(z);this.S=y||3E4}F(Gu,K);var Hu=5E3*(.75+.5*Math.random());
Gu.prototype.R=function(a){this.l++;this.F=E();this.e=new Pn;this.D.hb(this.e,"complete",D(this.la,this));this.e.n=Math.max(0,this.Y);"text"!=this.w&&(this.e.l=Iu(this.w));var b=fc(this.ha+this.j,a.e.e),c={};zb(c,this.K,wb(a.g));this.e.R(b,this.v,this.n,c)};Gu.prototype.reset=ta;Gu.prototype.z=function(){se(this,"y");this.reset();delete this.o;delete this.A;Gu.G.z.call(this)};function Ju(a){Zj(this,a,"er",null)}F(Ju,Xj);Ju.e="er";Ju.prototype.getData=function(){return W(this,4)};function Ku(a){Zj(this,a,"xsrf",null)}F(Ku,Xj);Ku.e="xsrf";function Lu(a){return"text"==a.j&&null!=a.e&&0==(a.e||"").lastIndexOf(")]}'\n",0)&&(a=pj(a),va(a)&&(a=a[0],va(a)&&"er"==a[0]))?new Ju(a):null}function Mu(a){a=Lu(a);if(!a)return null;a=a.getData();return va(a)&&"xsrf"==a[0]?new Ku(a):null};function Nu(a,b,c,d,e,f,g,l){K.call(this);this.H=a;this.k=new Au(b,e,g);this.j=new Du(this.k);this.l=new uk(this);this.v=c||null;c&&this.l.ia(c,"r",this.se);this.e=d||new yo;this.F=l||null;this.A=new qq;this.g=[];this.w=[];this.n=new Eu(D(this.cf,this),f);this.o=Ko;this.D=new Fj;I(this,this.D);this.l.ia(this.j,"t",this.ke)}F(Nu,K);function kj(a,b){var c=a.H;b=new Ou(a,b,a,a.F,!0);c.e&&(b.q=c.e);b.i=a.k.j;return b}q=Nu.prototype;
q.R=function(a){if(!a.q()){var b=this.g;0<=Oa(b,a)||b.push(a);a:{b=this.n;if(b.i){if(!fq(b.i)||0!=b.e.length){b.e.push(a);Cf(b.g);break a}gq(b.i)}b.k(a)}this.l.hb(a,"y",this.He)}};q.cf=function(a){5<=this.e.e.e||(this.e.e==zo&&Ao(this.e,Co),this.l.hb(a,"x",this.nd),a.R(this.k))};
q.nd=function(a){var b=a.ea;a=a.Fd;"SOON"==a.q["x-restart"]&&Q(this.e.i,null);this.v&&Pu(a)&&1!=b.k&&this.v.log(Error("blank JSON response"),Qu(a));if("NOW"==a.q["x-restart"])var c=new tk("j",a.g,a.i);else if(7==a.g)c=null;else{c=a.g;var d=a.i;(0==a.g?0==c&&0==d&&("text"!=a.j||null==a.e):8==c||5==c||6==c&&(0>=d||503==d||405==d||Nc&&12001<=d&&12156>=d))?c="g":(c=a.i,c=6==a.g&&(202==c||401==c||403==c||409==c||429==c||500<=c&&599>=c&&503!=c&&550!=c)||400==c&&null!=Mu(a)||200==c&&(null==a.k||Lu(a)||Pu(a))?
"h":0==a.g?"f":"e");c=new tk(c,a.g,a.i,6==a.g&&500==a.i?Lu(a):null)}if(c){d=!0;if("f"==c.type){try{b.A(a),Ru(this,b)}catch(k){c=new tk("i",c.q,c.g),c.k=k,c.i="f",Ru(this,b,this.o)}b.Z()}else if("g"==c.type||"h"==c.type){var e=c,f=!1;if(200==e.g){var g=Lu(a);g&&"XSRF"==W(g,1)&&(Su(this,g.getData()),f=!0)}400==e.g&&(a=Mu(a))&&W(a,1)&&(Su(this,W(a,1)),f=!0);409==e.g&&this.k.k(null);a=5<=this.e.e.e;g="h"==e.type;a||!(f||1!=b.k&&4>b.l)?3==b.k?(a||(null==this.j.e||g?Tu(this,b,!0):this.w.push(b),Uu(this),
Ao(this.e,Vu(this,e.g),b.j)),a=2):a=1:(Tu(this,b,!1),a=3);switch(a){case 1:c.i=c.type;c.type="e";break;case 3:d=!1;break;case 2:c.j instanceof Ju&&W(c.j,2)}}else"j"==c.type&&(this.v&&this.v.V(Error("Incompatible server")),Ru(this,b,Jo),d=!1);if("e"==c.type){c.j instanceof Ju&&W(c.j,2);try{if(b.o(c),0==!b.X&&(d=!1),b.P)Ru(this,b);else{var l=b.H(c)||Vu(this,c.g);Ru(this,b,l)}}catch(k){c=new tk("i",c.q,c.g),c.k=k,c.i="e",Ru(this,b,this.o)}b.Z()}d&&se(this,c)}};
q.He=function(a){a=a.ea;if(0<=Oa(this.n.e,a)){var b=this.n;Va(b.e,a);0==b.e.length&&b.g&&Bf(b.g)}else 0<=Oa(this.g,a)&&(this.l.Yb(a,"x",this.nd),Ru(this,a));Va(this.g,a);Va(this.w,a)};
function Ru(a,b,c){var d=a.e.e,e=d,f=c||Eo;c=!c;Va(a.g,b);Va(a.w,b);Oa(a.n.e,b);if(!(5<=d.e))if(5<=f.e)Ao(a.e,f,b.j);else{var g=null!=a.j.e||Sa(a.g,function(a){return 3==a.k});if(d==Co)c||!g?0==a.g.length&&(e=zo):(Uu(a),e=f);else if(c)if(0<a.g.length)e=Do,Wu(a);else{if(null==a.j.e||a.j.e.i())e=zo}else e=f;Ao(a.e,e,b.j)}}function Uu(a){null!=a.j.e&&1==a.e.e.e&&(a=a.j,a.e.e(),a.e.g())}q.aa=n("e");
function Tu(a,b,c){var d=Hu;c&&0!=b.g&&(d=b.g<b.S?1.5*b.g:b.g);b.g=d;c=Math.max(0,d-(E()-b.F));a.A.Ha(D(a.R,a,b),c)}q.ke=function(a){var b=this.e.e;5<=b.e||(a.i?1!=b.e&&(0<this.g.length?(Ao(this.e,Do),Wu(this)):Ao(this.e,zo)):Ao(this.e,Vu(this,a.g),null,a.g))};function Wu(a){var b=a.w.shift();b&&a.R(b)}function Vu(a,b){return 401==b?Ho:403==b?Go:421==b?Io:202==b||405==b||409==b||429==b||500<=b&&599>=b&&550!=b?Fo:400<=b&&499>=b||550==b?a.o:Eo}
function Su(a,b){a=a.k;var c=a.e.e;c.at&&Bu(a,"at",b);c.xsrf&&Bu(a,"xsrf",b);Bu(a,"token",b)}q.se=function(){Ao(this.e,this.o)};q.z=function(){Nd(this.g);J(this.j);J(this.k);J(this.A);J(this.n);J(this.l);Nu.G.z.call(this)};function Xu(a){var b=this;H.call(this);this.i=a;this.e=new P;this.g=new Fj;I(this,this.g);Gj(this.g,a.g,function(a){1==a.i.e!=(1==a.g.e)&&Q(b.e,new Cj(1==a.g.e))})}F(Xu,H);Xu.prototype.isOnline=function(){return 1==this.i.e.e};var Yu=/\/d\/([^\/]+)/;function Zu(a){a=a.match(Xb)[5]||null;return Yu.test(a)};function $u(a,b,c){this.g=a;this.I=c;this.i="";this.e=void 0;this.l=null;this.H={};this.B=3;this.w=!1;this.j=ta;this.o=!1;this.k=ib;this.n=ta;this.v=-1;this.A=this.F=!1;this.q=new En}function jj(a,b,c){a.g=hc(a.g,b,c);return a}function Tk(a){a.A=!0;return a}function ij(a,b){a.e=b;return a}function Ro(a,b){a.e=b;return a}function Jj(a,b){b=rb(b,function(a){return A(a)?a:ue(a)});return ij(a,dc(b))}function Po(a){a.w=!0;return a}function nj(a,b){a.j=b;a.o=!1;return a}
function Qo(a,b){a.k=b;return a}function lj(a,b){a.B=b;return a}function oj(a,b){a.n=b;return a}$u.prototype.setTimeout=function(a){this.v=a;return this};function Oo(a){a.F=!0;return a}
function mj(a){a.F&&(A(a.e)||va(a.e));var b=a.v;0>b&&(b=a.J?4E4:2E4);var c=a.g,d=av(a);a:{if(va(a.e)){var e=a.e;try{if(O(M(),"docs-net-cbfd")&&v.FormData){for(var f=new v.FormData,g=0;g<e.length;g+=2)f.append(e[g],e[g+1]);var l=f}else l=cc(e);var k=l;break a}catch(p){if(p instanceof URIError&&"URI malformed"==p.message){b=[];for(c=1;c<e.length;c+=2)if(d=Zg(e[c].toString()))b.push(e[c-1]),b.push(d);e=b.toString().substr(0,100);a=bv(a).substr(0,100);throw hd(p,{illegal_request_content:e,request_uri:a});
}throw p;}}k=a.e}e=new cv(c,d,k,a.B,a.n,a.j,a.o,a.k,!1,"text",a.w,b,a.l,a.q,a.H,void 0);if(!a.D)throw Error("Trying to send a request without a request sender for - "+bv(a));a.D.R(e);return e}function bv(a){return av(a)+a.g}function av(a){if(a.A){if(a=a.i,Zu(a)){Zu(a);a=a.match(Xb);var b=a[5];b=b.replace(Yu,"");a=Wb(a[1],a[2],a[3],a[4],b,a[6],a[7])}}else a=a.i;return a};function dv(a,b,c,d,e,f,g,l){this.e=a;this.j=b||"text";this.k=/^[\s\xa0]*$/.test(Mb(c))?null:c;this.i=x(d)?d:200;this.q={};if(f)for(var k in f)this.q[k.toLowerCase()]=f[k];this.g=x(e)?e:0;this.I=g||{};this.B=l||null;this.l=void 0}function pj(a){x(a.l)||(a.l=Gn(a.e||"",a.B));return a.l}
function Qu(a){var b=a.i,c=a.g,d=a.j,e=a.k;if("text"==a.j){var f=a.e||"";f=-1!=f.indexOf("&")?"document"in v?Ib(f):Kb(f):f;50<f.length&&(f=f.substring(0,47)+"...");Hb.test(f)&&(-1!=f.indexOf("&")&&(f=f.replace(Bb,"&amp;")),-1!=f.indexOf("<")&&(f=f.replace(Cb,"&lt;")),-1!=f.indexOf(">")&&(f=f.replace(Db,"&gt;")),-1!=f.indexOf('"')&&(f=f.replace(Eb,"&quot;")),-1!=f.indexOf("'")&&(f=f.replace(Fb,"&#39;")),-1!=f.indexOf("\x00")&&(f=f.replace(Gb,"&#0;")));f+="   (truncated)"}else f="responseObject";b=
{RespStatus:b,RespErr:c,RespType:d,RespContentType:e,RespString:f};zb(b,a.I);return b}function Pu(a){if(200==a.i&&null!=a.k&&!Lu(a)&&"text"==a.j){if(/^[\s\xa0]*$/.test(Mb(a.e)))return!0;if(0==(a.e||"").lastIndexOf(")]}'\n",0))return null==pj(a)}return!1};function cv(a,b,c,d,e,f,g,l,k,p,r,u,w,B,z,y){Gu.call(this,a,b,c,d,e,f,g,l,k,p,r,u,w,B,z,y);this.e=null;this.D=new uk(this)}F(cv,Gu);
cv.prototype.la=function(){var a=this.e;var b="";var c=null;try{""==a.l?b=ao(a):b=bo(a),c=a.Rb("Content-Type")}catch(p){}var d=ev(a.l),e=a.aa(),f=a.j,g={};a=a.Qb().split("\r\n");for(var l=0;l<a.length;l++)if(!/^[\s\xa0]*$/.test(Mb(a[l]))){var k=a[l].split(": ");2==k.length&&(g[k[0]]=k[1])}b=new dv(b,d,c,e,f,g,{ReqUri:this.j,ReqContent:this.n,ReqMethod:this.v},this.N);this.reset();se(this,new Fu(this,b))};cv.prototype.reset=function(){this.e&&(this.e.Z(),this.e=null)};
cv.prototype.z=function(){J(this.D);cv.G.z.call(this)};function ev(a){switch(a){case "arraybuffer":return"arraybuffer";case "blob":return"blob";case "document":return"document";case "text":return"text";case "":return"text";default:throw Error("Unsupported Xhr Response Type - "+a);}}function Iu(a){switch(a){case "arraybuffer":return"arraybuffer";case "blob":return"blob";case "document":return"document";default:return""}};function Ou(a,b,c,d,e){$u.call(this,b,c,d);this.D=a;this.J=!!e}F(Ou,$u);function fv(){this.e=null};function gv(a,b,c,d,e){H.call(this);this.i=a;this.j=b;this.e=c;this.k=e;this.g=new uk(this);I(this,this.g)}F(gv,H);gv.prototype.l=function(a,b){this.e.V(Error(Eh(b)));a()};
gv.prototype.n=function(a,b,c,d){try{var e=pj(d)}catch(k){this.e.V(Error("Could not interpret result of /getappmetadata "+(d.e||"")));c();return}var f=e;if(f&&f.newModelCommands&&f.jobset){d=Qg(f.newModelCommands);e=f.jobset;var g=f.docosKeyData;f=f.version;var l=new am(this.i,!0);S(l,"jobset",e);l.i=d.concat();l.g=!0;g&&S(l,"docosKeyData",g);x(f)&&S(l,"version",f);d=l}else d=null;d?a.ka([d],b,D(this.l,this,c)):b()};gv.prototype.z=function(){gv.G.z.call(this);delete this.g;delete this.e};function hv(a,b,c){H.call(this);this.e=a;this.j=b;this.g=c}F(hv,H);hv.prototype.i=function(a,b){this.g.V(Error(Eh(b)));a()};hv.prototype.k=function(a,b,c,d){var e=Jg("docs-offline-nnodi");d<.9*e?(a=mj(lj(nj(oj(jj(kj(this.j,"/getids"),"num",String(e-d)),D(this.l,this,a,b,c)),c),2)),I(this,a)):b(0)};
hv.prototype.l=function(a,b,c,d){try{var e=pj(d)}catch(f){this.g.V(Error("Could not interpret result of /getids: "+(d.e||"")));c();return}e&&0!=e.length?(a=a.e.$a())?(c=D(this.i,this,c),a.k.pushUnusedDocumentIds(this.e,e,new zp(Ea(b,e.length)),Mp(c))):b(e.length):b(0)};function iv(a,b,c,d,e){H.call(this);this.j=a;this.g=new hv(a,b,c);this.e=new gv(a,b,c,d,e)}F(iv,H);iv.prototype.i=function(a,b,c,d){var e=Ea(b,d);b=this.e;d=Ea(e,!0);e=Ea(e,!1);a=lj(nj(oj(jj(kj(b.j,"/getappmetadata"),"smv",String(b.k)),D(b.n,b,a,d,e)),e),2);c&&jj(jj(a,"forcehl","1"),"hl",c);c=mj(a);I(b,c)};iv.prototype.toString=function(){return"EditorMetadataFetcher for "+this.j};iv.prototype.z=function(){J(this.g);delete this.g;J(this.e);delete this.e;iv.G.z.call(this)};Fa(h().prototype,h().prototype);function jv(){this.g=!1}F(jv,sj);jv.prototype.e=function(a,b,c,d,e){"labelpath"==c.entityType?(c=JSON.parse(c.path),a=new dm(b,a,"labelPath",c,!0),e.push(a)):jv.G.e.call(this,a,b,c,d,e)};function kv(a,b){Z.call(this,a||{},b)}F(kv,Z);kv.prototype.onSyncResult=kb(ta,0);kv.prototype.onSyncResult2=function(a){this.onSyncResult(a.getRequestId(),a.getSyncResult())};kv.prototype.fatalError=ta;function lv(a,b){this.Rc=a;this.e=b}lv.prototype.Gc=function(){return null!=this.Rc&&null==this.e};function mv(a){P.call(this);this.value=null;this.value=a}t(mv,P);function nv(a){mv.call(this,a)}t(nv,mv);function ov(){}t(ov,Of);function pv(a,b,c){var d=this;this.B=a;this.k=null;this.q=b;this.l=c;this.e={};this.i=[];this.I=new nv(!0);Qi(this.q,function(a){d.k=a;a=d.i;d.i=[];qv(d,a)})}
function Wq(a,b){for(var c=[],d=[],e={},f=0;f<b.length;e={Cc:e.Cc},f++){var g=fh(b[f].e),l=a.e[g];l?(e.Cc=b[f].e,l=Si(l,function(a){return function(b){b.Gc()&&(b=b.Rc,b=new lv(new kr(a.Cc,b.i,b.g),null));return b}}(e))):(c.push(b[f]),a.e[g]=l=Yi());d.push(l)}var k=Yi();ti(Ui(d,!1),function(a){for(var b=[],c={},d=0;d<a.length;d++){var e=a[d];if(!e.e)throw Error("Deferred result should always be successful after a whole flight.");e=e.g();e.Gc()?b.push(e.Rc):(e=e.e,c[fh(e)]=e)}V(k,new Hr(b,tb(c)))},
function(a){return k.errback(a)});rv(a);sv(a,c);return k}function sv(a,b){if(b.length){for(var c=Kr(a.B,b),d=[],e=0;e<b.length;e++)d.push(b[e].e);ti(c,function(b){var c=b.e;b=b.g;b.length&&a.j("Fetch failed",b,"Individual fetches failed.");b=[];for(var d=0;d<c.length;d++){var e=c[d];switch(e.g){case "sync-needed":b.push(e);break;case "sync-needed-non-blocking":b.push(e);a.g(e);break;case "sync-not-needed":a.g(e)}}qv(a,b)},function(b){a.j("Entire fetch failed",d,b?cj(b):null)})}}
function qv(a,b){if(1!=a.q.e)if(a.k)for(var c={},d=0;d<b.length;c={errback:c.errback,Nb:c.Nb},d++){var e=b[d],f=a.k.i(e);if("sync-needed"==e.g){var g=D(a.g,a);c.errback=D(a.j,a,"Local syncing of remote resource failed",[e.e]);ti(f,g,function(a){return function(b){b?a.errback(b.$()):a.errback(null)}}(c))}else g=ta,c.Nb=D(a.n,a,"Local non-blocking syncing of remote resource failed",[e.e]),ti(f,g,function(a){return function(b){b?a.Nb(b.$()):a.Nb(null)}}(c))}else for(c=0;c<b.length;c++)"sync-needed"==
b[c].g&&a.g(b[c]);else a.i=a.i.concat(b)}pv.prototype.g=function(a){var b=fh(a.e),c=this.e[b];c?(delete this.e[b],V(c,new lv(a,null))):(b={resultIdString:b},b.syncStatus=a.g,b.totalDeferreds=Object.keys(this.e).length,this.l.V(Error("Missing deferred for completed fetch result"),b));rv(this)};pv.prototype.n=h();pv.prototype.j=function(a,b){for(a=0;a<b.length;a++){var c=fh(b[a]),d=this.e[c];delete this.e[c];V(d,new lv(null,b[a]))}rv(this)};
function rv(a){var b=a.I;a=!ub(a.e).length;if(!Pf(b.value,a)){var c=b.value;b.value=a;Q(b,new ov(c,a))}};function tv(){}tv.prototype.e=ta;function uv(a,b){this.e=a;this.g=b}uv.prototype.i=function(a){a.errback("Sync update server error");this.e.log(Error("Sync update server error"))};uv.prototype.j=function(a,b){try{var c=Gn(b.e||"")}catch(f){a.errback("Could not interpret result of /sync/get");this.e.log(Error("Could not interpret result of /sync/get"));return}b=[];if(c)for(var d=0;d<c.length;d++){var e=c[d];try{b.push(e)}catch(f){a.errback("Invalid sync update");this.e.log(Error("Invalid sync update"));return}}a.e(b)};function vv(a,b){this.e=a;this.g=b};function wv(a,b,c){this.j=a;this.g=b;this.e=c||[]}wv.prototype.i=function(a){Gt(this.j,D(this.l,this,a||ta),Ea(a||ta,0))};wv.prototype.l=function(a,b){for(var c=[],d=0;d<b.length;d++){var e=new vv(Xh(b[d]),Em(b[d])),f={};f.keyPath=e.e;f.state=e.g;c.push(f)}b=[];for(d=0;d<this.g.length;d++)b.push(xv(this.g[d],c));c=ok(b);U(c,D(this.q,this,a));Di(c,null,Ea(a,0),void 0)};
wv.prototype.q=function(a,b){for(var c=[],d=0;d<b.length;d++)c.push.apply(c,b[d]);b=[];for(d=0;d<this.e.length;d++){var e=new T;Pr(this.e[d],c,D(e.e,e),D(e.errback,e));b.push(e)}b=new nk(b);U(b,D(this.k,this,a,c))};wv.prototype.k=function(a,b,c){for(var d=0,e=0;e<c.length;e++)c[e][0]||d++;a(b.length,0<d?d+" post processors failed.":null)};function yv(a,b){this.g=a;this.i=b}function xv(a,b){var c=new T,d=a.g,e=new T;b=["syncStates",ue(b)];d=ij(nj(oj(kj(d.g,"/sync/get"),D(d.j,d,e)),D(d.i,d,e)),cc(b));d.l="POST";mj(lj(d,2));U(e,D(a.e,a,c));a=D(c.errback,c);Di(e,null,a,void 0);return c}
yv.prototype.e=function(a,b){var c=this.i;a=D(a.e,a);for(var d=[],e=0;e<b.length;e++){var f=b[e],g=f.keyPath,l=f.state;f=f.data;if(!g||!l||!f)throw Error("Serialized SyncUpdate missing required key.");if(!g.length)throw Error("SyncUpdate key may not be empty.");d.push(zr(c,new sr(g,l,f)))}c.g&&c.g.ka(d,Ea(a,d))};function zv(a,b,c){this.j=b;this.g=a;this.k=c;this.e=!1}zv.prototype.i=function(a){if(!this.e){var b=this.j,c=this.g,d=c?c.e.Mb():null;c&&d?(b.g=new rr(c,d,b.j),c=b.g,d=D(b.k,b),b=D(b.e.errback,b.e),Gt(c.i,Ea(c.j,d),b)):b.e.e();this.e=!0}this.k.i(a)};function Av(){yu.call(this);this.v=[];this.l=this.i=null;this.w=!1;this.g=0;this.k=null;this.j=this.n=!1}F(Av,yu);q=Av.prototype;q.buildForKix=function(a,b){return Bv(this,"kix",a,b)};q.buildForRitz=function(a,b){return Bv(this,"ritz",a,b,"top","chunk",new sj(!0))};q.buildForPunch=function(a,b){return Bv(this,"punch",a,b,void 0,void 0,new jv)};q.buildForDrawings=function(a,b){return Bv(this,"drawing",a,b,void 0,void 0,new jv)};q.setSupportedFonts=m("v");q.setBlobTransporter=m("i");
q.setSupportsIncrementalXHRRead=m("w");q.setImageUrlRevoker=m("l");q.setSupportedModelVersion=m("g");q.setFirstChunkSize=m("k");q.setNonLatinInfrastructure=function(a,b){this.e.setAcceleratedNonLatinEnabled(a);this.e.setAcceleratedNonLatinSyncCheck(b)};q.setUseLatestTemplateMetadataIos=m("n");q.setEnableModelMetadataVersionParam=m("j");
function Bv(a,b,c,d,e,f,g){var l=new lk,k=new Jq(void 0,void 0,void 0,!1);k.g["docs.offline.mobilenative.SyncApplication"]="true";hu(a.e);var p=new kv(d,k);Lq(k,new Rq(p.fatalError,p));var r=zu(a,l,b,k);if(!r)throw Error("Incomplete sync application.");var u=new Nu(new fv);Cu(u.k,c);d=new iv(b,u,k,l,a.g);var w=r.e(function(){Ol(k,Error("Unexpected sync application localstore error"))});if(w.g)throw Error("Called setWritable on an already writable localstore.");w.g=!0;r=r.k();var B=null,z=null;r&&
(B=new ss(r),z=new ts(B));var y=null,N=null,oa=w.e.Mb()?new xr(k):null,ha=w.e.kc(),Ra=[dh()];if(ha&&r&&B){y=new Ir(u,k);var sa=Yi();N=new pv(y,sa,k);var xa=new Tq(new Xq(new Nr(a.v)));N=new Vq(xa,N,new tv);V(sa,new lr(w,B));sa=new Vr(w,r);xa=Fr().concat(Gr);O(M(),"docs-emfms")&&Ra.push("menu");var qc=null;qc=ch().e?"locale":"core";y=new ls(new es(ha,w.e.k,sa,y,N,xa,Ra,r,k,oa,qc),sa)}sa=ha=null;if(xa=w.e.Mb()){sa=new uv(k,u);var nb;N&&(nb=[new Or(N,Ra)]);ha=new zv(w,oa,new wv(xa,[new yv(sa,oa)],nb))}nb=
new Xu(new yo);a=new Kp(w,w.e.e,d,new fp(c,u,l,w,z,N,k,a.l,a.i,nb,a.w,a.g,a.k,a.j,e,f,g),p,b,y,ha,r,B,c,k,N,a.n);I(a,w);I(a,d);N&&I(a,N);return a};qa("createApplicationBuilder",function(){return new Av});}).call(this);
